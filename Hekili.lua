
HekiliDB = {
["namespaces"] = {
},
["profileKeys"] = {
["福音 - 萨格拉斯"] = "Default",
["那能一样吗 - 国王之谷"] = "Default",
["桀桀 - 萨格拉斯"] = "Default",
["你压力大吗 - 国王之谷"] = "Default",
},
["profiles"] = {
["Default"] = {
["displays"] = {
["Interrupts"] = {
["rel"] = "CENTER",
["y"] = -225.0000152587891,
["x"] = -55.00000381469727,
},
["Cooldowns"] = {
["rel"] = "CENTER",
},
["Primary"] = {
["y"] = -326.0524291992188,
["x"] = -1455.99560546875,
["rel"] = "CENTER",
},
["AOE"] = {
["rel"] = "CENTER",
},
["Defensives"] = {
["rel"] = "CENTER",
["y"] = -225.0000152587891,
["x"] = -110.0000076293945,
},
},
["runOnce"] = {
["removeOldThrottles_20241115"] = true,
["forceReloadClassDefaultOptions_20220306_252"] = true,
["forceReloadClassDefaultOptions_20220306_257"] = true,
["forceReloadClassDefaultOptions_20220306_256"] = true,
["forceReloadClassDefaultOptions_20220306_269"] = true,
["forceReloadAllDefaultPriorities_20220228"] = true,
["forceReloadClassDefaultOptions_20220306_250"] = true,
["forceReloadClassDefaultOptions_20220306_258"] = true,
["resetAberrantPackageDates_20190728_1"] = true,
["forceReloadClassDefaultOptions_20220306_270"] = true,
["forceReloadClassDefaultOptions_20220306_264"] = true,
["forceEnableAllClassesOnceDueToBug_20220225"] = true,
["forceReloadClassDefaultOptions_20220306_268"] = true,
["forceReloadClassDefaultOptions_20220306_251"] = true,
["fixHavocPriorityVersion_20240805"] = true,
["forceReloadClassDefaultOptions_20220306_263"] = true,
["forceReloadClassDefaultOptions_20220306_262"] = true,
["forceSpellFlashBrightness_20221030"] = true,
},
["specs"] = {
[251] = {
["settings"] = {
["dnd_while_moving"] = true,
["ams_usage"] = "damage",
},
},
[262] = {
["settings"] = {
["purge_icd"] = 12,
["hostile_dispel"] = false,
["stack_buffer"] = 1.1,
},
},
[252] = {
["settings"] = {
["dnd_while_moving"] = true,
["dps_shell"] = false,
},
},
[264] = {
["settings"] = {
["second_shield"] = "earth_shield",
["healing_mode"] = false,
},
},
[268] = {
["settings"] = {
["purify_stagger_currhp"] = 12,
["eh_percent"] = 65,
["purify_stagger_maxhp"] = 6,
["purify_for_celestial"] = true,
["bof_percent"] = 50,
["purify_for_niuzao"] = true,
["max_damage"] = true,
["vivify_percent"] = 65,
},
},
[269] = {
["settings"] = {
["sef_one_charge"] = false,
["dynamic_strike_of_the_windlord"] = false,
["cjl_capacitor_toggle"] = "none",
["check_wdp_range"] = false,
["allow_fsk"] = false,
["check_sck_range"] = false,
["use_diffuse"] = false,
["tok_damage"] = 1,
},
},
[270] = {
["settings"] = {
["aoe_rsk"] = false,
["single_zen_pulse"] = false,
["save_faeline"] = false,
},
},
[256] = {
["settings"] = {
["sw_death_protection"] = 50,
},
},
[257] = {
["settings"] = {
["sw_death_protection"] = 50,
},
},
[258] = {
["settings"] = {
["pad_void_bolt"] = true,
["hold_crash"] = 0,
["sw_death_protection"] = 50,
["pad_ascended_blast"] = true,
},
},
[250] = {
["settings"] = {
["death_strike_pool_amount"] = 65,
["save_blood_shield"] = true,
["dnd_while_moving"] = true,
["vb_damage"] = 50,
["ibf_damage"] = 40,
["rt_damage"] = 30,
},
["abilities"] = {
["death_strike"] = {
["disabled"] = true,
},
},
},
[263] = {
["settings"] = {
["purge_icd"] = 12,
["pad_lava_lash"] = true,
["filler_shock"] = true,
["funnel_priority"] = false,
["pwave_targets"] = 0,
["hostile_dispel"] = false,
["pwave_gcds"] = 4,
["pad_windstrike"] = true,
},
},
},
["toggles"] = {
["interrupts"] = {
["value"] = false,
},
["cooldowns"] = {
["value"] = false,
},
["defensives"] = {
["value"] = false,
},
},
["packs"] = {
["Windwalker"] = {
["source"] = "https://github.com/simulationcraft/simc/blob/thewrwithin/profiles/PreRaids/PR_Monk_Windwalker.simc",
["builtIn"] = true,
["date"] = 20250912,
["spec"] = 269,
["desc"] = "2025-09-12: Xuen fixes\n2025-08-22: Sync with SimC",
["lists"] = {
["fallback"] = {
{
["enabled"] = true,
["action"] = "spinning_crane_kick",
["description"] = "Fallback",
["criteria"] = "chi > 5 & combo_strike",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & chi > 3",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & chi > 5",
["action"] = "tiger_palm",
},
},
["default_cleave"] = {
{
["enabled"] = true,
["action"] = "rising_sun_kick",
["cycle_targets"] = 1,
["criteria"] = "buff.storm_earth_and_fire.remains > 13 & combo_strike",
["description"] = "2-4 targets",
},
{
["enabled"] = true,
["criteria"] = "talent.gale_force.enabled & cooldown.invoke_xuen_the_white_tiger.remains > 10 & set_bonus.tww3_2pc & ! talent.flurry_strikes.enabled",
["action"] = "strike_of_the_windlord",
},
{
["enabled"] = true,
["criteria"] = "set_bonus.tww3_2pc & talent.celestial_conduit.enabled & variable.small_hotjs_active & ! talent.flurry_strikes.enabled",
["action"] = "slicing_winds",
},
{
["enabled"] = true,
["criteria"] = "buff.dance_of_chiji.stack = 2 & combo_strike",
["action"] = "spinning_crane_kick",
},
{
["enabled"] = true,
["action"] = "whirling_dragon_punch",
["criteria"] = "variable.small_hotjs_active & buff.dance_of_chiji.stack < 2",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "rising_sun_kick",
["criteria"] = "buff.pressure_point.up & active_enemies < 4 & cooldown.fists_of_fury.remains > 4",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "rising_sun_kick",
["criteria"] = "cooldown.whirling_dragon_punch.remains < 2 & cooldown.fists_of_fury.remains > 1 & buff.dance_of_chiji.stack < 2",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "spinning_crane_kick",
["criteria"] = "combo_strike & buff.dance_of_chiji.stack = 2 & active_enemies > 3",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "combo_strike & ( energy > 55 & talent.inner_peace.enabled || energy > 60 & ! talent.inner_peace.enabled ) & combo_strike & chi.max - chi >= 2 & buff.teachings_of_the_monastery.stack < buff.teachings_of_the_monastery.max_stack & ( talent.energy_burst.enabled & ! buff.bok_proc.up || ! talent.energy_burst.enabled ) & ! buff.ordered_elements.up || ( talent.energy_burst.enabled & ! buff.bok_proc.up || ! talent.energy_burst.enabled ) & ! buff.ordered_elements.up & ! cooldown.fists_of_fury.remains & chi < 3 || ( prev.strike_of_the_windlord || cooldown.strike_of_the_windlord.remains ) & cooldown.celestial_conduit.remains < 2 & buff.ordered_elements.up & chi < 5 & combo_strike || ( ! variable.small_hotjs_active || ! buff.heart_of_the_jade_serpent_cdr_celestial.up ) & combo_strike & chi.deficit >= 2 & ! buff.ordered_elements.up",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["criteria"] = "! variable.small_hotjs_active & ! buff.heart_of_the_jade_serpent_cdr_celestial.up",
["action"] = "touch_of_death",
},
{
["enabled"] = true,
["action"] = "whirling_dragon_punch",
["criteria"] = "variable.small_hotjs_active & buff.dance_of_chiji.stack < 2",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "whirling_dragon_punch",
["criteria"] = "buff.dance_of_chiji.stack < 2",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "variable.small_hotjs_active || buff.heart_of_the_jade_serpent_cdr_celestial.up",
["action"] = "slicing_winds",
},
{
["enabled"] = true,
["criteria"] = "buff.storm_earth_and_fire.up & debuff.gale_force.remains < 5 & cooldown.strike_of_the_windlord.remains & ( ! buff.heart_of_the_jade_serpent_cdr.up || debuff.gale_force.remains < 5 ) & ( talent.xuens_bond.enabled || ! talent.xuens_bond.enabled & buff.invokers_delight.up ) || boss & fight_remains < 15 || buff.invokers_delight.up & cooldown.strike_of_the_windlord.remains & buff.storm_earth_and_fire.remains < 8",
["action"] = "celestial_conduit",
},
{
["enabled"] = true,
["action"] = "rising_sun_kick",
["criteria"] = "buff.invoke_xuen_the_white_tiger.down & prev.tiger_palm & time < 5 || variable.small_hotjs_active & buff.pressure_point.up & cooldown.fists_of_fury.remains & ( talent.glory_of_the_dawn.enabled || active_enemies < 3 )",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "fists_of_fury",
["criteria"] = "combo_strike & buff.heart_of_the_jade_serpent_cdr_celestial.up || variable.small_hotjs_active",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "whirling_dragon_punch",
["criteria"] = "buff.heart_of_the_jade_serpent_cdr_celestial.up",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "strike_of_the_windlord",
["criteria"] = "talent.gale_force.enabled & buff.invokers_delight.up & ( buff.bloodlust.up || ! buff.heart_of_the_jade_serpent_cdr_celestial.up )",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "fists_of_fury",
["criteria"] = "buff.power_infusion.up & buff.bloodlust.up",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "rising_sun_kick",
["criteria"] = "buff.power_infusion.up & buff.bloodlust.up & active_enemies < 3",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "buff.teachings_of_the_monastery.stack = 8 & ( active_enemies < 3 || talent.shadowboxing_treads.enabled )",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & buff.storm_earth_and_fire.remains > 2 & talent.flurry_strikes.enabled & ! talent.xuens_battlegear.enabled & set_bonus.tww3_4pc",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["action"] = "whirling_dragon_punch",
["criteria"] = "! talent.revolving_whirl.enabled || talent.revolving_whirl.enabled & buff.dance_of_chiji.stack < 2 & active_enemies > 2 || active_enemies < 3",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "time > 5 & ( cooldown.invoke_xuen_the_white_tiger.remains > 15 || talent.flurry_strikes.enabled ) & ( cooldown.fists_of_fury.remains < 2 || cooldown.celestial_conduit.remains < 10 )",
["action"] = "strike_of_the_windlord",
},
{
["action"] = "slicing_winds",
["enabled"] = true,
},
{
["enabled"] = true,
["action"] = "crackling_jade_lightning",
["criteria"] = "buff.the_emperors_capacitor.stack > 19 & combo_strike & talent.power_of_the_thunder_king.enabled & cooldown.invoke_xuen_the_white_tiger.remains > 10",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "spinning_crane_kick",
["criteria"] = "combo_strike & buff.dance_of_chiji.stack = 2",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "combo_strike & energy.time_to_max <= gcd.max * 3 & talent.flurry_strikes.enabled & active_enemies < 5 & buff.wisdom_of_the_wall_flurry.up & active_enemies < 4",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["action"] = "fists_of_fury",
["criteria"] = "( talent.flurry_strikes.enabled || talent.xuens_battlegear.enabled || ! talent.xuens_battlegear.enabled & ( cooldown.strike_of_the_windlord.remains > 1 || variable.small_hotjs_active || buff.heart_of_the_jade_serpent_cdr_celestial.up ) ) & ( talent.flurry_strikes.enabled || talent.xuens_battlegear.enabled & ( cooldown.invoke_xuen_the_white_tiger.remains > 5 || cooldown.invoke_xuen_the_white_tiger.remains > 9 ) || cooldown.invoke_xuen_the_white_tiger.remains > 10 )",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "combo_strike & energy.time_to_max <= gcd.max * 3 & talent.flurry_strikes.enabled & active_enemies < 5 & buff.wisdom_of_the_wall_flurry.up",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["action"] = "spinning_crane_kick",
["criteria"] = "combo_strike & buff.dance_of_chiji.up & buff.chi_energy.stack > 29",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "rising_sun_kick",
["criteria"] = "chi > 4 & ( active_enemies < 3 || talent.glory_of_the_dawn.enabled ) || chi > 2 & energy > 50 & ( active_enemies < 3 || talent.glory_of_the_dawn.enabled ) || cooldown.fists_of_fury.remains > 2 & ( active_enemies < 3 || talent.glory_of_the_dawn.enabled )",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "talent.shadowboxing_treads.enabled & talent.courageous_impulse.enabled & combo_strike & buff.bok_proc.stack = 2",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "buff.teachings_of_the_monastery.stack = 4 & ! talent.knowledge_of_the_broken_temple.enabled & talent.shadowboxing_treads.enabled & active_enemies < 3",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["action"] = "spinning_crane_kick",
["criteria"] = "combo_strike & buff.dance_of_chiji.up",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "talent.shadowboxing_treads.enabled & talent.courageous_impulse.enabled & combo_strike & buff.bok_proc.up",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & energy.time_to_max <= gcd.max * 3 & talent.flurry_strikes.enabled & active_enemies < 5",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & chi.deficit >= 2 & ( ! buff.ordered_elements.up || energy.time_to_max <= gcd.max * 3 )",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & cooldown.fists_of_fury.remains & buff.teachings_of_the_monastery.stack > 3 & cooldown.rising_sun_kick.remains",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "talent.Singularly_Focused_Jade.enabled || talent.jadefire_harmony.enabled",
["action"] = "jadefire_stomp",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & cooldown.fists_of_fury.remains & ( buff.teachings_of_the_monastery.stack > 3 || buff.ordered_elements.up ) & ( talent.shadowboxing_treads.enabled || buff.bok_proc.up || buff.ordered_elements.up )",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["action"] = "spinning_crane_kick",
["criteria"] = "combo_strike & ! buff.ordered_elements.up & talent.crane_vortex.enabled & active_enemies > 2 & chi > 4",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "! buff.ordered_elements.up",
["action"] = "chi_burst",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & ( buff.ordered_elements.up || buff.bok_proc.up & chi.deficit >= 1 & talent.energy_burst.enabled ) & cooldown.fists_of_fury.remains",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & cooldown.fists_of_fury.remains & ( chi > 2 || energy > 60 || buff.bok_proc.up )",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "debuff.acclamation.stack",
["action"] = "jadefire_stomp",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & buff.ordered_elements.up & chi.deficit >= 1",
["action"] = "tiger_palm",
},
{
["action"] = "chi_burst",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "combo_strike & buff.ordered_elements.up & talent.hit_combo.enabled",
["action"] = "spinning_crane_kick",
},
{
["enabled"] = true,
["criteria"] = "buff.ordered_elements.up & ! talent.hit_combo.enabled & cooldown.fists_of_fury.remains",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & ! cooldown.fists_of_fury.remains & prev.tiger_palm",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "prev.tiger_palm & chi < 3 & ! cooldown.fists_of_fury.remains",
["action"] = "tiger_palm",
},
},
["default_aoe"] = {
{
["enabled"] = true,
["action"] = "tiger_palm",
["description"] = ">=5 Targets",
["criteria"] = "( energy > 55 & talent.inner_peace.enabled || energy > 60 & ! talent.inner_peace.enabled ) & combo_strike & chi.max - chi >= 2 & buff.teachings_of_the_monastery.stack < buff.teachings_of_the_monastery.max_stack & ( talent.energy_burst.enabled & ! buff.bok_proc.up ) & ! buff.ordered_elements.up || ( talent.energy_burst.enabled & ! buff.bok_proc.up ) & ! buff.ordered_elements.up & ! cooldown.fists_of_fury.remains & chi < 3 || ( prev.strike_of_the_windlord || cooldown.strike_of_the_windlord.remains ) & cooldown.celestial_conduit.remains < 2 & buff.ordered_elements.up & chi < 5 & combo_strike",
},
{
["enabled"] = true,
["criteria"] = "! variable.small_hotjs_active & ! buff.heart_of_the_jade_serpent_cdr_celestial.up",
["action"] = "touch_of_death",
},
{
["enabled"] = true,
["criteria"] = "talent.gale_force.enabled & cooldown.invoke_xuen_the_white_tiger.remains > 10 & set_bonus.tww3_2pc & ! talent.flurry_strikes.enabled",
["action"] = "strike_of_the_windlord",
},
{
["enabled"] = true,
["criteria"] = "set_bonus.tww3_2pc & talent.celestial_conduit.enabled & variable.small_hotjs_active & ! talent.flurry_strikes.enabled",
["action"] = "slicing_winds",
},
{
["enabled"] = true,
["action"] = "spinning_crane_kick",
["criteria"] = "buff.dance_of_chiji.stack = 2 & combo_strike",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "spinning_crane_kick",
["criteria"] = "combo_strike & buff.chi_energy.stack > 29 & cooldown.fists_of_fury.remains < 5",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "whirling_dragon_punch",
["criteria"] = "buff.dance_of_chiji.stack < 2",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "combo_strike & buff.storm_earth_and_fire.remains > 2 & talent.flurry_strikes.enabled & energy.time_to_max <= gcd.max * 3 & cooldown.fists_of_fury.remains & ( ! talent.xuens_battlegear.enabled || chi < 6 ) & set_bonus.tww3_4pc",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["criteria"] = "variable.small_hotjs_active || buff.heart_of_the_jade_serpent_cdr_celestial.up",
["action"] = "slicing_winds",
},
{
["enabled"] = true,
["criteria"] = "buff.storm_earth_and_fire.up & cooldown.strike_of_the_windlord.remains & ( ! variable.small_hotjs_active || debuff.gale_force.remains < 5 ) & ( talent.xuens_bond.enabled || ! talent.xuens_bond.enabled & buff.invokers_delight.up ) || boss & fight_remains < 15 || buff.invokers_delight.up & cooldown.strike_of_the_windlord.remains & buff.storm_earth_and_fire.remains < 8",
["action"] = "celestial_conduit",
},
{
["enabled"] = true,
["action"] = "fists_of_fury",
["criteria"] = "combo_strike & buff.heart_of_the_jade_serpent_cdr_celestial.up || variable.small_hotjs_active",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "rising_sun_kick",
["criteria"] = "cooldown.whirling_dragon_punch.remains < 2 & cooldown.fists_of_fury.remains > 1 & buff.dance_of_chiji.stack < 2 || ! buff.storm_earth_and_fire.up & buff.pressure_point.up",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "combo_strike & buff.storm_earth_and_fire.remains > 2 & talent.flurry_strikes.enabled & energy.time_to_max <= gcd.max * 3 & set_bonus.tww3_4pc",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["action"] = "whirling_dragon_punch",
["criteria"] = "! talent.revolving_whirl.enabled || talent.revolving_whirl.enabled & buff.dance_of_chiji.stack < 2 & active_enemies > 2",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "combo_strike & buff.bok_proc.up & chi < 2 & talent.energy_burst.enabled & energy < 55",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["action"] = "strike_of_the_windlord",
["criteria"] = "( time > 5 || buff.invokers_delight.up & buff.storm_earth_and_fire.up ) & ( cooldown.invoke_xuen_the_white_tiger.remains > 15 || talent.flurry_strikes.enabled )",
["cycle_targets"] = 1,
},
{
["action"] = "slicing_winds",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "buff.teachings_of_the_monastery.stack = 8 & talent.shadowboxing_treads.enabled",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["action"] = "crackling_jade_lightning",
["criteria"] = "buff.the_emperors_capacitor.stack > 19 & combo_strike & talent.power_of_the_thunder_king.enabled & cooldown.invoke_xuen_the_white_tiger.remains > 10",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "fists_of_fury",
["criteria"] = "( talent.flurry_strikes.enabled || talent.xuens_battlegear.enabled & ( cooldown.invoke_xuen_the_white_tiger.remains > 5 || cooldown.invoke_xuen_the_white_tiger.remains > 9 ) || cooldown.invoke_xuen_the_white_tiger.remains > 10 )",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "combo_strike & energy.time_to_max <= gcd.max * 3 & talent.flurry_strikes.enabled & buff.wisdom_of_the_wall_flurry.up & chi < 6",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["action"] = "spinning_crane_kick",
["criteria"] = "combo_strike & chi > 5",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "spinning_crane_kick",
["criteria"] = "combo_strike & buff.dance_of_chiji.up & buff.chi_energy.stack > 29 & cooldown.fists_of_fury.remains < 5",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "buff.pressure_point.up & cooldown.fists_of_fury.remains > 2",
["action"] = "rising_sun_kick",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & buff.storm_earth_and_fire.remains > 2 & talent.flurry_strikes.enabled & active_enemies > 5 & set_bonus.tww3_4pc",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["criteria"] = "talent.shadowboxing_treads.enabled & talent.courageous_impulse.enabled & combo_strike & buff.bok_proc.stack = 2",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["action"] = "spinning_crane_kick",
["criteria"] = "combo_strike & buff.dance_of_chiji.up",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "spinning_crane_kick",
["criteria"] = "combo_strike & buff.ordered_elements.up & talent.crane_vortex.enabled & active_enemies > 2",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "combo_strike & energy.time_to_max <= gcd.max * 3 & talent.flurry_strikes.enabled & buff.ordered_elements.up",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & chi.deficit >= 2 & ( ! buff.ordered_elements.up || energy.time_to_max <= gcd.max * 3 )",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["action"] = "jadefire_stomp",
["criteria"] = "talent.Singularly_Focused_Jade.enabled || talent.jadefire_harmony.enabled",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "spinning_crane_kick",
["criteria"] = "combo_strike & ! buff.ordered_elements.up & talent.crane_vortex.enabled & active_enemies > 2 & chi > 4",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "combo_strike & cooldown.fists_of_fury.remains & ( buff.teachings_of_the_monastery.stack > 3 || buff.ordered_elements.up ) & ( talent.shadowboxing_treads.enabled || buff.bok_proc.up )",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & ! cooldown.fists_of_fury.remains & chi < 3",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "talent.shadowboxing_treads.enabled & talent.courageous_impulse.enabled & combo_strike & buff.bok_proc.up",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & ( chi > 3 || energy > 55 )",
["action"] = "spinning_crane_kick",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & ( buff.ordered_elements.up || buff.bok_proc.up & chi.deficit >= 1 & talent.energy_burst.enabled ) & cooldown.fists_of_fury.remains",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & cooldown.fists_of_fury.remains & ( chi > 2 || energy > 60 || buff.bok_proc.up )",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "debuff.acclamation.stack",
["action"] = "jadefire_stomp",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & buff.ordered_elements.up & chi.deficit >= 1",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["criteria"] = "! buff.ordered_elements.up",
["action"] = "chi_burst",
},
{
["action"] = "chi_burst",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "combo_strike & buff.ordered_elements.up & talent.hit_combo.enabled",
["action"] = "spinning_crane_kick",
},
{
["enabled"] = true,
["criteria"] = "buff.ordered_elements.up & ! talent.hit_combo.enabled & cooldown.fists_of_fury.remains",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "prev.tiger_palm & chi < 3 & ! cooldown.fists_of_fury.remains",
["action"] = "tiger_palm",
},
},
["default"] = {
{
["action"] = "spear_hand_strike",
["enabled"] = true,
},
{
["enabled"] = true,
["action"] = "potion",
["description"] = "Potion",
["criteria"] = "buff.invoke_xuen_the_white_tiger.up & buff.storm_earth_and_fire.up",
},
{
["enabled"] = true,
["criteria"] = "! talent.invoke_xuen_the_white_tiger.enabled & buff.storm_earth_and_fire.up",
["action"] = "potion",
},
{
["enabled"] = true,
["criteria"] = "boss & fight_remains <= 30",
["action"] = "potion",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "buff.heart_of_the_jade_serpent_cdr.up || buff.heart_of_the_jade_serpent_tww3_tier.up",
["var_name"] = "small_hotjs_active",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "fight_remains > 6 & ( cooldown.rising_sun_kick.remains || active_enemies > 2 || ! talent.ordered_elements.enabled ) & ( buff.invoke_xuen_the_white_tiger.remains > 15 || ( talent.celestial_conduit.enabled || ! talent.last_emperors_capacitor.enabled ) & buff.bloodlust.up & ( cooldown.strike_of_the_windlord.remains < 5 || ! talent.strike_of_the_windlord.enabled ) & talent.sequenced_strikes.enabled || buff.invokers_delight.remains > 15 || ( cooldown.strike_of_the_windlord.remains < 5 || ! talent.strike_of_the_windlord.enabled ) & cooldown.storm_earth_and_fire.full_recharge_time < cooldown.invoke_xuen_the_white_tiger.remains & cooldown.fists_of_fury.remains < 5 & ( ! talent.last_emperors_capacitor.enabled || talent.celestial_conduit.enabled ) || talent.last_emperors_capacitor.enabled & buff.the_emperors_capacitor.stack > 17 & cooldown.invoke_xuen_the_white_tiger.remains > cooldown.storm_earth_and_fire.full_recharge_time ) || boss & fight_remains < 30 & cooldown.invoke_xuen_the_white_tiger.remains > 10 & ( cooldown.rising_sun_kick.remains || active_enemies > 1 ) || buff.invokers_delight.remains > 15 & ( cooldown.rising_sun_kick.remains || active_enemies > 2 || ! talent.ordered_elements.enabled ) || buff.bloodlust.up & ( cooldown.rising_sun_kick.remains || active_enemies > 2 || ! talent.ordered_elements.enabled ) & talent.celestial_conduit.enabled & time > 10",
["description"] = "Define Variables for CD Management",
["var_name"] = "sef_condition",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "active_enemies = 1 & ( time < 10 || talent.xuens_bond.enabled & talent.celestial_conduit.enabled ) || active_enemies > 1 & cooldown.storm_earth_and_fire.ready & fight_remains > 14 & ( active_enemies > 2 || debuff.acclamation.up || ! talent.ordered_elements.enabled & time < 5 ) & ( chi > 2 & talent.ordered_elements.enabled || chi > 5 || chi > 3 & energy < 50 || energy < 50 & active_enemies = 1 || prev.tiger_palm & ! talent.ordered_elements.enabled & time < 5 ) || time > 50 & ( fight_remains > 10 & talent.xuens_bond.enabled || fight_remains > 20 ) || buff.storm_earth_and_fire.remains > 5 || boss & fight_remains < 30",
["var_name"] = "xuen_condition",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["use_off_gcd"] = 1,
["description"] = "Use Trinkets",
["list_name"] = "trinkets",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["description"] = "Opener",
["criteria"] = "time < 4 & active_enemies < 3",
["list_name"] = "normal_opener",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["description"] = "Use Cooldowns",
["strict"] = 1,
["criteria"] = "talent.storm_earth_and_fire.enabled",
["list_name"] = "cooldowns",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["description"] = "Default Priority",
["strict"] = 1,
["criteria"] = "active_enemies >= 5",
["list_name"] = "default_aoe",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "active_enemies > 1 & active_enemies < 5",
["list_name"] = "default_cleave",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "active_enemies < 2",
["list_name"] = "default_st",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["list_name"] = "fallback",
},
{
["enabled"] = true,
["criteria"] = "chi < chi.max & energy < 55",
["action"] = "arcane_torrent",
},
{
["enabled"] = true,
["criteria"] = "buff.storm_earth_and_fire.down",
["action"] = "bag_of_tricks",
},
{
["enabled"] = true,
["criteria"] = "buff.storm_earth_and_fire.down",
["action"] = "lights_judgment",
},
{
["enabled"] = true,
["criteria"] = "buff.storm_earth_and_fire.down",
["action"] = "haymaker",
},
{
["enabled"] = true,
["criteria"] = "buff.storm_earth_and_fire.down",
["action"] = "arcane_pulse",
},
},
["precombat"] = {
{
["enabled"] = true,
["name"] = "imperfect_ascendancy_serum",
["action"] = "imperfect_ascendancy_serum",
},
},
["cooldowns"] = {
{
["enabled"] = true,
["criteria"] = "fight_remains > 14 & cooldown.invoke_xuen_the_white_tiger.remains > 0 & ( chi < 5 & ! talent.ordered_elements.enabled || chi < 3 ) & ( combo_strike || ! talent.hit_combo.enabled )",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["action"] = "invoke_xuen_the_white_tiger",
["criteria"] = "set_bonus.tww3_2pc & talent.celestial_conduit.enabled & cooldown.strike_of_the_windlord.remains < 3 & ( fight_remains > 12 || ! talent.xuens_bond.enabled & fight_remains > 8 ) & ( chi > 2 & talent.ordered_elements.enabled || chi > 5 || chi > 3 & energy < 50 || energy < 50 & active_enemies = 1 || prev.tiger_palm & ! talent.ordered_elements.enabled & time < 5 )",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "invoke_xuen_the_white_tiger",
["criteria"] = "! set_bonus.tww3_2pc || ! talent.celestial_conduit.enabled & variable.xuen_condition",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "storm_earth_and_fire",
["criteria"] = "talent.flurry_strikes.enabled & cooldown.invoke_xuen_the_white_tiger.remains & buff.bloodlust.up & cooldown.rising_sun_kick.remains",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "storm_earth_and_fire",
["criteria"] = "variable.sef_condition",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "storm_earth_and_fire",
["criteria"] = "active_enemies = 1 & talent.flurry_strikes.enabled & boss & fight_remains < 60 & cooldown.invoke_xuen_the_white_tiger.remains > fight_remains & cooldown.rising_sun_kick.remains & buff.the_emperors_capacitor.stack > 15",
["cycle_targets"] = 1,
},
{
["action"] = "touch_of_karma",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "buff.invoke_xuen_the_white_tiger.remains > 15 || ! talent.invoke_xuen_the_white_tiger.enabled & ( ! talent.storm_earth_and_fire.enabled & ( cooldown.strike_of_the_windlord.ready || ! talent.strike_of_the_windlord.enabled & cooldown.fists_of_fury.ready ) || buff.storm_earth_and_fire.remains > 10 ) || boss & fight_remains < 20",
["action"] = "ancestral_call",
},
{
["enabled"] = true,
["criteria"] = "buff.invoke_xuen_the_white_tiger.remains > 15 || ! talent.invoke_xuen_the_white_tiger.enabled & ( ! talent.storm_earth_and_fire.enabled & ( cooldown.strike_of_the_windlord.ready || ! talent.strike_of_the_windlord.enabled & cooldown.fists_of_fury.ready ) || buff.storm_earth_and_fire.remains > 10 ) || boss & fight_remains < 20",
["action"] = "blood_fury",
},
{
["enabled"] = true,
["criteria"] = "buff.invoke_xuen_the_white_tiger.remains > 15 || ! talent.invoke_xuen_the_white_tiger.enabled & ( ! talent.storm_earth_and_fire.enabled & ( cooldown.strike_of_the_windlord.ready || ! talent.strike_of_the_windlord.enabled & cooldown.fists_of_fury.ready ) || buff.storm_earth_and_fire.remains > 10 ) || boss & fight_remains < 20",
["action"] = "fireblood",
},
{
["enabled"] = true,
["criteria"] = "buff.invoke_xuen_the_white_tiger.remains > 15 || ! talent.invoke_xuen_the_white_tiger.enabled & ( ! talent.storm_earth_and_fire.enabled & ( cooldown.strike_of_the_windlord.ready || ! talent.strike_of_the_windlord.enabled & cooldown.fists_of_fury.ready ) || buff.storm_earth_and_fire.remains > 10 ) || boss & fight_remains < 20",
["action"] = "berserking",
},
},
["trinkets"] = {
{
["enabled"] = true,
["action"] = "trinket1",
["slot"] = "trinket1",
["criteria"] = "trinket.t1.has_use_buff & trinket.t2.has_use_buff & buff.invoke_xuen_the_white_tiger.up & invoke_xuen_count % 2 || boss & fight_remains < 20",
["description"] = "Double on Use Stats",
},
{
["enabled"] = true,
["action"] = "trinket2",
["criteria"] = "trinket.t1.has_use_buff & trinket.t2.has_use_buff & buff.invoke_xuen_the_white_tiger.up || boss & fight_remains < 20",
["slot"] = "trinket2",
},
{
["enabled"] = true,
["action"] = "trinket1",
["slot"] = "trinket1",
["criteria"] = "trinket.t1.has_use_buff & ! trinket.t2.has_use_buff & buff.invoke_xuen_the_white_tiger.up || boss & fight_remains < 20",
["description"] = "Trinket 1 On use Stats",
},
{
["enabled"] = true,
["action"] = "trinket2",
["criteria"] = "trinket.t1.has_use_buff & ! trinket.t2.has_use_buff & cooldown.invoke_xuen_the_white_tiger.remains > 30 || boss & fight_remains < 20",
["slot"] = "trinket2",
},
{
["enabled"] = true,
["action"] = "trinket1",
["slot"] = "trinket1",
["criteria"] = "! trinket.t1.has_use_buff & trinket.t2.has_use_buff & cooldown.invoke_xuen_the_white_tiger.remains > 30 || boss & fight_remains < 20",
["description"] = "Trinket 2 On use Stats",
},
{
["enabled"] = true,
["action"] = "trinket2",
["criteria"] = "! trinket.t1.has_use_buff & trinket.t2.has_use_buff & buff.invoke_xuen_the_white_tiger.up || boss & fight_remains < 20",
["slot"] = "trinket2",
},
{
["enabled"] = true,
["action"] = "trinket1",
["slot"] = "trinket1",
["criteria"] = "! trinket.t1.has_use_buff & ! trinket.t2.has_use_buff",
["description"] = "No Stat on Use",
},
{
["enabled"] = true,
["action"] = "trinket2",
["criteria"] = "! trinket.t1.has_use_buff & ! trinket.t2.has_use_buff",
["slot"] = "trinket2",
},
{
["enabled"] = true,
["action"] = "main_hand",
["description"] = "Use Weapon",
["slot"] = "main_hand",
},
},
["normal_opener"] = {
{
["enabled"] = true,
["action"] = "tiger_palm",
["description"] = "normal opener",
["criteria"] = "chi < 6 & combo_strike",
},
{
["enabled"] = true,
["criteria"] = "talent.ordered_elements.enabled",
["action"] = "rising_sun_kick",
},
},
["default_st"] = {
{
["enabled"] = true,
["action"] = "rising_sun_kick",
["description"] = "1 target",
["criteria"] = "combo_strike & buff.pressure_point.up & variable.small_hotjs_active",
},
{
["enabled"] = true,
["criteria"] = "set_bonus.tww3_2pc & talent.celestial_conduit.enabled & variable.small_hotjs_active",
["action"] = "slicing_winds",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & ! cooldown.celestial_conduit.remains & buff.pressure_point.up & chi < 5 & time < 10",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & ( buff.pressure_point.up & ! variable.small_hotjs_active & buff.heart_of_the_jade_serpent_cdr_celestial.up || buff.invokers_delight.up || buff.bloodlust.up || buff.pressure_point.up & cooldown.fists_of_fury.remains )",
["action"] = "rising_sun_kick",
},
{
["enabled"] = true,
["action"] = "tiger_palm",
["criteria"] = "chi < 5 & combo_strike & ! variable.small_hotjs_active & ! buff.heart_of_the_jade_serpent_cdr_celestial.up & energy.time_to_max <= gcd.max * 3",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "combo_strike & buff.storm_earth_and_fire.remains > 2 & talent.flurry_strikes.enabled & set_bonus.tww3_4pc",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & buff.storm_earth_and_fire.remains & talent.flurry_strikes.enabled & set_bonus.tww3_4pc & ! buff.bloodlust.up",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["criteria"] = "! buff.heart_of_the_jade_serpent_cdr_celestial.up & ! buff.dance_of_chiji.stack = 2 & ! set_bonus.tww3_2pc",
["action"] = "whirling_dragon_punch",
},
{
["enabled"] = true,
["criteria"] = "buff.storm_earth_and_fire.up & ( ! buff.heart_of_the_jade_serpent_cdr.up || debuff.gale_force.remains < 5 ) & cooldown.strike_of_the_windlord.remains & ( talent.xuens_bond.enabled || ! talent.xuens_bond.enabled & buff.invokers_delight.up ) || buff.invokers_delight.up & cooldown.strike_of_the_windlord.remains & buff.storm_earth_and_fire.remains < 8 || boss & fight_remains < 10",
["action"] = "celestial_conduit",
},
{
["enabled"] = true,
["action"] = "tiger_palm",
["criteria"] = "chi < 5 & combo_strike & variable.small_hotjs_active & ! buff.heart_of_the_jade_serpent_cdr_celestial.up & energy.time_to_max <= gcd.max * 3 & ! buff.invokers_delight.up & ! buff.bloodlust.up & ! buff.storm_earth_and_fire.up",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "combo_strike & buff.heart_of_the_jade_serpent_cdr_celestial.up || variable.small_hotjs_active",
["action"] = "fists_of_fury",
},
{
["enabled"] = true,
["criteria"] = "buff.dance_of_chiji.stack = 2 & combo_strike & ( ! set_bonus.tww3_2pc || ! buff.bloodlust.up ) & ! talent.flurry_strikes.enabled",
["action"] = "spinning_crane_kick",
},
{
["enabled"] = true,
["action"] = "tiger_palm",
["criteria"] = "( energy > 55 & talent.inner_peace.enabled || energy > 60 & ! talent.inner_peace.enabled ) & combo_strike & chi.max - chi >= 2 & buff.teachings_of_the_monastery.stack < buff.teachings_of_the_monastery.max_stack & ( talent.energy_burst.enabled & ! buff.bok_proc.up || ! talent.energy_burst.enabled ) & ! buff.ordered_elements.up || ( talent.energy_burst.enabled & ! buff.bok_proc.up || ! talent.energy_burst.enabled ) & ! buff.ordered_elements.up & ! cooldown.fists_of_fury.remains & chi < 3 || ( prev.strike_of_the_windlord || ! buff.heart_of_the_jade_serpent_cdr_celestial.up ) & combo_strike & chi.deficit >= 2 & ! buff.ordered_elements.up",
["cycle_targets"] = 1,
},
{
["action"] = "touch_of_death",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "combo_strike & ( buff.invoke_xuen_the_white_tiger.down & prev.tiger_palm & time < 5 || buff.storm_earth_and_fire.up & talent.ordered_elements.enabled )",
["action"] = "rising_sun_kick",
},
{
["enabled"] = true,
["criteria"] = "! buff.heart_of_the_jade_serpent_cdr_celestial.up & talent.celestial_conduit.enabled & ! buff.invokers_delight.up & ! buff.heart_of_the_jade_serpent_cdr_celestial.up & cooldown.fists_of_fury.remains < 5 & cooldown.invoke_xuen_the_white_tiger.remains > 15 & ( cooldown.slicing_winds.remains < 23 || ! set_bonus.tww3_2pc ) || boss & fight_remains < 12",
["action"] = "strike_of_the_windlord",
},
{
["enabled"] = true,
["criteria"] = "talent.gale_force.enabled & cooldown.invoke_xuen_the_white_tiger.remains > 10",
["action"] = "strike_of_the_windlord",
},
{
["enabled"] = true,
["criteria"] = "time > 5 & talent.flurry_strikes.enabled",
["action"] = "strike_of_the_windlord",
},
{
["enabled"] = true,
["criteria"] = "time > 15 & set_bonus.tww3_2pc & cooldown.invoke_xuen_the_white_tiger.remains > 15 & ( cooldown.slicing_winds.remains < 23 || ! set_bonus.tww3_2pc )",
["action"] = "strike_of_the_windlord",
},
{
["enabled"] = true,
["criteria"] = "buff.dance_of_chiji.stack = 2 & combo_strike & ! talent.flurry_strikes.enabled",
["action"] = "spinning_crane_kick",
},
{
["enabled"] = true,
["criteria"] = "buff.teachings_of_the_monastery.stack > 3 & buff.ordered_elements.up & cooldown.rising_sun_kick.remains > 1 & cooldown.fists_of_fury.remains > 2 & ! set_bonus.tww3_2pc",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "buff.teachings_of_the_monastery.stack > 4 & cooldown.rising_sun_kick.remains > 1 & cooldown.fists_of_fury.remains > 2 & ! set_bonus.tww3_2pc",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "set_bonus.tww3_2pc",
["action"] = "whirling_dragon_punch",
},
{
["enabled"] = true,
["criteria"] = "! buff.heart_of_the_jade_serpent_cdr_celestial.up & ! buff.dance_of_chiji.stack = 2 || buff.ordered_elements.up || talent.knowledge_of_the_broken_temple.enabled",
["action"] = "whirling_dragon_punch",
},
{
["enabled"] = true,
["criteria"] = "buff.the_emperors_capacitor.stack > 19 & ! variable.small_hotjs_active & ! buff.heart_of_the_jade_serpent_cdr_celestial.up & combo_strike & fight_remains > 20 & cooldown.invoke_xuen_the_white_tiger.remains > 15",
["action"] = "crackling_jade_lightning",
},
{
["enabled"] = true,
["criteria"] = "buff.the_emperors_capacitor.stack > 20 & ! variable.small_hotjs_active & ! buff.heart_of_the_jade_serpent_cdr_celestial.up & combo_strike & fight_remains > 20 & cooldown.invoke_xuen_the_white_tiger.remains < 20 & cooldown.invoke_xuen_the_white_tiger.remains > 2",
["action"] = "crackling_jade_lightning",
},
{
["enabled"] = true,
["criteria"] = "buff.the_emperors_capacitor.stack > 10 & fight_remains < 5 || buff.storm_earth_and_fire.remains < 2 & buff.the_emperors_capacitor.stack > 15 & buff.storm_earth_and_fire.up",
["action"] = "crackling_jade_lightning",
},
{
["enabled"] = true,
["criteria"] = "target.time_to_die > 10 & ! set_bonus.tww3_4pc || talent.flurry_strikes.enabled",
["action"] = "slicing_winds",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & ( chi > 4 || chi > 2 & energy > 50 || cooldown.fists_of_fury.remains > 2 )",
["action"] = "rising_sun_kick",
},
{
["enabled"] = true,
["criteria"] = "( talent.xuens_battlegear.enabled || ! talent.xuens_battlegear.enabled & ( cooldown.strike_of_the_windlord.remains > 1 || variable.small_hotjs_active || buff.heart_of_the_jade_serpent_cdr_celestial.up ) ) & ( talent.xuens_battlegear.enabled & cooldown.invoke_xuen_the_white_tiger.remains > 5 || cooldown.invoke_xuen_the_white_tiger.remains > 10 ) & ( ! buff.invokers_delight.up || buff.invokers_delight.up & cooldown.strike_of_the_windlord.remains > 4 & cooldown.celestial_conduit.remains ) || fight_remains < 5 || talent.flurry_strikes.enabled",
["action"] = "fists_of_fury",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & energy.time_to_max <= gcd.max * 3 & talent.flurry_strikes.enabled & buff.wisdom_of_the_wall_flurry.up",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & chi < 5 & set_bonus.tww3_2pc",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["criteria"] = "buff.dance_of_chiji.stack = 2 & combo_strike",
["action"] = "spinning_crane_kick",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & talent.energy_burst.enabled & buff.bok_proc.up & chi < 5 & ( variable.small_hotjs_active || buff.heart_of_the_jade_serpent_cdr_celestial.up )",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & buff.bloodlust.up & variable.small_hotjs_active & buff.dance_of_chiji.up",
["action"] = "spinning_crane_kick",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & chi.deficit >= 2 & energy.time_to_max <= gcd.max * 3",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["criteria"] = "buff.teachings_of_the_monastery.stack > 7 & talent.memory_of_the_monastery.enabled & ! buff.memory_of_the_monastery.up & cooldown.fists_of_fury.remains",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "( buff.dance_of_chiji.stack = 2 || buff.dance_of_chiji.remains < 2 & buff.dance_of_chiji.up ) & combo_strike & ! buff.ordered_elements.up",
["action"] = "spinning_crane_kick",
},
{
["action"] = "whirling_dragon_punch",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "buff.dance_of_chiji.stack = 2 & combo_strike",
["action"] = "spinning_crane_kick",
},
{
["enabled"] = true,
["criteria"] = "talent.courageous_impulse.enabled & combo_strike & buff.bok_proc.stack = 2",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "buff.dance_of_chiji.up & set_bonus.tww3_2pc & combo_strike",
["action"] = "spinning_crane_kick",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & buff.ordered_elements.up & cooldown.rising_sun_kick.remains > 1 & cooldown.fists_of_fury.remains > 2",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & energy.time_to_max <= gcd.max * 3 & talent.flurry_strikes.enabled",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & buff.dance_of_chiji.up & ( buff.ordered_elements.up || energy.time_to_max >= gcd.max * 3 & talent.sequenced_strikes.enabled & talent.energy_burst.enabled || ! talent.sequenced_strikes.enabled || ! talent.energy_burst.enabled || buff.dance_of_chiji.remains <= gcd.max * 3 )",
["action"] = "spinning_crane_kick",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & energy.time_to_max <= gcd.max * 3 & talent.flurry_strikes.enabled",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["criteria"] = "talent.Singularly_Focused_Jade.enabled || talent.jadefire_harmony.enabled",
["action"] = "jadefire_stomp",
},
{
["enabled"] = true,
["criteria"] = "! buff.ordered_elements.up",
["action"] = "chi_burst",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & ( buff.ordered_elements.up || buff.bok_proc.up & chi.deficit >= 1 & talent.energy_burst.enabled ) & cooldown.fists_of_fury.remains",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "combo_strike & cooldown.fists_of_fury.remains & ( chi > 2 || energy > 60 || buff.bok_proc.up )",
["action"] = "blackout_kick",
},
{
["action"] = "jadefire_stomp",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "combo_strike & buff.ordered_elements.up & chi.deficit >= 1",
["action"] = "tiger_palm",
},
{
["action"] = "chi_burst",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "combo_strike & buff.ordered_elements.up & talent.hit_combo.enabled",
["action"] = "spinning_crane_kick",
},
{
["enabled"] = true,
["criteria"] = "buff.ordered_elements.up & ! talent.hit_combo.enabled & cooldown.fists_of_fury.remains",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "prev.tiger_palm & chi < 3 & ! cooldown.fists_of_fury.remains",
["action"] = "tiger_palm",
},
},
},
["version"] = 20250912,
["warnings"] = "The import for 'trinkets' required some automated changes.\nLine 1: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 1: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 1: Converted operations in 'trinket.t1.has_use_buff&trinket.t2.has_use_buff&buff.invoke_xuen_the_white_tiger.up&invoke_xuen_count%%2||boss&fight_remains<20' to 'trinket.t1.has_use_buff&trinket.t2.has_use_buff&buff.invoke_xuen_the_white_tiger.up&invoke_xuen_count%2||boss&fight_remains<20'.\nLine 2: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 2: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 3: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 5: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 5: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 6: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 6: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 7: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 7: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 8: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 8: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\n\nImported 9 action lists.\n",
["author"] = "SimC",
["basedOn"] = "Windwalker",
["profile"] = "## Upstream: https://github.com/simulationcraft/simc/blob/thewarwithin/ActionPriorityLists/default/monk_windwalker.simc\n## SimulationCraft Commit Sync: 65d756b\n## Date: 2025-09-12\n\nactions.precombat+=/use_item,name=imperfect_ascendancy_serum\n## [Hekili] Implemented in MonkWindwalker.lua\n## actions.precombat+=/variable,name=invoke_xuen_count,op=set,value=0\n\n## [Hekili] Out of scope for the addon.\n## Move to target\n## actions+=/roll,if=movement.distance>5\n## actions+=/chi_torpedo,if=movement.distance>5\n## actions+=/flying_serpent_kick,if=movement.distance>5\nactions+=/spear_hand_strike\n# Potion\nactions+=/potion,if=buff.invoke_xuen_the_white_tiger.up&buff.storm_earth_and_fire.up\nactions+=/potion,if=!talent.invoke_xuen_the_white_tiger&buff.storm_earth_and_fire.up\nactions+=/potion,if=boss&fight_remains<=30\n\n## [Hekili] External PI not supported in addon.\n## Enable PI if available\n## actions+=/variable,name=has_external_pi,value=cooldown.invoke_power_infusion_0.duration>0\nactions+=/variable,name=small_hotjs_active,value=buff.heart_of_the_jade_serpent_cdr.up||buff.heart_of_the_jade_serpent_tww3_tier.up\n## [Hekili] Handled internally.\n## actions+=/variable,name=invoke_xuen_count,op=add,value=1,if=prev.invoke_xuen_the_white_tiger\n# Define Variables for CD Management\n## [Hekili] Remove fight styles.\nactions+=/variable,name=sef_condition,value=fight_remains>6&(cooldown.rising_sun_kick.remains||active_enemies>2||!talent.ordered_elements)&(buff.invoke_xuen_the_white_tiger.remains>15||(talent.celestial_conduit||!talent.last_emperors_capacitor)&buff.bloodlust.up&(cooldown.strike_of_the_windlord.remains<5||!talent.strike_of_the_windlord)&talent.sequenced_strikes||buff.invokers_delight.remains>15||(cooldown.strike_of_the_windlord.remains<5||!talent.strike_of_the_windlord)&cooldown.storm_earth_and_fire.full_recharge_time<cooldown.invoke_xuen_the_white_tiger.remains&cooldown.fists_of_fury.remains<5&(!talent.last_emperors_capacitor||talent.celestial_conduit)||talent.last_emperors_capacitor&buff.the_emperors_capacitor.stack>17&cooldown.invoke_xuen_the_white_tiger.remains>cooldown.storm_earth_and_fire.full_recharge_time)||boss&fight_remains<30&cooldown.invoke_xuen_the_white_tiger.remains>10&(cooldown.rising_sun_kick.remains||active_enemies>1)||buff.invokers_delight.remains>15&(cooldown.rising_sun_kick.remains||active_enemies>2||!talent.ordered_elements)||buff.bloodlust.up&(cooldown.rising_sun_kick.remains||active_enemies>2||!talent.ordered_elements)&talent.celestial_conduit&time>10\n## [Hekili] Remove fight styles.\n## actions+=/variable,name=xuen_condition,value=(fight_style.DungeonSlice&active_enemies=1&(time<10||talent.xuens_bond&talent.celestial_conduit)||!fight_style.dungeonslice||active_enemies>1)&cooldown.storm_earth_and_fire.ready&(target.time_to_die>14&!fight_style.dungeonroute||target.time_to_die>22)&(active_enemies>2||debuff.acclamation.up||!talent.ordered_elements&time<5)&(chi>2&talent.ordered_elements||chi>5||chi>3&energy<50||energy<50&active_enemies=1||prev.tiger_palm&!talent.ordered_elements&time<5)||fight_remains<30||fight_style.dungeonroute&talent.celestial_conduit&target.time_to_die>14\nactions+=/variable,name=xuen_condition,value=active_enemies=1&(time<10||talent.xuens_bond&talent.celestial_conduit)||active_enemies>1&cooldown.storm_earth_and_fire.ready&fight_remains>14&(active_enemies>2||debuff.acclamation.up||!talent.ordered_elements&time<5)&(chi>2&talent.ordered_elements||chi>5||chi>3&energy<50||energy<50&active_enemies=1||prev.tiger_palm&!talent.ordered_elements&time<5)||time>50&(fight_remains>10&talent.xuens_bond||fight_remains>20)||buff.storm_earth_and_fire.remains>5||boss&fight_remains<30\n## [Hekili] Fight styles (intentionally) not supported.\n## actions+=/variable,name=xuen_dungeonslice_condition,value=active_enemies=1&(time<10||talent.xuens_bond&talent.celestial_conduit&target.time_to_die>14)||active_enemies>1&cooldown.storm_earth_and_fire.ready&target.time_to_die>14&(active_enemies>2||debuff.acclamation.up||!talent.ordered_elements&time<5)&((chi>2&!talent.ordered_elements||talent.ordered_elements||!talent.ordered_elements&energy<50)||talent.sequenced_strikes&talent.energy_burst&talent.revolving_whirl)||fight_remains<30||active_enemies>3&target.time_to_die>5||fight_style.dungeonslice&time>50&target.time_to_die>1&talent.xuens_bond\n## actions+=/variable,name=xuen_dungeonroute_condition,value=cooldown.storm_earth_and_fire.ready&(active_enemies>1&cooldown.storm_earth_and_fire.ready&target.time_to_die>22&(active_enemies>2||debuff.acclamation.up||!talent.ordered_elements&time<5)&((chi>2&!talent.ordered_elements||talent.ordered_elements||!talent.ordered_elements&energy<50)||talent.sequenced_strikes&talent.energy_burst&talent.revolving_whirl)||fight_remains<30||active_enemies>3&target.time_to_die>15||time>50&(target.time_to_die>10&talent.xuens_bond||target.time_to_die>20))||buff.storm_earth_and_fire.remains>5\n## actions+=/variable,name=sef_dungeonroute_condition,value=time<50&target.time_to_die>10&(buff.bloodlust.up||active_enemies>2||cooldown.strike_of_the_windlord.remains<2||talent.last_emperors_capacitor&buff.the_emperors_capacitor.stack>17)||target.time_to_die>10&(cooldown.storm_earth_and_fire.full_recharge_time<cooldown.invoke_xuen_the_white_tiger.remains||cooldown.invoke_xuen_the_white_tiger.remains<30&(cooldown.storm_earth_and_fire.full_recharge_time<30||cooldown.storm_earth_and_fire.full_recharge_time<40&talent.flurry_strikes))&(talent.sequenced_strikes&talent.energy_burst&talent.revolving_whirl||talent.flurry_strikes||chi>3||energy<50)&(active_enemies>2||!talent.ordered_elements||cooldown.rising_sun_kick.remains)&!talent.flurry_strikes||target.time_to_die>10&talent.flurry_strikes&(active_enemies>2||!talent.ordered_elements||cooldown.rising_sun_kick.remains)&(talent.last_emperors_capacitor&buff.the_emperors_capacitor.stack>17&cooldown.storm_earth_and_fire.full_recharge_time<cooldown.invoke_xuen_the_white_tiger.remains&cooldown.invoke_xuen_the_white_tiger.remains>15||!talent.last_emperors_capacitor&cooldown.storm_earth_and_fire.full_recharge_time<cooldown.invoke_xuen_the_white_tiger.remains&cooldown.invoke_xuen_the_white_tiger.remains>15)\n\n# Use Trinkets\nactions+=/call_action_list,name=trinkets,use_off_gcd=1\n# Opener\nactions+=/call_action_list,name=normal_opener,if=time<4&active_enemies<3\n# Use Cooldowns\nactions+=/call_action_list,name=cooldowns,strict=1,if=talent.storm_earth_and_fire\n# Default Priority\nactions+=/call_action_list,name=default_aoe,strict=1,if=active_enemies>=5\nactions+=/call_action_list,name=default_cleave,strict=1,if=active_enemies>1&active_enemies<5\nactions+=/call_action_list,name=default_st,strict=1,if=active_enemies<2\nactions+=/call_action_list,name=fallback\nactions+=/arcane_torrent,if=chi<chi.max&energy<55\nactions+=/bag_of_tricks,if=buff.storm_earth_and_fire.down\nactions+=/lights_judgment,if=buff.storm_earth_and_fire.down\nactions+=/haymaker,if=buff.storm_earth_and_fire.down\n## actions+=/rocket_barrage,if=buff.storm_earth_and_fire.down\nactions+=/arcane_pulse,if=buff.storm_earth_and_fire.down\n\n## [Hekili] External PI not supported.\n## Use <a href='https://www.wowhead.com/spell=10060/power-infusion'>Power Infusion</a> while <a href='https://www.wowhead.com/spell=123904/invoke-xuen-the-white-tiger'>Invoke Xuen, the White Tiger</a> is active.\n## actions.cooldowns=invoke_external_buff,name=power_infusion,if=buff.invoke_xuen_the_white_tiger.up&(!buff.bloodlust.up||buff.bloodlust.up&cooldown.strike_of_the_windlord.remains)\n## [Hekili] Fight style not really supported.\n## actions.cooldowns+=/storm_earth_and_fire,cycle_targets=1,if=fight_style.dungeonroute&buff.invokers_delight.remains>15&(active_enemies>2||!talent.ordered_elements||cooldown.rising_sun_kick.remains)\n## [Hekili] Remove fight style condition.\nactions.cooldowns+=/tiger_palm,if=fight_remains>14&cooldown.invoke_xuen_the_white_tiger.remains>0&(chi<5&!talent.ordered_elements||chi<3)&(combo_strike||!talent.hit_combo)\nactions.cooldowns+=/invoke_xuen_the_white_tiger,cycle_targets=1,if=set_bonus.tww3_2pc&talent.celestial_conduit&cooldown.strike_of_the_windlord.remains<3&(fight_remains>12||!talent.xuens_bond&fight_remains>8)&(chi>2&talent.ordered_elements||chi>5||chi>3&energy<50||energy<50&active_enemies=1||prev.tiger_palm&!talent.ordered_elements&time<5)\n## [Hekili] Remove fight styles and split condition in 2.\n## actions.cooldowns+=/invoke_xuen_the_white_tiger,cycle_targets=1,if=(target.time_to_die>12||!talent.xuens_bond&target.time_to_die>8)&set_bonus.tww3_2pc&talent.celestial_conduit&cooldown.strike_of_the_windlord.remains<3&(chi>2&talent.ordered_elements||chi>5||chi>3&energy<50||energy<50&active_enemies=1||prev.tiger_palm&!talent.ordered_elements&time<5)||(!set_bonus.tww3_2pc||!talent.celestial_conduit||!fight_style.patchwerk)&(variable.xuen_condition&!fight_style.dungeonslice&!fight_style.dungeonroute||variable.xuen_dungeonslice_condition&fight_style.Dungeonslice||variable.xuen_dungeonroute_condition&fight_style.dungeonroute)\nactions.cooldowns+=/invoke_xuen_the_white_tiger,cycle_targets=1,if=!set_bonus.tww3_2pc||!talent.celestial_conduit&variable.xuen_condition\n## [Hekili] Remove fight styles and split condition in 3.\n## actions.cooldowns+=/storm_earth_and_fire,cycle_targets=1,if=talent.flurry_strikes&cooldown.invoke_xuen_the_white_tiger.remains&buff.bloodlust.up&cooldown.rising_sun_kick.remains||variable.sef_condition&!fight_style.dungeonroute||variable.sef_dungeonroute_condition&fight_style.dungeonroute||fight_style.patchwerk&active_enemies=1&talent.flurry_strikes&fight_remains<60&cooldown.invoke_xuen_the_white_tiger.remains>fight_remains&cooldown.rising_sun_kick.remains&buff.the_emperors_capacitor.stack>15\nactions.cooldowns+=/storm_earth_and_fire,cycle_targets=1,if=talent.flurry_strikes&cooldown.invoke_xuen_the_white_tiger.remains&buff.bloodlust.up&cooldown.rising_sun_kick.remains\nactions.cooldowns+=/storm_earth_and_fire,cycle_targets=1,if=variable.sef_condition\nactions.cooldowns+=/storm_earth_and_fire,cycle_targets=1,if=active_enemies=1&talent.flurry_strikes&boss&fight_remains<60&cooldown.invoke_xuen_the_white_tiger.remains>fight_remains&cooldown.rising_sun_kick.remains&buff.the_emperors_capacitor.stack>15\nactions.cooldowns+=/touch_of_karma\nactions.cooldowns+=/ancestral_call,if=buff.invoke_xuen_the_white_tiger.remains>15||!talent.invoke_xuen_the_white_tiger&(!talent.storm_earth_and_fire&(cooldown.strike_of_the_windlord.ready||!talent.strike_of_the_windlord&cooldown.fists_of_fury.ready)||buff.storm_earth_and_fire.remains>10)||boss&fight_remains<20\nactions.cooldowns+=/blood_fury,if=buff.invoke_xuen_the_white_tiger.remains>15||!talent.invoke_xuen_the_white_tiger&(!talent.storm_earth_and_fire&(cooldown.strike_of_the_windlord.ready||!talent.strike_of_the_windlord&cooldown.fists_of_fury.ready)||buff.storm_earth_and_fire.remains>10)||boss&fight_remains<20\nactions.cooldowns+=/fireblood,if=buff.invoke_xuen_the_white_tiger.remains>15||!talent.invoke_xuen_the_white_tiger&(!talent.storm_earth_and_fire&(cooldown.strike_of_the_windlord.ready||!talent.strike_of_the_windlord&cooldown.fists_of_fury.ready)||buff.storm_earth_and_fire.remains>10)||boss&fight_remains<20\nactions.cooldowns+=/berserking,if=buff.invoke_xuen_the_white_tiger.remains>15||!talent.invoke_xuen_the_white_tiger&(!talent.storm_earth_and_fire&(cooldown.strike_of_the_windlord.ready||!talent.strike_of_the_windlord&cooldown.fists_of_fury.ready)||buff.storm_earth_and_fire.remains>10)||boss&fight_remains<20\n\n# >=5 Targets\nactions.default_aoe=tiger_palm,if=(energy>55&talent.inner_peace||energy>60&!talent.inner_peace)&combo_strike&chi.max-chi>=2&buff.teachings_of_the_monastery.stack<buff.teachings_of_the_monastery.max_stack&(talent.energy_burst&!buff.bok_proc.up)&!buff.ordered_elements.up||(talent.energy_burst&!buff.bok_proc.up)&!buff.ordered_elements.up&!cooldown.fists_of_fury.remains&chi<3||(prev.strike_of_the_windlord||cooldown.strike_of_the_windlord.remains)&cooldown.celestial_conduit.remains<2&buff.ordered_elements.up&chi<5&combo_strike\nactions.default_aoe+=/touch_of_death,if=!variable.small_hotjs_active&!buff.heart_of_the_jade_serpent_cdr_celestial.up\nactions.default_aoe+=/strike_of_the_windlord,if=talent.gale_force&cooldown.invoke_xuen_the_white_tiger.remains>10&set_bonus.tww3_2pc&!talent.flurry_strikes\nactions.default_aoe+=/slicing_winds,if=set_bonus.tww3_2pc&talent.celestial_conduit&variable.small_hotjs_active&!talent.flurry_strikes\nactions.default_aoe+=/spinning_crane_kick,cycle_targets=1,if=buff.dance_of_chiji.stack=2&combo_strike\nactions.default_aoe+=/spinning_crane_kick,cycle_targets=1,if=combo_strike&buff.chi_energy.stack>29&cooldown.fists_of_fury.remains<5\nactions.default_aoe+=/whirling_dragon_punch,cycle_targets=1,if=buff.dance_of_chiji.stack<2\nactions.default_aoe+=/tiger_palm,if=combo_strike&buff.storm_earth_and_fire.remains>2&talent.flurry_strikes&energy.time_to_max<=gcd.max*3&cooldown.fists_of_fury.remains&(!talent.xuens_battlegear||chi<6)&set_bonus.tww3_4pc\nactions.default_aoe+=/slicing_winds,if=variable.small_hotjs_active||buff.heart_of_the_jade_serpent_cdr_celestial.up\n## [Hekili] -fight_style\n## actions.default_aoe+=/celestial_conduit,if=buff.storm_earth_and_fire.up&cooldown.strike_of_the_windlord.remains&(!variable.small_hotjs_active||debuff.gale_force.remains<5)&(talent.xuens_bond||!talent.xuens_bond&buff.invokers_delight.up)||fight_remains<15||fight_style.dungeonroute&buff.invokers_delight.up&cooldown.strike_of_the_windlord.remains&buff.storm_earth_and_fire.remains<8\nactions.default_aoe+=/celestial_conduit,if=buff.storm_earth_and_fire.up&cooldown.strike_of_the_windlord.remains&(!variable.small_hotjs_active||debuff.gale_force.remains<5)&(talent.xuens_bond||!talent.xuens_bond&buff.invokers_delight.up)||boss&fight_remains<15||buff.invokers_delight.up&cooldown.strike_of_the_windlord.remains&buff.storm_earth_and_fire.remains<8\nactions.default_aoe+=/fists_of_fury,cycle_targets=1,if=combo_strike&buff.heart_of_the_jade_serpent_cdr_celestial.up||variable.small_hotjs_active\nactions.default_aoe+=/rising_sun_kick,cycle_targets=1,if=cooldown.whirling_dragon_punch.remains<2&cooldown.fists_of_fury.remains>1&buff.dance_of_chiji.stack<2||!buff.storm_earth_and_fire.up&buff.pressure_point.up\nactions.default_aoe+=/tiger_palm,if=combo_strike&buff.storm_earth_and_fire.remains>2&talent.flurry_strikes&energy.time_to_max<=gcd.max*3&set_bonus.tww3_4pc\nactions.default_aoe+=/whirling_dragon_punch,cycle_targets=1,if=!talent.revolving_whirl||talent.revolving_whirl&buff.dance_of_chiji.stack<2&active_enemies>2\nactions.default_aoe+=/blackout_kick,if=combo_strike&buff.bok_proc.up&chi<2&talent.energy_burst&energy<55\nactions.default_aoe+=/strike_of_the_windlord,cycle_targets=1,if=(time>5||buff.invokers_delight.up&buff.storm_earth_and_fire.up)&(cooldown.invoke_xuen_the_white_tiger.remains>15||talent.flurry_strikes)\nactions.default_aoe+=/slicing_winds\nactions.default_aoe+=/blackout_kick,if=buff.teachings_of_the_monastery.stack=8&talent.shadowboxing_treads\nactions.default_aoe+=/crackling_jade_lightning,cycle_targets=1,if=buff.the_emperors_capacitor.stack>19&combo_strike&talent.power_of_the_thunder_king&cooldown.invoke_xuen_the_white_tiger.remains>10\n## [Hekili] -fight_style\n## actions.default_aoe+=/fists_of_fury,cycle_targets=1,if=(talent.flurry_strikes||talent.xuens_battlegear&(cooldown.invoke_xuen_the_white_tiger.remains>5&fight_style.patchwerk||cooldown.invoke_xuen_the_white_tiger.remains>9)||cooldown.invoke_xuen_the_white_tiger.remains>10)\nactions.default_aoe+=/fists_of_fury,cycle_targets=1,if=(talent.flurry_strikes||talent.xuens_battlegear&(cooldown.invoke_xuen_the_white_tiger.remains>5||cooldown.invoke_xuen_the_white_tiger.remains>9)||cooldown.invoke_xuen_the_white_tiger.remains>10)\nactions.default_aoe+=/tiger_palm,if=combo_strike&energy.time_to_max<=gcd.max*3&talent.flurry_strikes&buff.wisdom_of_the_wall_flurry.up&chi<6\nactions.default_aoe+=/spinning_crane_kick,cycle_targets=1,if=combo_strike&chi>5\nactions.default_aoe+=/spinning_crane_kick,cycle_targets=1,if=combo_strike&buff.dance_of_chiji.up&buff.chi_energy.stack>29&cooldown.fists_of_fury.remains<5\nactions.default_aoe+=/rising_sun_kick,if=buff.pressure_point.up&cooldown.fists_of_fury.remains>2\nactions.default_aoe+=/tiger_palm,if=combo_strike&buff.storm_earth_and_fire.remains>2&talent.flurry_strikes&active_enemies>5&set_bonus.tww3_4pc\nactions.default_aoe+=/blackout_kick,if=talent.shadowboxing_treads&talent.courageous_impulse&combo_strike&buff.bok_proc.stack=2\nactions.default_aoe+=/spinning_crane_kick,cycle_targets=1,if=combo_strike&buff.dance_of_chiji.up\nactions.default_aoe+=/spinning_crane_kick,cycle_targets=1,if=combo_strike&buff.ordered_elements.up&talent.crane_vortex&active_enemies>2\nactions.default_aoe+=/tiger_palm,if=combo_strike&energy.time_to_max<=gcd.max*3&talent.flurry_strikes&buff.ordered_elements.up\nactions.default_aoe+=/tiger_palm,if=combo_strike&chi.deficit>=2&(!buff.ordered_elements.up||energy.time_to_max<=gcd.max*3)\nactions.default_aoe+=/jadefire_stomp,cycle_targets=1,if=talent.Singularly_Focused_Jade||talent.jadefire_harmony\nactions.default_aoe+=/spinning_crane_kick,cycle_targets=1,if=combo_strike&!buff.ordered_elements.up&talent.crane_vortex&active_enemies>2&chi>4\nactions.default_aoe+=/blackout_kick,if=combo_strike&cooldown.fists_of_fury.remains&(buff.teachings_of_the_monastery.stack>3||buff.ordered_elements.up)&(talent.shadowboxing_treads||buff.bok_proc.up)\nactions.default_aoe+=/blackout_kick,if=combo_strike&!cooldown.fists_of_fury.remains&chi<3\nactions.default_aoe+=/blackout_kick,if=talent.shadowboxing_treads&talent.courageous_impulse&combo_strike&buff.bok_proc.up\nactions.default_aoe+=/spinning_crane_kick,if=combo_strike&(chi>3||energy>55)\nactions.default_aoe+=/blackout_kick,if=combo_strike&(buff.ordered_elements.up||buff.bok_proc.up&chi.deficit>=1&talent.energy_burst)&cooldown.fists_of_fury.remains\nactions.default_aoe+=/blackout_kick,if=combo_strike&cooldown.fists_of_fury.remains&(chi>2||energy>60||buff.bok_proc.up)\nactions.default_aoe+=/jadefire_stomp,target_if=max:debuff.acclamation.stack\nactions.default_aoe+=/tiger_palm,if=combo_strike&buff.ordered_elements.up&chi.deficit>=1\nactions.default_aoe+=/chi_burst,if=!buff.ordered_elements.up\nactions.default_aoe+=/chi_burst\nactions.default_aoe+=/spinning_crane_kick,if=combo_strike&buff.ordered_elements.up&talent.hit_combo\nactions.default_aoe+=/blackout_kick,if=buff.ordered_elements.up&!talent.hit_combo&cooldown.fists_of_fury.remains\nactions.default_aoe+=/tiger_palm,if=prev.tiger_palm&chi<3&!cooldown.fists_of_fury.remains\n\n# 2-4 targets\nactions.default_cleave=rising_sun_kick,cycle_targets=1,if=buff.storm_earth_and_fire.remains>13&combo_strike\nactions.default_cleave+=/strike_of_the_windlord,if=talent.gale_force&cooldown.invoke_xuen_the_white_tiger.remains>10&set_bonus.tww3_2pc&!talent.flurry_strikes\nactions.default_cleave+=/slicing_winds,if=set_bonus.tww3_2pc&talent.celestial_conduit&variable.small_hotjs_active&!talent.flurry_strikes\nactions.default_cleave+=/spinning_crane_kick,if=buff.dance_of_chiji.stack=2&combo_strike\nactions.default_cleave+=/whirling_dragon_punch,cycle_targets=1,if=variable.small_hotjs_active&buff.dance_of_chiji.stack<2\nactions.default_cleave+=/rising_sun_kick,cycle_targets=1,if=buff.pressure_point.up&active_enemies<4&cooldown.fists_of_fury.remains>4\nactions.default_cleave+=/rising_sun_kick,cycle_targets=1,if=cooldown.whirling_dragon_punch.remains<2&cooldown.fists_of_fury.remains>1&buff.dance_of_chiji.stack<2\nactions.default_cleave+=/spinning_crane_kick,cycle_targets=1,if=combo_strike&buff.dance_of_chiji.stack=2&active_enemies>3\nactions.default_cleave+=/tiger_palm,if=combo_strike&(energy>55&talent.inner_peace||energy>60&!talent.inner_peace)&combo_strike&chi.max-chi>=2&buff.teachings_of_the_monastery.stack<buff.teachings_of_the_monastery.max_stack&(talent.energy_burst&!buff.bok_proc.up||!talent.energy_burst)&!buff.ordered_elements.up||(talent.energy_burst&!buff.bok_proc.up||!talent.energy_burst)&!buff.ordered_elements.up&!cooldown.fists_of_fury.remains&chi<3||(prev.strike_of_the_windlord||cooldown.strike_of_the_windlord.remains)&cooldown.celestial_conduit.remains<2&buff.ordered_elements.up&chi<5&combo_strike||(!variable.small_hotjs_active||!buff.heart_of_the_jade_serpent_cdr_celestial.up)&combo_strike&chi.deficit>=2&!buff.ordered_elements.up\nactions.default_cleave+=/touch_of_death,if=!variable.small_hotjs_active&!buff.heart_of_the_jade_serpent_cdr_celestial.up\nactions.default_cleave+=/whirling_dragon_punch,cycle_targets=1,if=variable.small_hotjs_active&buff.dance_of_chiji.stack<2\nactions.default_cleave+=/whirling_dragon_punch,cycle_targets=1,if=buff.dance_of_chiji.stack<2\nactions.default_cleave+=/slicing_winds,if=variable.small_hotjs_active||buff.heart_of_the_jade_serpent_cdr_celestial.up\n## [Hekili] -fight_style\n## actions.default_cleave+=/celestial_conduit,if=buff.storm_earth_and_fire.up&debuff.gale_force.remains<5&cooldown.strike_of_the_windlord.remains&(!buff.heart_of_the_jade_serpent_cdr.up||debuff.gale_force.remains<5)&(talent.xuens_bond||!talent.xuens_bond&buff.invokers_delight.up)||fight_remains<15||fight_style.dungeonroute&buff.invokers_delight.up&cooldown.strike_of_the_windlord.remains&buff.storm_earth_and_fire.remains<8||fight_remains<10\nactions.default_cleave+=/celestial_conduit,if=buff.storm_earth_and_fire.up&debuff.gale_force.remains<5&cooldown.strike_of_the_windlord.remains&(!buff.heart_of_the_jade_serpent_cdr.up||debuff.gale_force.remains<5)&(talent.xuens_bond||!talent.xuens_bond&buff.invokers_delight.up)||boss&fight_remains<15||buff.invokers_delight.up&cooldown.strike_of_the_windlord.remains&buff.storm_earth_and_fire.remains<8\nactions.default_cleave+=/rising_sun_kick,cycle_targets=1,if=buff.invoke_xuen_the_white_tiger.down&prev.tiger_palm&time<5||variable.small_hotjs_active&buff.pressure_point.up&cooldown.fists_of_fury.remains&(talent.glory_of_the_dawn||active_enemies<3)\nactions.default_cleave+=/fists_of_fury,cycle_targets=1,if=combo_strike&buff.heart_of_the_jade_serpent_cdr_celestial.up||variable.small_hotjs_active\nactions.default_cleave+=/whirling_dragon_punch,cycle_targets=1,if=buff.heart_of_the_jade_serpent_cdr_celestial.up\nactions.default_cleave+=/strike_of_the_windlord,cycle_targets=1,if=talent.gale_force&buff.invokers_delight.up&(buff.bloodlust.up||!buff.heart_of_the_jade_serpent_cdr_celestial.up)\nactions.default_cleave+=/fists_of_fury,cycle_targets=1,if=buff.power_infusion.up&buff.bloodlust.up\nactions.default_cleave+=/rising_sun_kick,cycle_targets=1,if=buff.power_infusion.up&buff.bloodlust.up&active_enemies<3\nactions.default_cleave+=/blackout_kick,if=buff.teachings_of_the_monastery.stack=8&(active_enemies<3||talent.shadowboxing_treads)\nactions.default_cleave+=/tiger_palm,if=combo_strike&buff.storm_earth_and_fire.remains>2&talent.flurry_strikes&!talent.xuens_battlegear&set_bonus.tww3_4pc\nactions.default_cleave+=/whirling_dragon_punch,cycle_targets=1,if=!talent.revolving_whirl||talent.revolving_whirl&buff.dance_of_chiji.stack<2&active_enemies>2||active_enemies<3\nactions.default_cleave+=/strike_of_the_windlord,if=time>5&(cooldown.invoke_xuen_the_white_tiger.remains>15||talent.flurry_strikes)&(cooldown.fists_of_fury.remains<2||cooldown.celestial_conduit.remains<10)\nactions.default_cleave+=/slicing_winds\nactions.default_cleave+=/crackling_jade_lightning,cycle_targets=1,if=buff.the_emperors_capacitor.stack>19&combo_strike&talent.power_of_the_thunder_king&cooldown.invoke_xuen_the_white_tiger.remains>10\nactions.default_cleave+=/spinning_crane_kick,cycle_targets=1,if=combo_strike&buff.dance_of_chiji.stack=2\nactions.default_cleave+=/tiger_palm,if=combo_strike&energy.time_to_max<=gcd.max*3&talent.flurry_strikes&active_enemies<5&buff.wisdom_of_the_wall_flurry.up&active_enemies<4\n## [Hekili] -fight_style\n## actions.default_cleave+=/fists_of_fury,cycle_targets=1,if=(talent.flurry_strikes||talent.xuens_battlegear||!talent.xuens_battlegear&(cooldown.strike_of_the_windlord.remains>1||variable.small_hotjs_active||buff.heart_of_the_jade_serpent_cdr_celestial.up))&(talent.flurry_strikes||talent.xuens_battlegear&(cooldown.invoke_xuen_the_white_tiger.remains>5&fight_style.patchwerk||cooldown.invoke_xuen_the_white_tiger.remains>9)||cooldown.invoke_xuen_the_white_tiger.remains>10)\nactions.default_cleave+=/fists_of_fury,cycle_targets=1,if=(talent.flurry_strikes||talent.xuens_battlegear||!talent.xuens_battlegear&(cooldown.strike_of_the_windlord.remains>1||variable.small_hotjs_active||buff.heart_of_the_jade_serpent_cdr_celestial.up))&(talent.flurry_strikes||talent.xuens_battlegear&(cooldown.invoke_xuen_the_white_tiger.remains>5||cooldown.invoke_xuen_the_white_tiger.remains>9)||cooldown.invoke_xuen_the_white_tiger.remains>10)\nactions.default_cleave+=/tiger_palm,if=combo_strike&energy.time_to_max<=gcd.max*3&talent.flurry_strikes&active_enemies<5&buff.wisdom_of_the_wall_flurry.up\nactions.default_cleave+=/spinning_crane_kick,cycle_targets=1,if=combo_strike&buff.dance_of_chiji.up&buff.chi_energy.stack>29\nactions.default_cleave+=/rising_sun_kick,cycle_targets=1,if=chi>4&(active_enemies<3||talent.glory_of_the_dawn)||chi>2&energy>50&(active_enemies<3||talent.glory_of_the_dawn)||cooldown.fists_of_fury.remains>2&(active_enemies<3||talent.glory_of_the_dawn)\nactions.default_cleave+=/blackout_kick,if=talent.shadowboxing_treads&talent.courageous_impulse&combo_strike&buff.bok_proc.stack=2\nactions.default_cleave+=/blackout_kick,if=buff.teachings_of_the_monastery.stack=4&!talent.knowledge_of_the_broken_temple&talent.shadowboxing_treads&active_enemies<3\nactions.default_cleave+=/spinning_crane_kick,cycle_targets=1,if=combo_strike&buff.dance_of_chiji.up\nactions.default_cleave+=/blackout_kick,if=talent.shadowboxing_treads&talent.courageous_impulse&combo_strike&buff.bok_proc.up\nactions.default_cleave+=/tiger_palm,if=combo_strike&energy.time_to_max<=gcd.max*3&talent.flurry_strikes&active_enemies<5\nactions.default_cleave+=/tiger_palm,if=combo_strike&chi.deficit>=2&(!buff.ordered_elements.up||energy.time_to_max<=gcd.max*3)\nactions.default_cleave+=/blackout_kick,if=combo_strike&cooldown.fists_of_fury.remains&buff.teachings_of_the_monastery.stack>3&cooldown.rising_sun_kick.remains\nactions.default_cleave+=/jadefire_stomp,if=talent.Singularly_Focused_Jade||talent.jadefire_harmony\nactions.default_cleave+=/blackout_kick,if=combo_strike&cooldown.fists_of_fury.remains&(buff.teachings_of_the_monastery.stack>3||buff.ordered_elements.up)&(talent.shadowboxing_treads||buff.bok_proc.up||buff.ordered_elements.up)\nactions.default_cleave+=/spinning_crane_kick,cycle_targets=1,if=combo_strike&!buff.ordered_elements.up&talent.crane_vortex&active_enemies>2&chi>4\nactions.default_cleave+=/chi_burst,if=!buff.ordered_elements.up\nactions.default_cleave+=/blackout_kick,if=combo_strike&(buff.ordered_elements.up||buff.bok_proc.up&chi.deficit>=1&talent.energy_burst)&cooldown.fists_of_fury.remains\nactions.default_cleave+=/blackout_kick,if=combo_strike&cooldown.fists_of_fury.remains&(chi>2||energy>60||buff.bok_proc.up)\nactions.default_cleave+=/jadefire_stomp,target_if=max:debuff.acclamation.stack\nactions.default_cleave+=/tiger_palm,if=combo_strike&buff.ordered_elements.up&chi.deficit>=1\nactions.default_cleave+=/chi_burst\nactions.default_cleave+=/spinning_crane_kick,if=combo_strike&buff.ordered_elements.up&talent.hit_combo\nactions.default_cleave+=/blackout_kick,if=buff.ordered_elements.up&!talent.hit_combo&cooldown.fists_of_fury.remains\nactions.default_cleave+=/blackout_kick,if=combo_strike&!cooldown.fists_of_fury.remains&prev.tiger_palm\nactions.default_cleave+=/tiger_palm,if=prev.tiger_palm&chi<3&!cooldown.fists_of_fury.remains\n\n# 1 target\nactions.default_st=rising_sun_kick,if=combo_strike&buff.pressure_point.up&variable.small_hotjs_active\nactions.default_st+=/slicing_winds,if=set_bonus.tww3_2pc&talent.celestial_conduit&variable.small_hotjs_active\nactions.default_st+=/tiger_palm,if=combo_strike&!cooldown.celestial_conduit.remains&buff.pressure_point.up&chi<5&time<10\nactions.default_st+=/rising_sun_kick,if=combo_strike&(buff.pressure_point.up&!variable.small_hotjs_active&buff.heart_of_the_jade_serpent_cdr_celestial.up||buff.invokers_delight.up||buff.bloodlust.up||buff.pressure_point.up&cooldown.fists_of_fury.remains)\nactions.default_st+=/tiger_palm,cycle_targets=1,if=chi<5&combo_strike&!variable.small_hotjs_active&!buff.heart_of_the_jade_serpent_cdr_celestial.up&energy.time_to_max<=gcd.max*3\nactions.default_st+=/tiger_palm,if=combo_strike&buff.storm_earth_and_fire.remains>2&talent.flurry_strikes&set_bonus.tww3_4pc\nactions.default_st+=/tiger_palm,if=combo_strike&buff.storm_earth_and_fire.remains&talent.flurry_strikes&set_bonus.tww3_4pc&!buff.bloodlust.up\nactions.default_st+=/whirling_dragon_punch,if=!buff.heart_of_the_jade_serpent_cdr_celestial.up&!buff.dance_of_chiji.stack=2&!set_bonus.tww3_2pc\n## [Hekili] -fight_style\n## actions.default_st+=/celestial_conduit,if=buff.storm_earth_and_fire.up&(!buff.heart_of_the_jade_serpent_cdr.up||debuff.gale_force.remains<5)&cooldown.strike_of_the_windlord.remains&(talent.xuens_bond||!talent.xuens_bond&buff.invokers_delight.up)||fight_remains<15||fight_style.dungeonroute&buff.invokers_delight.up&cooldown.strike_of_the_windlord.remains&buff.storm_earth_and_fire.remains<8||fight_remains<10\nactions.default_st+=/celestial_conduit,if=buff.storm_earth_and_fire.up&(!buff.heart_of_the_jade_serpent_cdr.up||debuff.gale_force.remains<5)&cooldown.strike_of_the_windlord.remains&(talent.xuens_bond||!talent.xuens_bond&buff.invokers_delight.up)||buff.invokers_delight.up&cooldown.strike_of_the_windlord.remains&buff.storm_earth_and_fire.remains<8||boss&fight_remains<10\nactions.default_st+=/tiger_palm,cycle_targets=1,if=chi<5&combo_strike&variable.small_hotjs_active&!buff.heart_of_the_jade_serpent_cdr_celestial.up&energy.time_to_max<=gcd.max*3&!buff.invokers_delight.up&!buff.bloodlust.up&!buff.storm_earth_and_fire.up\nactions.default_st+=/fists_of_fury,if=combo_strike&buff.heart_of_the_jade_serpent_cdr_celestial.up||variable.small_hotjs_active\nactions.default_st+=/spinning_crane_kick,if=buff.dance_of_chiji.stack=2&combo_strike&(!set_bonus.tww3_2pc||!buff.bloodlust.up)&!talent.flurry_strikes\nactions.default_st+=/tiger_palm,cycle_targets=1,if=(energy>55&talent.inner_peace||energy>60&!talent.inner_peace)&combo_strike&chi.max-chi>=2&buff.teachings_of_the_monastery.stack<buff.teachings_of_the_monastery.max_stack&(talent.energy_burst&!buff.bok_proc.up||!talent.energy_burst)&!buff.ordered_elements.up||(talent.energy_burst&!buff.bok_proc.up||!talent.energy_burst)&!buff.ordered_elements.up&!cooldown.fists_of_fury.remains&chi<3||(prev.strike_of_the_windlord||!buff.heart_of_the_jade_serpent_cdr_celestial.up)&combo_strike&chi.deficit>=2&!buff.ordered_elements.up\nactions.default_st+=/touch_of_death\nactions.default_st+=/rising_sun_kick,if=combo_strike&(buff.invoke_xuen_the_white_tiger.down&prev.tiger_palm&time<5||buff.storm_earth_and_fire.up&talent.ordered_elements)\nactions.default_st+=/strike_of_the_windlord,if=!buff.heart_of_the_jade_serpent_cdr_celestial.up&talent.celestial_conduit&!buff.invokers_delight.up&!buff.heart_of_the_jade_serpent_cdr_celestial.up&cooldown.fists_of_fury.remains<5&cooldown.invoke_xuen_the_white_tiger.remains>15&(cooldown.slicing_winds.remains<23||!set_bonus.tww3_2pc)||boss&fight_remains<12\nactions.default_st+=/strike_of_the_windlord,if=talent.gale_force&cooldown.invoke_xuen_the_white_tiger.remains>10\nactions.default_st+=/strike_of_the_windlord,if=time>5&talent.flurry_strikes\nactions.default_st+=/strike_of_the_windlord,if=time>15&set_bonus.tww3_2pc&cooldown.invoke_xuen_the_white_tiger.remains>15&(cooldown.slicing_winds.remains<23||!set_bonus.tww3_2pc)\nactions.default_st+=/spinning_crane_kick,if=buff.dance_of_chiji.stack=2&combo_strike&!talent.flurry_strikes\nactions.default_st+=/blackout_kick,if=buff.teachings_of_the_monastery.stack>3&buff.ordered_elements.up&cooldown.rising_sun_kick.remains>1&cooldown.fists_of_fury.remains>2&!set_bonus.tww3_2pc\nactions.default_st+=/blackout_kick,if=buff.teachings_of_the_monastery.stack>4&cooldown.rising_sun_kick.remains>1&cooldown.fists_of_fury.remains>2&!set_bonus.tww3_2pc\nactions.default_st+=/whirling_dragon_punch,if=set_bonus.tww3_2pc\nactions.default_st+=/whirling_dragon_punch,if=!buff.heart_of_the_jade_serpent_cdr_celestial.up&!buff.dance_of_chiji.stack=2||buff.ordered_elements.up||talent.knowledge_of_the_broken_temple\n## [Hekili] Removed fight styles and split in 3.\n## actions.default_st+=/crackling_jade_lightning,if=buff.the_emperors_capacitor.stack>19&!variable.small_hotjs_active&!buff.heart_of_the_jade_serpent_cdr_celestial.up&combo_strike&(!fight_style.dungeonslice||target.time_to_die>20)&cooldown.invoke_xuen_the_white_tiger.remains>15||buff.the_emperors_capacitor.stack>20&!variable.small_hotjs_active&!buff.heart_of_the_jade_serpent_cdr_celestial.up&combo_strike&(!fight_style.dungeonslice||target.time_to_die>20)&cooldown.invoke_xuen_the_white_tiger.remains<20&cooldown.invoke_xuen_the_white_tiger.remains>2||buff.the_emperors_capacitor.stack>10&fight_remains<5||buff.storm_earth_and_fire.remains<2&buff.the_emperors_capacitor.stack>15&buff.storm_earth_and_fire.up\nactions.default_st+=/crackling_jade_lightning,if=buff.the_emperors_capacitor.stack>19&!variable.small_hotjs_active&!buff.heart_of_the_jade_serpent_cdr_celestial.up&combo_strike&fight_remains>20&cooldown.invoke_xuen_the_white_tiger.remains>15\nactions.default_st+=/crackling_jade_lightning,if=buff.the_emperors_capacitor.stack>20&!variable.small_hotjs_active&!buff.heart_of_the_jade_serpent_cdr_celestial.up&combo_strike&fight_remains>20&cooldown.invoke_xuen_the_white_tiger.remains<20&cooldown.invoke_xuen_the_white_tiger.remains>2\nactions.default_st+=/crackling_jade_lightning,if=buff.the_emperors_capacitor.stack>10&fight_remains<5||buff.storm_earth_and_fire.remains<2&buff.the_emperors_capacitor.stack>15&buff.storm_earth_and_fire.up\nactions.default_st+=/slicing_winds,if=target.time_to_die>10&!set_bonus.tww3_4pc||talent.flurry_strikes\nactions.default_st+=/rising_sun_kick,if=combo_strike&(chi>4||chi>2&energy>50||cooldown.fists_of_fury.remains>2)\nactions.default_st+=/fists_of_fury,if=(talent.xuens_battlegear||!talent.xuens_battlegear&(cooldown.strike_of_the_windlord.remains>1||variable.small_hotjs_active||buff.heart_of_the_jade_serpent_cdr_celestial.up))&(talent.xuens_battlegear&cooldown.invoke_xuen_the_white_tiger.remains>5||cooldown.invoke_xuen_the_white_tiger.remains>10)&(!buff.invokers_delight.up||buff.invokers_delight.up&cooldown.strike_of_the_windlord.remains>4&cooldown.celestial_conduit.remains)||fight_remains<5||talent.flurry_strikes\nactions.default_st+=/tiger_palm,if=combo_strike&energy.time_to_max<=gcd.max*3&talent.flurry_strikes&buff.wisdom_of_the_wall_flurry.up\nactions.default_st+=/tiger_palm,if=combo_strike&chi<5&set_bonus.tww3_2pc\nactions.default_st+=/spinning_crane_kick,if=buff.dance_of_chiji.stack=2&combo_strike\nactions.default_st+=/blackout_kick,if=combo_strike&talent.energy_burst&buff.bok_proc.up&chi<5&(variable.small_hotjs_active||buff.heart_of_the_jade_serpent_cdr_celestial.up)\nactions.default_st+=/spinning_crane_kick,if=combo_strike&buff.bloodlust.up&variable.small_hotjs_active&buff.dance_of_chiji.up\nactions.default_st+=/tiger_palm,if=combo_strike&chi.deficit>=2&energy.time_to_max<=gcd.max*3\nactions.default_st+=/blackout_kick,if=buff.teachings_of_the_monastery.stack>7&talent.memory_of_the_monastery&!buff.memory_of_the_monastery.up&cooldown.fists_of_fury.remains\nactions.default_st+=/spinning_crane_kick,if=(buff.dance_of_chiji.stack=2||buff.dance_of_chiji.remains<2&buff.dance_of_chiji.up)&combo_strike&!buff.ordered_elements.up\nactions.default_st+=/whirling_dragon_punch\nactions.default_st+=/spinning_crane_kick,if=buff.dance_of_chiji.stack=2&combo_strike\nactions.default_st+=/blackout_kick,if=talent.courageous_impulse&combo_strike&buff.bok_proc.stack=2\nactions.default_st+=/spinning_crane_kick,if=buff.dance_of_chiji.up&set_bonus.tww3_2pc&combo_strike\nactions.default_st+=/blackout_kick,if=combo_strike&buff.ordered_elements.up&cooldown.rising_sun_kick.remains>1&cooldown.fists_of_fury.remains>2\nactions.default_st+=/tiger_palm,if=combo_strike&energy.time_to_max<=gcd.max*3&talent.flurry_strikes\nactions.default_st+=/spinning_crane_kick,if=combo_strike&buff.dance_of_chiji.up&(buff.ordered_elements.up||energy.time_to_max>=gcd.max*3&talent.sequenced_strikes&talent.energy_burst||!talent.sequenced_strikes||!talent.energy_burst||buff.dance_of_chiji.remains<=gcd.max*3)\nactions.default_st+=/tiger_palm,if=combo_strike&energy.time_to_max<=gcd.max*3&talent.flurry_strikes\nactions.default_st+=/jadefire_stomp,if=talent.Singularly_Focused_Jade||talent.jadefire_harmony\nactions.default_st+=/chi_burst,if=!buff.ordered_elements.up\nactions.default_st+=/blackout_kick,if=combo_strike&(buff.ordered_elements.up||buff.bok_proc.up&chi.deficit>=1&talent.energy_burst)&cooldown.fists_of_fury.remains\nactions.default_st+=/blackout_kick,if=combo_strike&cooldown.fists_of_fury.remains&(chi>2||energy>60||buff.bok_proc.up)\nactions.default_st+=/jadefire_stomp\nactions.default_st+=/tiger_palm,if=combo_strike&buff.ordered_elements.up&chi.deficit>=1\nactions.default_st+=/chi_burst\nactions.default_st+=/spinning_crane_kick,if=combo_strike&buff.ordered_elements.up&talent.hit_combo\nactions.default_st+=/blackout_kick,if=buff.ordered_elements.up&!talent.hit_combo&cooldown.fists_of_fury.remains\nactions.default_st+=/tiger_palm,if=prev.tiger_palm&chi<3&!cooldown.fists_of_fury.remains\n\n# Fallback\nactions.fallback=spinning_crane_kick,if=chi>5&combo_strike\nactions.fallback+=/blackout_kick,if=combo_strike&chi>3\nactions.fallback+=/tiger_palm,if=combo_strike&chi>5\n\n# normal opener\nactions.normal_opener=tiger_palm,if=chi<6&combo_strike\nactions.normal_opener+=/rising_sun_kick,if=talent.ordered_elements\n\n# Double on Use Stats\nactions.trinkets=use_item,slot=trinket1,if=trinket.1.has_use_buff&trinket.2.has_use_buff&buff.invoke_xuen_the_white_tiger.up&invoke_xuen_count%%2||boss&fight_remains<20\nactions.trinkets+=/use_item,slot=trinket2,if=trinket.1.has_use_buff&trinket.2.has_use_buff&buff.invoke_xuen_the_white_tiger.up||boss&fight_remains<20\n# Trinket 1 On use Stats\nactions.trinkets+=/use_item,slot=trinket1,if=trinket.1.has_use_buff&!trinket.2.has_use_buff&buff.invoke_xuen_the_white_tiger.up||boss&fight_remains<20\nactions.trinkets+=/use_item,slot=trinket2,if=trinket.1.has_use_buff&!trinket.2.has_use_buff&cooldown.invoke_xuen_the_white_tiger.remains>30||boss&fight_remains<20\n# Trinket 2 On use Stats\nactions.trinkets+=/use_item,slot=trinket1,if=!trinket.1.has_use_buff&trinket.2.has_use_buff&cooldown.invoke_xuen_the_white_tiger.remains>30||boss&fight_remains<20\nactions.trinkets+=/use_item,slot=trinket2,if=!trinket.1.has_use_buff&trinket.2.has_use_buff&buff.invoke_xuen_the_white_tiger.up||boss&fight_remains<20\n# No Stat on Use\nactions.trinkets+=/use_item,slot=trinket1,if=!trinket.1.has_use_buff&!trinket.2.has_use_buff\nactions.trinkets+=/use_item,slot=trinket2,if=!trinket.1.has_use_buff&!trinket.2.has_use_buff\n# Use Weapon\nactions.trinkets+=/use_item,slot=main_hand",
},
["Shadow"] = {
["source"] = "https://github.com/simulationcraft/simc/blob/thewarwithin/ActionPriorityLists/default/priest_shadow.simc",
["builtIn"] = true,
["date"] = 20250823,
["author"] = "SimC",
["desc"] = "-- The War Within Season 3\n2025-08-23: APL Sync, have fun pressing flash heal\n2025-08-10: Tweak Shadow Crash\n2025-08-08: Fix Void Torrent channels\n2025-08-05: First APL",
["lists"] = {
["aoe_variables"] = {
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "active_enemies >? 12",
["var_name"] = "max_vts",
["default"] = "12",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "0",
["var_name"] = "is_vt_possible",
["default"] = "1",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "1",
["var_name"] = "is_vt_possible",
["criteria"] = "target.time_to_die >= 18",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "( active_dot.vampiric_touch + 8 * ( action.shadow_crash.in_flight & action.shadow_crash.enabled ) ) >= variable.max_vts || ! variable.is_vt_possible",
["var_name"] = "dots_up",
["description"] = "TODO: Revamp to fix undesired behavior with unstacked fights",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "( variable.max_vts - active_dot.vampiric_touch ) < 4 & raid_event.adds.in > 15 || raid_event.adds.in < 10 & raid_event.adds.count > ( variable.max_vts - active_dot.vampiric_touch )",
["var_name"] = "holding_crash",
["criteria"] = "variable.holding_crash & action.shadow_crash.enabled & raid_event.adds.exists",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "( active_dot.vampiric_touch + 8 * ! variable.holding_crash ) >= variable.max_vts || ! variable.is_vt_possible",
["var_name"] = "manual_vts_applied",
},
},
["main"] = {
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "active_dot.vampiric_touch = active_enemies || action.shadow_crash.in_flight",
["var_name"] = "dots_up",
["criteria"] = "active_enemies < 3",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["criteria"] = "boss & fight_remains < 30 || target.time_to_die > 15 & ( ! variable.holding_crash || active_enemies > 2 )",
["list_name"] = "cds",
},
{
["enabled"] = true,
["criteria"] = "( dot.shadow_word_pain.ticking & variable.dots_up || action.shadow_crash.in_flight ) & ( ! cooldown.halo.up || ! talent.power_surge.enabled ) & ( boss & fight_remains < 30 || target.time_to_die > 15 ) & ( ! talent.dark_ascension.enabled || cooldown.dark_ascension.remains < gcd.max || boss & fight_remains < 15 )",
["action"] = "mindbender",
["description"] = "Use Shadowfiend and Mindbender on cooldown as long as Vampiric Touch and Shadow Word: Pain are active and sync with Dark Ascension",
},
{
["enabled"] = true,
["action"] = "shadow_word_death",
["cycle_targets"] = 1,
["description"] = "High Priority Shadow Word: Death when you are forcing the bonus from Devour Matter",
["criteria"] = "priest.force_devour_matter & talent.devour_matter.enabled",
},
{
["enabled"] = true,
["action"] = "void_blast",
["cycle_targets"] = 1,
["description"] = "Blast more burst :wicked:",
["criteria"] = "( dot.devouring_plague.remains >= execute_time || buff.entropic_rift.remains <= gcd.max || action.void_torrent.channeling & talent.void_empowerment.enabled ) & ( insanity.deficit >= 16 || cooldown.mind_blast.full_recharge_time <= gcd.max || buff.entropic_rift.remains <= gcd.max )",
},
{
["enabled"] = true,
["action"] = "devouring_plague",
["cycle_targets"] = 1,
["description"] = "Do not let Voidform Expire if you can avoid it.",
["criteria"] = "buff.voidform.up & talent.perfected_form.enabled & buff.voidform.remains <= gcd.max & talent.void_eruption.enabled",
},
{
["enabled"] = true,
["action"] = "void_bolt",
["cycle_targets"] = 1,
["description"] = "Use Voidbolt on the enemy with the largest time to die. We do no care about dots because Voidbolt is only accessible inside voidform which guarantees maximum effect",
["criteria"] = "insanity.deficit > 16 & cooldown.void_bolt.remains / gcd.max <= 0.1",
},
{
["enabled"] = true,
["action"] = "devouring_plague",
["cycle_targets"] = 1,
["description"] = "Do not overcap on insanity",
["criteria"] = "active_dot.devouring_plague <= 1 & dot.devouring_plague.remains <= gcd.max & ( ! talent.void_eruption.enabled || cooldown.void_eruption.remains >= gcd.max * 3 ) || insanity.deficit <= 35 || buff.mind_devourer.up || buff.entropic_rift.up || buff.power_surge.up & buff.tww3_archon_4pc_helper.stack < 4 & buff.ascension.up",
},
{
["enabled"] = true,
["action"] = "void_torrent",
["cycle_targets"] = 1,
["interrupt_if"] = "talent.entropic_rift.disabled",
["interrupt_immediate"] = "1",
["description"] = "Use Void Torrent if it will get near full Mastery Value",
["criteria"] = "! variable.holding_crash & ( dot.devouring_plague.remains >= 2.5 & ( cooldown.dark_ascension.remains >= 12 || ! talent.dark_ascension.enabled || ! talent.void_blast.enabled ) || cooldown.void_eruption.remains <= 3 & talent.void_eruption.enabled )",
},
{
["enabled"] = true,
["criteria"] = "buff.void_volley.remains <= 5 || buff.entropic_rift.up & action.void_blast.usable_in > buff.entropic_rift.remains || target.time_to_die <= 5",
["action"] = "void_volley",
["description"] = "Use Void Volley if it would expire soon",
},
{
["enabled"] = true,
["action"] = "mind_flay",
["cycle_targets"] = 1,
["description"] = "MFI is a good button",
["criteria"] = "buff.mind_flay_insanity.up",
},
{
["enabled"] = true,
["action"] = "shadow_crash",
["cycle_targets"] = 1,
["description"] = "Use Shadow Crash as long as you are not holding for adds and Vampiric Touch is within pandemic range",
["criteria"] = "! variable.holding_crash & ! action.shadow_crash.in_flight",
},
{
["enabled"] = true,
["action"] = "vampiric_touch",
["cycle_targets"] = 1,
["description"] = "Put out Vampiric Touch on enemies that will live at least 12s and Shadow Crash is not available soon",
["criteria"] = "refreshable & target.time_to_die > 12 & ( dot.vampiric_touch.ticking || ! variable.dots_up ) & ( variable.max_vts > 0 || active_enemies = 1 ) & ( action.shadow_crash.usable_in >= dot.vampiric_touch.remains || variable.holding_crash || ! action.shadow_crash.enabled ) & ( ! action.shadow_crash.in_flight )",
},
{
["enabled"] = true,
["action"] = "mind_blast",
["cycle_targets"] = 1,
["description"] = "Use all charges of Mind Blast if Vampiric Touch and Shadow Word: Pain are active and Mind Devourer is not active or you are prepping Void Eruption",
["criteria"] = "( ! buff.mind_devourer.react || ! talent.mind_devourer.enabled || cooldown.void_eruption.up & talent.void_eruption.enabled )",
},
{
["action"] = "void_volley",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "buff.voidform.up & talent.void_eruption.enabled || buff.power_surge.up || talent.distorted_reality.enabled",
["action"] = "devouring_plague",
},
{
["enabled"] = true,
["criteria"] = "spell_targets > 1",
["action"] = "halo",
},
{
["enabled"] = true,
["criteria"] = "! variable.holding_crash & raid_event.adds.in >= 30 & talent.descending_darkness.enabled & raid_event.movement.in >= 30",
["action"] = "shadow_crash",
["description"] = "Healing spell action list for proccing Twist of Fate. Set priest.twist_of_fate_heal_rppm=<rppm> to make this be used. actions.main+=/call_action_list,name=heal_for_tof,if=!buff.twist_of_fate.up&buff.twist_of_fate_can_trigger_on_ally_heal.up&(talent.rhapsody||talent.divine_star||talent.halo)",
},
{
["enabled"] = true,
["criteria"] = "target.health.pct < 20 || talent.deathspeaker.enabled & target.health.pct < 35",
["action"] = "shadow_word_death",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "talent.inescapable_torment.enabled & pet.fiend.active",
["action"] = "shadow_word_death",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "mind_flay",
["cycle_targets"] = 1,
["interrupt_if"] = "ticks>=2",
["interrupt_immediate"] = "1",
["chain"] = "1",
["interrupt_global"] = "1",
},
{
["action"] = "divine_star",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "raid_event.adds.in > 20",
["action"] = "shadow_crash",
["description"] = "Use Shadow Crash while moving as a low-priority action when adds will not spawn in 20 seconds.",
},
{
["enabled"] = true,
["action"] = "shadow_word_death",
["cycle_targets"] = 1,
["description"] = "Use Shadow Word: Death while moving as a low-priority action in execute",
["criteria"] = "target.health.pct < 20",
},
{
["enabled"] = true,
["action"] = "shadow_word_death",
["cycle_targets"] = 1,
["description"] = "Use Shadow Word: Death while moving as a low-priority action",
["criteria"] = "dot.devouring_plague.remains",
},
{
["enabled"] = true,
["description"] = "Use Shadow Word: Pain while moving as a low-priority action",
["action"] = "shadow_word_pain",
},
},
["default"] = {
{
["action"] = "silence",
["enabled"] = true,
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "false",
["var_name"] = "holding_crash",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "( cooldown.void_eruption.remains <= gcd.max * 3 & talent.void_eruption.enabled || cooldown.dark_ascension.up & talent.dark_ascension.enabled ) || talent.void_torrent.enabled & talent.psychic_link.enabled & cooldown.void_torrent.remains <= 4 & ! variable.holding_crash & ! buff.voidform.up",
["var_name"] = "pool_for_cds",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "active_enemies > 2",
["list_name"] = "aoe",
},
{
["enabled"] = true,
["action"] = "run_action_list",
["list_name"] = "main",
},
},
["precombat"] = {
{
["action"] = "power_word_fortitude",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "! buff.shadowform.up",
["action"] = "shadowform",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "( trinket.t1.has_use_buff || trinket.t1.has_use_buff || trinket.t1.has_use_buff || trinket.t1.has_use_buff || trinket.t1.has_use_buff || trinket.t1.is.signet_of_the_priory ) & ( trinket.t1.cooldown.duration >= 20 )",
["var_name"] = "trinket_1_buffs",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "( trinket.t2.has_use_buff || trinket.t2.has_use_buff || trinket.t2.has_use_buff || trinket.t2.has_use_buff || trinket.t2.has_use_buff || trinket.t2.is.signet_of_the_priory ) & ( trinket.t2.cooldown.duration >= 20 )",
["var_name"] = "trinket_2_buffs",
},
{
["enabled"] = true,
["op"] = "reset",
["action"] = "variable",
["var_name"] = "dr_force_prio",
["default"] = "1",
},
{
["enabled"] = true,
["op"] = "reset",
["action"] = "variable",
["var_name"] = "me_force_prio",
["default"] = "1",
},
{
["enabled"] = true,
["op"] = "reset",
["action"] = "variable",
["var_name"] = "max_vts",
["default"] = "12",
},
{
["enabled"] = true,
["op"] = "reset",
["action"] = "variable",
["var_name"] = "is_vt_possible",
["default"] = "0",
},
{
["enabled"] = true,
["op"] = "reset",
["action"] = "variable",
["var_name"] = "pooling_mindblasts",
["default"] = "0",
},
{
["action"] = "arcane_torrent",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "active_enemies <= 4 & ( fight_remains >= 120 || active_enemies <= 2 ) & ! talent.power_surge.enabled",
["action"] = "halo",
},
{
["enabled"] = true,
["criteria"] = "active_enemies <= 12",
["action"] = "shadow_crash",
["line_cd"] = "5",
},
{
["enabled"] = true,
["criteria"] = "! talent.shadow_crash.enabled || active_enemies > 8",
["action"] = "vampiric_touch",
},
},
["aoe"] = {
{
["enabled"] = true,
["action"] = "call_action_list",
["list_name"] = "aoe_variables",
},
{
["enabled"] = true,
["action"] = "vampiric_touch",
["cycle_targets"] = 1,
["description"] = "High Priority action to put out Vampiric Touch on enemies that will live at least 18 seconds, up to 12 targets manually while prepping AoE",
["criteria"] = "( variable.max_vts > 0 & ! variable.manual_vts_applied & ! action.shadow_crash.in_flight ) & ! buff.entropic_rift.up",
},
{
["enabled"] = true,
["criteria"] = "! variable.holding_crash",
["action"] = "shadow_crash",
["description"] = "Use Shadow Crash to apply Vampiric Touch to as many adds as possible while being efficient with Vampiric Touch refresh windows",
},
},
["trinkets"] = {
{
["enabled"] = true,
["name"] = "hyperthread_wristwraps",
["use_off_gcd"] = 1,
["criteria"] = "talent.void_blast.enabled & hyperthread_wristwraps.void_blast >= 2 & ! cooldown.mind_blast.up || ! talent.void_blast.enabled & ( ( hyperthread_wristwraps.void_bolt >= 1 || ! talent.void_eruption.enabled ) & hyperthread_wristwraps.void_torrent >= 1 )",
["action"] = "hyperthread_wristwraps",
},
{
["enabled"] = true,
["name"] = "aberrant_spellforge",
["use_off_gcd"] = 1,
["criteria"] = "gcd.remains > 0 & buff.aberrant_spellforge.stack <= 4",
["action"] = "aberrant_spellforge",
},
{
["enabled"] = true,
["name"] = "neural_synapse_enhancer",
["use_off_gcd"] = 1,
["criteria"] = "( buff.power_surge.up || buff.entropic_rift.up || variable.trinket_1_buffs || variable.trinket_2_buffs ) & ( buff.voidform.up || cooldown.void_eruption.remains >= 40 || buff.dark_ascension.up )",
["action"] = "neural_synapse_enhancer",
},
{
["enabled"] = true,
["name"] = "flarendos_pilot_light",
["use_off_gcd"] = 1,
["criteria"] = "gcd.remains > 0 & ( buff.voidform.up || buff.power_infusion.remains >= 10 || buff.dark_ascension.up ) || boss & fight_remains < 20",
["action"] = "flarendos_pilot_light",
},
{
["enabled"] = true,
["name"] = "geargrinders_spare_keys",
["use_off_gcd"] = 1,
["criteria"] = "gcd.remains > 0",
["action"] = "geargrinders_spare_keys",
},
{
["enabled"] = true,
["name"] = "spymasters_web",
["action"] = "spymasters_web",
["criteria"] = "( buff.power_infusion.remains >= 10 & buff.spymasters_report.stack >= 36 & fight_remains > 240 ) & ( buff.voidform.up || buff.dark_ascension.up || ! talent.dark_ascension.enabled & ! talent.void_eruption.enabled ) || ( ( buff.power_infusion.remains >= 10 & buff.bloodlust.up & buff.spymasters_report.stack >= 10 ) || buff.power_infusion.remains >= 10 & ( boss & fight_remains < 120 ) ) & ( buff.voidform.up || buff.dark_ascension.up || ! talent.dark_ascension.enabled & ! talent.void_eruption.enabled ) || ( boss & fight_remains <= 20 || buff.dark_ascension.up & boss & fight_remains <= 60 || buff.entropic_rift.up & talent.entropic_rift.enabled & boss & fight_remains <= 30 ) & ! buff.spymasters_web.up",
},
{
["enabled"] = true,
["name"] = "prized_gladiators_badge_of_ferocity",
["action"] = "prized_gladiators_badge_of_ferocity",
["criteria"] = "( buff.voidform.up || buff.power_infusion.remains >= 10 || buff.dark_ascension.up || ( talent.void_eruption.enabled & cooldown.void_eruption.remains > 10 ) || equipped.neural_synapse_enhancer & buff.entropic_rift.up ) || boss & fight_remains < 20",
},
{
["enabled"] = true,
["criteria"] = "( buff.voidform.up || buff.power_infusion.remains >= 10 || buff.dark_ascension.up || equipped.neural_synapse_enhancer & buff.entropic_rift.up ) || boss & fight_remains < 20",
["action"] = "use_items",
},
},
["cds"] = {
{
["enabled"] = true,
["criteria"] = "( buff.voidform.up & buff.power_infusion.up || buff.dark_ascension.up ) & ( fight_remains >= 320 || buff.bloodlust.up ) || boss & fight_remains <= 30",
["action"] = "potion",
},
{
["enabled"] = true,
["criteria"] = "buff.power_infusion.up & ( buff.voidform.up || buff.dark_ascension.up ) || boss & fight_remains <= 8",
["action"] = "fireblood",
},
{
["enabled"] = true,
["criteria"] = "buff.power_infusion.up & ( buff.voidform.up || buff.dark_ascension.up ) || boss & fight_remains <= 12",
["action"] = "berserking",
},
{
["enabled"] = true,
["criteria"] = "buff.power_infusion.up & ( buff.voidform.up || buff.dark_ascension.up ) || boss & fight_remains <= 15",
["action"] = "blood_fury",
},
{
["enabled"] = true,
["criteria"] = "buff.power_infusion.up & ( buff.voidform.up || buff.dark_ascension.up ) || boss & fight_remains <= 15",
["action"] = "ancestral_call",
},
{
["enabled"] = true,
["criteria"] = "equipped.nexuskings_command & buff.oathbound.up & ( ! buff.boon_of_the_oathsworn.up || buff.boon_of_the_oathsworn.remains < 3 ) & ( ( talent.void_eruption.enabled & ( buff.voidform.up || cooldown.void_eruption.up ) ) || ( talent.dark_ascension.enabled & cooldown.dark_ascension.up ) || ( talent.power_surge.enabled & cooldown.halo.up ) || ( talent.entropic_rift.enabled & cooldown.void_torrent.up ) )",
["action"] = "flash_heal",
["description"] = "Use <a href='https://www.wowhead.com/spell=10060/power-infusion'>Power Infusion</a> while <a href='https://www.wowhead.com/spell=194249/voidform'>Voidform</a> or <a href='https://www.wowhead.com/spell=391109/dark-ascension'>Dark Ascension</a> is active. Chain directly after your own <a href='https://www.wowhead.com/spell=10060/power-infusion'>Power Infusion</a>. Use Flash Heal to proc Nexus-King's Command trinket",
},
{
["enabled"] = true,
["criteria"] = "( buff.voidform.up || buff.dark_ascension.up & ( fight_remains <= 80 || fight_remains >= 140 ) ) & ( ! buff.power_infusion.up || set_bonus.tww2_4pc & buff.power_infusion.remains <= 15 )",
["action"] = "power_infusion",
["description"] = "Sync Power Infusion with Voidform or Dark Ascension",
},
{
["enabled"] = true,
["criteria"] = "talent.power_surge.enabled & ( pet.fiend.active & cooldown.fiend.remains >= 4 & talent.mindbender.enabled || ! talent.mindbender.enabled & ! cooldown.fiend.up || active_enemies > 2 & ! talent.inescapable_torment.enabled || ! talent.dark_ascension.enabled ) & ( cooldown.mind_blast.charges = 0 || ! cooldown.void_torrent.up || ! talent.void_eruption.enabled || cooldown.void_eruption.remains >= gcd.max * 4 || buff.mind_devourer.up & talent.mind_devourer.enabled )",
["action"] = "halo",
["description"] = "Make sure Mindbender is active before popping Dark Ascension unless you have insignificant talent points or too many targets",
},
{
["enabled"] = true,
["criteria"] = "( pet.fiend.active & cooldown.fiend.remains >= 4 || ! talent.mindbender.enabled & ! cooldown.fiend.up || active_enemies > 2 & ! talent.inescapable_torment.enabled ) & ( cooldown.mind_blast.charges = 0 || time > 15 || buff.mind_devourer.up & talent.mind_devourer.enabled || buff.power_surge.up )",
["action"] = "void_eruption",
["description"] = "Make sure Mindbender is active before popping Void Eruption and dump charges of Mind Blast if Mind Devourer is not active and you are not Archon",
},
{
["enabled"] = true,
["criteria"] = "( pet.fiend.active & cooldown.fiend.remains >= 4 || ! talent.mindbender.enabled & ! cooldown.fiend.up || active_enemies > 2 & ! talent.inescapable_torment.enabled ) & ( active_dot.devouring_plague >= 1 || insanity >= ( 20 - ( 5 * talent.minds_eye.enabled ) + ( 5 * talent.distorted_reality.enabled ) - ( pet.fiend.active * 2 ) ) )",
["action"] = "dark_ascension",
["description"] = "Use Dark Ascension when you have enough Insanity to cast Devouring Plague.",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["list_name"] = "trinkets",
},
{
["enabled"] = true,
["criteria"] = "health.pct <= 75",
["action"] = "desperate_prayer",
["description"] = "Use Desperate Prayer to heal up should Shadow Word: Death or other damage bring you below 75%",
},
},
["heal_for_tof"] = {
{
["enabled"] = true,
["description"] = "Use Halo to acquire Twist of Fate if an ally can be healed for it and it is not currently up.",
["action"] = "halo",
},
{
["enabled"] = true,
["description"] = "Use Divine Star to acquire Twist of Fate if an ally can be healed for it and it is not currently up.",
["action"] = "divine_star",
},
{
["enabled"] = true,
["criteria"] = "buff.rhapsody.stack = 20 & talent.rhapsody.enabled",
["action"] = "holy_nova",
["description"] = "Use Holy Nova when Rhapsody is fully stacked to acquire Twist of Fate if an ally can be healed for it and it is not currently up.",
},
},
},
["version"] = 20250823,
["warnings"] = "The import for 'trinkets' required some automated changes.\nLine 1: Converted 'hyperthread_wristwraps.void_blast.count' to 'hyperthread_wristwraps.void_blast' (1x).\nLine 1: Converted 'hyperthread_wristwraps.void_bolt.count' to 'hyperthread_wristwraps.void_bolt' (1x).\nLine 1: Converted 'hyperthread_wristwraps.void_torrent.count' to 'hyperthread_wristwraps.void_torrent' (1x).\n\nThe import for 'main' required some automated changes.\nLine 7: Converted operations in 'insanity.deficit>16&cooldown.void_bolt.remains%gcd.max<=0.1' to 'insanity.deficit>16&cooldown.void_bolt.remains/gcd.max<=0.1'.\nThe following auras were used in the action list but were not found in the addon database:\n - twist_of_fate_can_trigger_on_ally_heal\n\nThe import for 'precombat' required some automated changes.\nLine 3: Converted 'trinket.1.has_buff.intellect' to 'trinket.t1.has_buff.intellect' (1x).\nLine 3: Converted 'trinket.1.has_buff.intellect' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'trinket.1.has_buff.mastery' to 'trinket.t1.has_buff.mastery' (1x).\nLine 3: Converted 'trinket.1.has_buff.mastery' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'trinket.1.has_buff.versatility' to 'trinket.t1.has_buff.versatility' (1x).\nLine 3: Converted 'trinket.1.has_buff.versatility' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'trinket.1.has_buff.haste' to 'trinket.t1.has_buff.haste' (1x).\nLine 3: Converted 'trinket.1.has_buff.haste' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'trinket.1.has_buff.crit' to 'trinket.t1.has_buff.crit' (1x).\nLine 3: Converted 'trinket.1.has_buff.crit' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'trinket.1.is.signet_of_the_priory' to 'trinket.t1.is.signet_of_the_priory' (1x).\nLine 3: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 3: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 4: Converted 'trinket.2.has_buff.intellect' to 'trinket.t2.has_buff.intellect' (1x).\nLine 4: Converted 'trinket.2.has_buff.intellect' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.has_buff.mastery' to 'trinket.t2.has_buff.mastery' (1x).\nLine 4: Converted 'trinket.2.has_buff.mastery' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.has_buff.versatility' to 'trinket.t2.has_buff.versatility' (1x).\nLine 4: Converted 'trinket.2.has_buff.versatility' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.has_buff.haste' to 'trinket.t2.has_buff.haste' (1x).\nLine 4: Converted 'trinket.2.has_buff.haste' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.has_buff.crit' to 'trinket.t2.has_buff.crit' (1x).\nLine 4: Converted 'trinket.2.has_buff.crit' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.is.signet_of_the_priory' to 'trinket.t2.is.signet_of_the_priory' (1x).\nLine 4: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 4: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nThe following auras were used in the action list but were not found in the addon database:\n - crit\n\nImported 8 action lists.\n",
["spec"] = 258,
["profile"] = "## https://github.com/simulationcraft/simc/blob/thewarwithin/ActionPriorityLists/default/priest_shadow.simc\n## SimulationCraft Commit Sync: bd9a80c\n## Date: 2025-08-10\n\nactions.precombat+=/power_word_fortitude\nactions.precombat+=/shadowform,if=!buff.shadowform.up\nactions.precombat+=/variable,name=trinket_1_buffs,value=(trinket.1.has_buff.intellect||trinket.1.has_buff.mastery||trinket.1.has_buff.versatility||trinket.1.has_buff.haste||trinket.1.has_buff.crit||trinket.1.is.signet_of_the_priory)&(trinket.1.cooldown.duration>=20)\nactions.precombat+=/variable,name=trinket_2_buffs,value=(trinket.2.has_buff.intellect||trinket.2.has_buff.mastery||trinket.2.has_buff.versatility||trinket.2.has_buff.haste||trinket.2.has_buff.crit||trinket.2.is.signet_of_the_priory)&(trinket.2.cooldown.duration>=20)\nactions.precombat+=/variable,name=dr_force_prio,default=1,op=reset\nactions.precombat+=/variable,name=me_force_prio,default=1,op=reset\nactions.precombat+=/variable,name=max_vts,default=12,op=reset\nactions.precombat+=/variable,name=is_vt_possible,default=0,op=reset\nactions.precombat+=/variable,name=pooling_mindblasts,default=0,op=reset\n## actions.precombat+=/use_item,name=ingenious_mana_battery\nactions.precombat+=/arcane_torrent\n## actions.precombat+=/use_item,name=aberrant_spellforge\nactions.precombat+=/halo,if=active_enemies<=4&(fight_remains>=120||active_enemies<=2)&!talent.power_surge\n## [Syrif] - Even with startsCombat = true, this spell doesnt like to start combat. time_since prevents double-cast\nactions.precombat+=/shadow_crash,line_cd=5,if=active_enemies<=12\nactions.precombat+=/vampiric_touch,if=!talent.shadow_crash.enabled||active_enemies>8\n\nactions+=/silence\nactions+=/variable,name=holding_crash,op=set,value=false\nactions+=/variable,name=pool_for_cds,op=set,value=(cooldown.void_eruption.remains<=gcd.max*3&talent.void_eruption||cooldown.dark_ascension.up&talent.dark_ascension)||talent.void_torrent&talent.psychic_link&cooldown.void_torrent.remains<=4&!variable.holding_crash&!buff.voidform.up\nactions+=/call_action_list,name=aoe,strict=1,if=active_enemies>2\nactions+=/run_action_list,name=main\n\nactions.aoe+=/call_action_list,name=aoe_variables\n# High Priority action to put out Vampiric Touch on enemies that will live at least 18 seconds, up to 12 targets manually while prepping AoE\nactions.aoe+=/vampiric_touch,cycle_targets=1,if=(variable.max_vts>0&!variable.manual_vts_applied&!action.shadow_crash.in_flight)&!buff.entropic_rift.up\n# Use Shadow Crash to apply Vampiric Touch to as many adds as possible while being efficient with Vampiric Touch refresh windows\nactions.aoe+=/shadow_crash,if=!variable.holding_crash\n\nactions.aoe_variables+=/variable,name=max_vts,op=set,default=12,value=active_enemies>?12\nactions.aoe_variables+=/variable,name=is_vt_possible,op=set,value=0,default=1\nactions.aoe_variables+=/variable,name=is_vt_possible,op=set,value=1,if=target.time_to_die>=18\n# TODO: Revamp to fix undesired behavior with unstacked fights\nactions.aoe_variables+=/variable,name=dots_up,op=set,value=(active_dot.vampiric_touch+8*(action.shadow_crash.in_flight&action.shadow_crash.enabled))>=variable.max_vts||!variable.is_vt_possible\nactions.aoe_variables+=/variable,name=holding_crash,op=set,value=(variable.max_vts-active_dot.vampiric_touch)<4&raid_event.adds.in>15||raid_event.adds.in<10&raid_event.adds.count>(variable.max_vts-active_dot.vampiric_touch),if=variable.holding_crash&action.shadow_crash.enabled&raid_event.adds.exists\nactions.aoe_variables+=/variable,name=manual_vts_applied,op=set,value=(active_dot.vampiric_touch+8*!variable.holding_crash)>=variable.max_vts||!variable.is_vt_possible\n\n## TODO: Add holding condition for weird fight times to potion with execute\nactions.cds+=/potion,if=(buff.voidform.up&buff.power_infusion.up||buff.dark_ascension.up)&(fight_remains>=320||buff.bloodlust.up)||boss&fight_remains<=30\nactions.cds+=/fireblood,if=buff.power_infusion.up&(buff.voidform.up||buff.dark_ascension.up)||boss&fight_remains<=8\nactions.cds+=/berserking,if=buff.power_infusion.up&(buff.voidform.up||buff.dark_ascension.up)||boss&fight_remains<=12\nactions.cds+=/blood_fury,if=buff.power_infusion.up&(buff.voidform.up||buff.dark_ascension.up)||boss&fight_remains<=15\nactions.cds+=/ancestral_call,if=buff.power_infusion.up&(buff.voidform.up||buff.dark_ascension.up)||boss&fight_remains<=15\n# Use <a href='https://www.wowhead.com/spell=10060/power-infusion'>Power Infusion</a> while <a href='https://www.wowhead.com/spell=194249/voidform'>Voidform</a> or <a href='https://www.wowhead.com/spell=391109/dark-ascension'>Dark Ascension</a> is active. Chain directly after your own <a href='https://www.wowhead.com/spell=10060/power-infusion'>Power Infusion</a>.\n## [Hekili] Nobody gonna do this.\n## actions.cds+=/cancel_buff,name=power_infusion,if=cooldown.power_infusion.up&cooldown.power_infusion.duration>0&set_bonus.tww2_4pc&buff.power_infusion.remains<=2\n## ## actions.cds+=/invoke_external_buff,name=power_infusion,if=(buff.voidform.up||buff.dark_ascension.up||set_bonus.tww2_4pc)&!buff.power_infusion.up\n## actions.cds+=/invoke_external_buff,name=bloodlust,if=buff.power_infusion.up&boss&fight_remains<120||boss&fight_remains<=40\n# Use Flash Heal to proc Nexus-King's Command trinket\nactions.cds+=/flash_heal,if=equipped.nexuskings_command&buff.oathbound.up&(!buff.boon_of_the_oathsworn.up||buff.boon_of_the_oathsworn.remains<3)&((talent.void_eruption&(buff.voidform.up||cooldown.void_eruption.up))||(talent.dark_ascension&cooldown.dark_ascension.up)||(talent.power_surge&cooldown.halo.up)||(talent.entropic_rift&cooldown.void_torrent.up))\n# Sync Power Infusion with Voidform or Dark Ascension\nactions.cds+=/power_infusion,if=(buff.voidform.up||buff.dark_ascension.up&(fight_remains<=80||fight_remains>=140))&(!buff.power_infusion.up||set_bonus.tww2_4pc&buff.power_infusion.remains<=15)\n# Make sure Mindbender is active before popping Dark Ascension unless you have insignificant talent points or too many targets\nactions.cds+=/halo,if=talent.power_surge&(pet.fiend.active&cooldown.fiend.remains>=4&talent.mindbender||!talent.mindbender&!cooldown.fiend.up||active_enemies>2&!talent.inescapable_torment||!talent.dark_ascension)&(cooldown.mind_blast.charges=0||!cooldown.void_torrent.up||!talent.void_eruption||cooldown.void_eruption.remains>=gcd.max*4||buff.mind_devourer.up&talent.mind_devourer)\n# Make sure Mindbender is active before popping Void Eruption and dump charges of Mind Blast if Mind Devourer is not active and you are not Archon\nactions.cds+=/void_eruption,if=(pet.fiend.active&cooldown.fiend.remains>=4||!talent.mindbender&!cooldown.fiend.up||active_enemies>2&!talent.inescapable_torment)&(cooldown.mind_blast.charges=0||time>15||buff.mind_devourer.up&talent.mind_devourer||buff.power_surge.up)\n# Use Dark Ascension when you have enough Insanity to cast Devouring Plague.\nactions.cds+=/dark_ascension,if=(pet.fiend.active&cooldown.fiend.remains>=4||!talent.mindbender&!cooldown.fiend.up||active_enemies>2&!talent.inescapable_torment)&(active_dot.devouring_plague>=1||insanity>=(20-(5*talent.minds_eye)+(5*talent.distorted_reality)-(pet.fiend.active*2)))\nactions.cds+=/call_action_list,name=trinkets\n# Use Desperate Prayer to heal up should Shadow Word: Death or other damage bring you below 75%\nactions.cds+=/desperate_prayer,if=health.pct<=75\n\n# Use Halo to acquire Twist of Fate if an ally can be healed for it and it is not currently up.\nactions.heal_for_tof+=/halo\n# Use Divine Star to acquire Twist of Fate if an ally can be healed for it and it is not currently up.\nactions.heal_for_tof+=/divine_star\n# Use Holy Nova when Rhapsody is fully stacked to acquire Twist of Fate if an ally can be healed for it and it is not currently up.\nactions.heal_for_tof+=/holy_nova,if=buff.rhapsody.stack=20&talent.rhapsody\n\nactions.main+=/variable,name=dots_up,op=set,value=active_dot.vampiric_touch=active_enemies||action.shadow_crash.in_flight,if=active_enemies<3\nactions.main+=/call_action_list,name=cds,if=boss&fight_remains<30||target.time_to_die>15&(!variable.holding_crash||active_enemies>2)\n# Use Shadowfiend and Mindbender on cooldown as long as Vampiric Touch and Shadow Word: Pain are active and sync with Dark Ascension\nactions.main+=/mindbender,if=(dot.shadow_word_pain.ticking&variable.dots_up||action.shadow_crash.in_flight)&(!cooldown.halo.up||!talent.power_surge.enabled)&(boss&fight_remains<30||target.time_to_die>15)&(!talent.dark_ascension||cooldown.dark_ascension.remains<gcd.max||boss&fight_remains<15)\n# High Priority Shadow Word: Death when you are forcing the bonus from Devour Matter\nactions.main+=/shadow_word_death,cycle_targets=1,if=priest.force_devour_matter&talent.devour_matter\n# Blast more burst :wicked:\nactions.main+=/void_blast,cycle_targets=1,if=(dot.devouring_plague.remains>=execute_time||buff.entropic_rift.remains<=gcd.max||action.void_torrent.channeling&talent.void_empowerment)&(insanity.deficit>=16||cooldown.mind_blast.full_recharge_time<=gcd.max||buff.entropic_rift.remains<=gcd.max)\n# Do not let Voidform Expire if you can avoid it.\nactions.main+=/devouring_plague,cycle_targets=1,if=buff.voidform.up&talent.perfected_form&buff.voidform.remains<=gcd.max&talent.void_eruption\n# Use Voidbolt on the enemy with the largest time to die. We do no care about dots because Voidbolt is only accessible inside voidform which guarantees maximum effect\nactions.main+=/void_bolt,cycle_targets=1,if=insanity.deficit>16&cooldown.void_bolt.remains%gcd.max<=0.1\n# Do not overcap on insanity\nactions.main+=/devouring_plague,cycle_targets=1,if=active_dot.devouring_plague<=1&dot.devouring_plague.remains<=gcd.max&(!talent.void_eruption||cooldown.void_eruption.remains>=gcd.max*3)||insanity.deficit<=35||buff.mind_devourer.up||buff.entropic_rift.up||buff.power_surge.up&buff.tww3_archon_4pc_helper.stack<4&buff.ascension.up\n# Use Void Torrent if it will get near full Mastery Value\nactions.main+=/void_torrent,cycle_targets=1,if=!variable.holding_crash&(dot.devouring_plague.remains>=2.5&(cooldown.dark_ascension.remains>=12||!talent.dark_ascension||!talent.void_blast)||cooldown.void_eruption.remains<=3&talent.void_eruption),interrupt_if=talent.entropic_rift.disabled,interrupt_immediate=1\n# Use Void Volley if it would expire soon\nactions.main+=/void_volley,if=buff.void_volley.remains<=5||buff.entropic_rift.up&action.void_blast.usable_in>buff.entropic_rift.remains||target.time_to_die<=5\n# MFI is a good button\nactions.main+=/mind_flay,cycle_targets=1,if=buff.mind_flay_insanity.up\n# Use Shadow Crash as long as you are not holding for adds and Vampiric Touch is within pandemic range\nactions.main+=/shadow_crash,cycle_targets=1,if=!variable.holding_crash&!action.shadow_crash.in_flight\n# Put out Vampiric Touch on enemies that will live at least 12s and Shadow Crash is not available soon\nactions.main+=/vampiric_touch,cycle_targets=1,if=refreshable&target.time_to_die>12&(dot.vampiric_touch.ticking||!variable.dots_up)&(variable.max_vts>0||active_enemies=1)&(action.shadow_crash.usable_in>=dot.vampiric_touch.remains||variable.holding_crash||!action.shadow_crash.enabled)&(!action.shadow_crash.in_flight)\n# Use all charges of Mind Blast if Vampiric Touch and Shadow Word: Pain are active and Mind Devourer is not active or you are prepping Void Eruption\nactions.main+=/mind_blast,cycle_targets=1,if=(!buff.mind_devourer.react||!talent.mind_devourer||cooldown.void_eruption.up&talent.void_eruption)\nactions.main+=/void_volley\nactions.main+=/devouring_plague,if=buff.voidform.up&talent.void_eruption||buff.power_surge.up||talent.distorted_reality\nactions.main+=/halo,if=spell_targets>1\n# Healing spell action list for proccing Twist of Fate. Set priest.twist_of_fate_heal_rppm=<rppm> to make this be used.\n# actions.main+=/call_action_list,name=heal_for_tof,if=!buff.twist_of_fate.up&buff.twist_of_fate_can_trigger_on_ally_heal.up&(talent.rhapsody||talent.divine_star||talent.halo)\nactions.main+=/shadow_crash,if=!variable.holding_crash&raid_event.adds.in>=30&talent.descending_darkness&raid_event.movement.in>=30\nactions.main+=/shadow_word_death,cycle_targets=1,if=target.health.pct<20||talent.deathspeaker&target.health.pct<35\nactions.main+=/shadow_word_death,cycle_targets=1,if=talent.inescapable_torment&pet.fiend.active\nactions.main+=/mind_flay,cycle_targets=1,chain=1,interrupt_immediate=1,interrupt_if=ticks>=2,interrupt_global=1\nactions.main+=/divine_star\n# Use Shadow Crash while moving as a low-priority action when adds will not spawn in 20 seconds.\nactions.main+=/shadow_crash,if=raid_event.adds.in>20\n# Use Shadow Word: Death while moving as a low-priority action in execute\nactions.main+=/shadow_word_death,cycle_targets=1,if=target.health.pct<20\n# Use Shadow Word: Death while moving as a low-priority action\nactions.main+=/shadow_word_death,cycle_targets=1,if=dot.devouring_plague.remains\n# Use Shadow Word: Pain while moving as a low-priority action\nactions.main+=/shadow_word_pain\n\nactions.trinkets+=/use_item,use_off_gcd=1,name=hyperthread_wristwraps,if=talent.void_blast&hyperthread_wristwraps.void_blast.count>=2&!cooldown.mind_blast.up||!talent.void_blast&((hyperthread_wristwraps.void_bolt.count>=1||!talent.void_eruption)&hyperthread_wristwraps.void_torrent.count>=1)\nactions.trinkets+=/use_item,use_off_gcd=1,name=aberrant_spellforge,if=gcd.remains>0&buff.aberrant_spellforge.stack<=4\nactions.trinkets+=/use_item,use_off_gcd=1,name=neural_synapse_enhancer,if=(buff.power_surge.up||buff.entropic_rift.up||variable.trinket_1_buffs||variable.trinket_2_buffs)&(buff.voidform.up||cooldown.void_eruption.remains>=40||buff.dark_ascension.up)\nactions.trinkets+=/use_item,use_off_gcd=1,name=flarendos_pilot_light,if=gcd.remains>0&(buff.voidform.up||buff.power_infusion.remains>=10||buff.dark_ascension.up)||boss&fight_remains<20\nactions.trinkets+=/use_item,use_off_gcd=1,name=geargrinders_spare_keys,if=gcd.remains>0\nactions.trinkets+=/use_item,name=spymasters_web,if=(buff.power_infusion.remains>=10&buff.spymasters_report.stack>=36&fight_remains>240)&(buff.voidform.up||buff.dark_ascension.up||!talent.dark_ascension&!talent.void_eruption)||((buff.power_infusion.remains>=10&buff.bloodlust.up&buff.spymasters_report.stack>=10)||buff.power_infusion.remains>=10&(boss&fight_remains<120))&(buff.voidform.up||buff.dark_ascension.up||!talent.dark_ascension&!talent.void_eruption)||(boss&fight_remains<=20||buff.dark_ascension.up&boss&fight_remains<=60||buff.entropic_rift.up&talent.entropic_rift&boss&fight_remains<=30)&!buff.spymasters_web.up\nactions.trinkets+=/use_item,name=prized_gladiators_badge_of_ferocity,if=(buff.voidform.up||buff.power_infusion.remains>=10||buff.dark_ascension.up||(talent.void_eruption&cooldown.void_eruption.remains>10)||equipped.neural_synapse_enhancer&buff.entropic_rift.up)||boss&fight_remains<20\nactions.trinkets+=/use_items,if=(buff.voidform.up||buff.power_infusion.remains>=10||buff.dark_ascension.up||equipped.neural_synapse_enhancer&buff.entropic_rift.up)||boss&fight_remains<20",
},
["Elemental"] = {
["source"] = "https://github.com/simulationcraft/simc/blob/thewarwithin/ActionPriorityLists/default/shaman_elemental.simc",
["builtIn"] = true,
["date"] = 20250821,
["spec"] = 262,
["desc"] = "2025-08-21: Fix typo with trinkets\n\n2025-08-07: Initial APL",
["profile"] = "## https://github.com/simulationcraft/simc/blob/thewarwithin/ActionPriorityLists/default/shaman_elemental.simc\n## SimulationCraft Commit Sync: 6d828ce\n## Date: 2025-08-07\n\n# Ensure weapon enchant is applied if you've selected Improved Flametongue Weapon.\nactions.precombat+=/flametongue_weapon,if=talent.improved_flametongue_weapon.enabled\nactions.precombat+=/skyfury\nactions.precombat+=/lightning_shield\nactions.precombat+=/thunderstrike_ward\nactions.precombat+=/earth_shield,if=!buff.earth_shield.up&talent.elemental_orbit\nactions.precombat+=/variable,name=mael_cap,value=100+50*talent.swelling_maelstrom.rank+25*talent.primordial_capacity.rank\nactions.precombat+=/variable,name=trinket_1_buffs,value=(trinket.1.has_use_buff||trinket.1.is.funhouse_lens)\nactions.precombat+=/variable,name=trinket_2_buffs,value=(trinket.2.has_use_buff||trinket.2.is.funhouse_lens)\nactions.precombat+=/stormkeeper\n\n# Interrupt of casts.\nactions+=/wind_shear\n# Enable more movement.\nactions+=/spiritwalkers_grace,moving=1\nactions+=/blood_fury,if=!talent.ascendance.enabled||buff.ascendance.up||cooldown.ascendance.remains>50\nactions+=/berserking,if=!talent.ascendance.enabled||buff.ascendance.up\nactions+=/fireblood,if=!talent.ascendance.enabled||buff.ascendance.up||cooldown.ascendance.remains>50\nactions+=/ancestral_call,if=!talent.ascendance.enabled||buff.ascendance.up||cooldown.ascendance.remains>50\n# Neural Synapse Enhancer\nactions+=/use_item,name=neural_synapse_enhancer,use_off_gcd=1,if=buff.ascendance.remains>12||cooldown.ascendance.remains>10\n# Normal trinkets\nactions+=/use_item,slot=trinket1,use_off_gcd=1,if=((buff.fury_of_storms.up||!talent.fury_of_the_storms||cooldown.stormkeeper.remains>10)&(cooldown.primordial_wave.remains>25||!talent.primordial_wave||active_enemies>=2)&cooldown.ascendance.remains>15||boss&fight_remains<21||buff.ascendance.remains>12)\nactions+=/use_item,slot=trinket2,use_off_gcd=1,if=((buff.fury_of_storms.up||!talent.fury_of_the_storms||cooldown.stormkeeper.remains>10)&(cooldown.primordial_wave.remains>25||!talent.primordial_wave||active_enemies>=2)&cooldown.ascendance.remains>15||boss&fight_remains<21||buff.ascendance.remains>12)\n# Normal weapons\nactions+=/use_item,slot=main_hand,use_off_gcd=1,if=(buff.fury_of_storms.up||!talent.fury_of_the_storms||cooldown.stormkeeper.remains>10)&(cooldown.primordial_wave.remains>25||!talent.primordial_wave)&cooldown.ascendance.remains>15||buff.ascendance.remains>12\nactions+=/use_item,slot=trinket1,use_off_gcd=1,if=!(trinket.1.has_use_buff)&(!(trinket.2.has_use_buff||equipped.neural_synapse_enhancer||equipped.best_in_slots)||cooldown.ascendance.remains>20||(trinket.2.cooldown.remains>20&cooldown.neural_synapse_enhancer.remains>20&cooldown.best_in_slots.remains>20))\nactions+=/use_item,slot=trinket2,use_off_gcd=1,if=!(trinket.2.has_use_buff)&(!(trinket.1.has_use_buff||equipped.neural_synapse_enhancer||equipped.best_in_slots)||cooldown.ascendance.remains>20||(trinket.1.cooldown.remains>20&cooldown.neural_synapse_enhancer.remains>20&cooldown.best_in_slots.remains>20))\nactions+=/lightning_shield,if=buff.lightning_shield.down\nactions+=/natures_swiftness\n### Use Power Infusion on Cooldown.\n## actions+=/invoke_external_buff,name=power_infusion,if=buff.ascendance.up||cooldown.ascendance.remains>30\nactions+=/potion,if=buff.bloodlust.up||buff.ascendance.remains>12||boss&fight_remains<31\n# [Hekili] Ascendance/trinket sync logic; revised to recover when a trinket is used *before* Ascendance.\nactions+=/variable,name=ascendance_trinket,value=(trinket.1.has_use_buff&trinket.1.ready_cooldown||trinket.1.cooldown.remains>20)||(trinket.2.has_use_buff&trinket.2.ready_cooldown||trinket.2.cooldown.remains>20)||equipped.neural_synapse_enhancer&(cooldown.neural_synapse_enhancer.remains=0||cooldown.neural_synapse_enhancer.remains>20)||equipped.best_in_slots&(cooldown.best_in_slots.remains=0||cooldown.best_in_slots.remains>20)||!trinket.1.has_use_buff&!trinket.2.has_use_buff\nactions+=/run_action_list,name=aoe,strict=1,if=active_enemies>1\nactions+=/run_action_list,name=single_target\n\nactions.aoe+=/fire_elemental\nactions.aoe+=/storm_elemental,if=(!buff.storm_elemental.up||!talent.echo_of_the_elementals)&!buff.ancestral_wisdom.up\nactions.aoe+=/stormkeeper,if=talent.herald_of_the_storms||cooldown.primordial_wave.remains<gcd||!talent.primordial_wave\n# Spread Flame shocks for Pwave.\nactions.aoe+=/liquid_magma_totem,if=(cooldown.primordial_wave.remains<5*gcd||!talent.primordial_wave)&(active_dot.flame_shock<=active_enemies-3||active_dot.flame_shock<(active_enemies>?3))\nactions.aoe+=/flame_shock,cycle_targets=1,if=cooldown.primordial_wave.remains<gcd&!dot.flame_shock.ticking&(talent.primordial_wave||active_enemies<=3)&cooldown.ascendance.remains>10\nactions.aoe+=/primordial_wave,if=active_dot.flame_shock=active_enemies>?6||(cooldown.liquid_magma_totem.remains>15||!talent.liquid_magma_totem)&cooldown.ascendance.remains>15\nactions.aoe+=/ancestral_swiftness\n# [Hekili] Revised trinket sync to recover when trinket is used before Ascendance.\nactions.aoe+=/ascendance,if=(talent.first_ascendant||fight_remains>200||fight_remains<80||variable.ascendance_trinket)&(buff.fury_of_storms.up||!talent.fury_of_the_storms)\n# Surge of Power is strong and should be used. ??\nactions.aoe+=/tempest,cycle_targets=1,if=buff.arc_discharge.stack<2&(buff.surge_of_power.up||!talent.surge_of_power)\nactions.aoe+=/lightning_bolt,if=buff.stormkeeper.up&buff.surge_of_power.up&active_enemies=2\nactions.aoe+=/chain_lightning,if=active_enemies>=6&buff.surge_of_power.up\nactions.aoe+=/lightning_bolt,if=buff.storm_frenzy.stack=2&!talent.surge_of_power&maelstrom<variable.mael_cap-(15+buff.stormkeeper.up*active_enemies*active_enemies)&buff.stormkeeper.up&!buff.call_of_the_ancestors.up&active_enemies=2\nactions.aoe+=/chain_lightning,if=buff.storm_frenzy.stack=2&!talent.surge_of_power&maelstrom<variable.mael_cap-(15+buff.stormkeeper.up*active_enemies*active_enemies)\n# Use Lava Surge procs to consume fire part of fusion if you can also buff Earthquake with it.\nactions.aoe+=/lava_burst,cycle_targets=1,if=cooldown_react&buff.lava_surge.up&buff.fusion_of_elements_fire.up&!buff.master_of_the_elements.up&(maelstrom>52-5*talent.eye_of_the_storm&(buff.echoes_of_great_sundering_es.up||!talent.echoes_of_great_sundering))\n# Spend if you are close to cap, Master of the Elements buff is up or Ascendance is about to expire.\nactions.aoe+=/earthquake,if=(maelstrom>variable.mael_cap-10*(active_enemies+1)||buff.master_of_the_elements.up||buff.ascendance.up&buff.ascendance.remains<3||boss&fight_remains<5)&(buff.echoes_of_great_sundering_es.up||buff.echoes_of_great_sundering_eb.up||!talent.echoes_of_great_sundering&(!talent.elemental_blast||active_enemies>1+talent.tempest))&(cooldown.primordial_wave.remains>8||!(set_bonus.tww3_4pc&talent.ancestral_swiftness)||maelstrom>variable.mael_cap-20)\nactions.aoe+=/elemental_blast,cycle_targets=1,if=(maelstrom>variable.mael_cap-10*(active_enemies+1)||buff.master_of_the_elements.up||buff.ascendance.up&buff.ascendance.remains<3||boss&fight_remains<5)&(cooldown.primordial_wave.remains>8||!(set_bonus.tww3_4pc&talent.ancestral_swiftness)||maelstrom>variable.mael_cap-20)\nactions.aoe+=/earth_shock,cycle_targets=1,if=(maelstrom>variable.mael_cap-10*(active_enemies+1)||buff.master_of_the_elements.up||buff.ascendance.up&buff.ascendance.remains<3||boss&fight_remains<5)&(cooldown.primordial_wave.remains>8||!(set_bonus.tww3_4pc&talent.ancestral_swiftness)||maelstrom>variable.mael_cap-20)\n# Spend to spread Lightning Rod if Tempest or Stormkeeper is up.\nactions.aoe+=/earthquake,if=talent.lightning_rod&lightning_rod<active_enemies&(buff.stormkeeper.up||buff.tempest.up||!talent.surge_of_power)&(buff.echoes_of_great_sundering_es.up||buff.echoes_of_great_sundering_eb.up||!talent.echoes_of_great_sundering&(!talent.elemental_blast||active_enemies>1+3*talent.tempest))\nactions.aoe+=/elemental_blast,cycle_targets=1,if=talent.lightning_rod&lightning_rod<active_enemies&(buff.stormkeeper.up||buff.tempest.up||!talent.surge_of_power)\nactions.aoe+=/earth_shock,cycle_targets=1,if=talent.lightning_rod&lightning_rod<active_enemies&(buff.stormkeeper.up||buff.tempest.up||!talent.surge_of_power)\n# Use Icefury to proc Fusion of Elements.\nactions.aoe+=/icefury,if=talent.fusion_of_elements&!(buff.fusion_of_elements_nature.up||buff.fusion_of_elements_fire.up)&(active_enemies<=4||!talent.elemental_blast||!talent.echoes_of_great_sundering)\n# [2-3t] Use Lava Surge procs to buff <anything> with MotE on 2-3 targets.\nactions.aoe+=/lava_burst,cycle_targets=1,if=cooldown_react&buff.lava_surge.up&!buff.master_of_the_elements.up&talent.master_of_the_elements&active_enemies<=3\n# [2-3t]{Farseer} Use all Lava bursts to buff spenders, SK_CL and Tempest with MotE on 2-3 targets if not talented into Lightning Rod.\nactions.aoe+=/lava_burst,cycle_targets=1,if=!buff.master_of_the_elements.up&talent.master_of_the_elements&(buff.stormkeeper.up||buff.tempest.up||maelstrom>82-10*talent.eye_of_the_storm||maelstrom>52-5*talent.eye_of_the_storm&(buff.echoes_of_great_sundering_eb.up||!talent.elemental_blast))&active_enemies<=3&!talent.lightning_rod&talent.call_of_the_ancestors\n# [2t] Use all Lava bursts to buff <anything> with MotE on 2 targets.\nactions.aoe+=/lava_burst,cycle_targets=1,if=!buff.master_of_the_elements.up&active_enemies=2\nactions.aoe+=/flame_shock,cycle_targets=1,if=active_dot.flame_shock=0&buff.fusion_of_elements_fire.up&(!talent.elemental_blast||!talent.echoes_of_great_sundering&active_enemies>1+talent.tempest)\n# Spend to buff SK_CL (on 6+) or Tempest with SoP.\nactions.aoe+=/earthquake,if=((buff.stormkeeper.up&active_enemies>=6||buff.tempest.up)&talent.surge_of_power)&(buff.echoes_of_great_sundering_es.up||buff.echoes_of_great_sundering_eb.up||!talent.echoes_of_great_sundering&(!talent.elemental_blast||active_enemies>1+talent.tempest))\nactions.aoe+=/elemental_blast,cycle_targets=1,if=(buff.stormkeeper.up&active_enemies>=6||buff.tempest.up)&talent.surge_of_power\nactions.aoe+=/earth_shock,cycle_targets=1,if=(buff.stormkeeper.up&active_enemies>=6||buff.tempest.up)&talent.surge_of_power\nactions.aoe+=/frost_shock,if=buff.icefury_dmg.up&!buff.ascendance.up&!buff.stormkeeper.up&(talent.call_of_the_ancestors||active_enemies<=3)\nactions.aoe+=/chain_lightning\nactions.aoe+=/flame_shock,moving=1,if=refreshable\nactions.aoe+=/frost_shock,moving=1\n\nactions.single_target+=/fire_elemental\nactions.single_target+=/storm_elemental,if=(!buff.storm_elemental.up||!talent.echo_of_the_elementals)&!buff.ancestral_wisdom.up\n# Just use Stormkeeper.\nactions.single_target+=/stormkeeper,if=talent.herald_of_the_storms||cooldown.primordial_wave.remains<gcd||!talent.primordial_wave\n# Apply Flame shock if it is not up. s3 Farseer opts into a bit more complex LMT usage to take advantage of ancestors casting 2 spells.\nactions.single_target+=/liquid_magma_totem,if=!dot.flame_shock.ticking&!buff.surge_of_power.up&!buff.master_of_the_elements.up&!(set_bonus.tww3_2pc&talent.ancestral_swiftness)\nactions.single_target+=/liquid_magma_totem,if=dot.flame_shock.refreshable&!buff.surge_of_power.up&!buff.master_of_the_elements.up&cooldown.ascendance.ready\nactions.single_target+=/flame_shock,if=!dot.flame_shock.ticking&!buff.surge_of_power.up&!buff.master_of_the_elements.up\n# Use Primordial Wave as much as possible.\nactions.single_target+=/primordial_wave\nactions.single_target+=/ancestral_swiftness\n# [Hekili] Revised trinket sync to recover when trinket is used before Ascendance.\nactions.single_target+=/ascendance,if=(talent.first_ascendant||variable.ascendance_trinket)&(buff.fury_of_storms.up||cooldown.stormkeeper.remains>12||!talent.fury_of_the_storms)&(cooldown.primordial_wave.remains>25||!talent.primordial_wave)\n# Surge of Power is strong and should be used.??\nactions.single_target+=/tempest,if=buff.surge_of_power.up\nactions.single_target+=/lightning_bolt,if=buff.surge_of_power.up\nactions.single_target+=/tempest,if=buff.storm_frenzy.stack=2&!talent.surge_of_power.enabled\n# Use LMT to benefit from ancestors multicasting.\nactions.single_target+=/liquid_magma_totem,if=dot.flame_shock.refreshable&!buff.master_of_the_elements.up&!talent.call_of_the_ancestors\nactions.single_target+=/liquid_magma_totem,if=cooldown.primordial_wave.remains>24&!buff.ascendance.up&maelstrom<variable.mael_cap-10&!buff.ancestral_swiftness.up&!buff.master_of_the_elements.up\n# Maintain Flame shock if talented into Erupting Lava.\nactions.single_target+=/flame_shock,if=dot.flame_shock.refreshable&!buff.surge_of_power.up&!buff.master_of_the_elements.up&talent.erupting_lava\n# Spend if close to overcaping or MotE buff is up. Friendship ended with Echoes of Great Sundering.\nactions.single_target+=/elemental_blast,if=maelstrom>variable.mael_cap-15||buff.master_of_the_elements.up||buff.ancestral_wisdom.up&buff.ancestral_wisdom.remains<2\nactions.single_target+=/earth_shock,if=maelstrom>variable.mael_cap-15||buff.master_of_the_elements.up||buff.ancestral_wisdom.up&buff.ancestral_wisdom.remains<2\n# Use Icefury to proc Fusion of Elements.\nactions.single_target+=/icefury,if=!(buff.fusion_of_elements_nature.up||buff.fusion_of_elements_fire.up)\n# Use Lava Burst to proc Master of the Elements.\nactions.single_target+=/lava_burst,cycle_targets=1,if=!buff.master_of_the_elements.up&(buff.lava_surge.up||buff.tempest.up||buff.stormkeeper.up||cooldown.lava_burst.charges_fractional>1.8||maelstrom>variable.mael_cap-30||(maelstrom>52-5*talent.eye_of_the_storm*(1+talent.elemental_blast)+30*talent.elemental_blast)&(cooldown.primordial_wave.remains>8||!(set_bonus.tww3_4pc&talent.ancestral_swiftness)))\n# Spend to activate Surge of Power buff for Tempest or Stormkeeper.\nactions.single_target+=/earthquake,if=buff.echoes_of_great_sundering_eb.up&(buff.tempest.up||buff.stormkeeper.up)&talent.surge_of_power&!talent.master_of_the_elements\nactions.single_target+=/elemental_blast,if=(buff.tempest.up||buff.stormkeeper.up)&talent.surge_of_power&!talent.master_of_the_elements\nactions.single_target+=/earth_shock,if=(buff.tempest.up||buff.stormkeeper.up)&talent.surge_of_power&!talent.master_of_the_elements\nactions.single_target+=/tempest\nactions.single_target+=/lightning_bolt,if=buff.storm_elemental.up&buff.wind_gust.stack<4\n# Use Icefury-empowered Frost Shocks outside of Ascendance.\nactions.single_target+=/frost_shock,if=buff.icefury_dmg.up&!buff.ascendance.up&!buff.stormkeeper.up&talent.call_of_the_ancestors\n# Filler spell. Always available. Always the bottom line.\nactions.single_target+=/lightning_bolt\nactions.single_target+=/flame_shock,moving=1,if=movement.distance>6||refreshable\n# Frost Shock is our movement filler.\nactions.single_target+=/frost_shock,moving=1",
["version"] = 20250821,
["warnings"] = "The import for 'default' required some automated changes.\nLine 11: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 11: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 11: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 11: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 12: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 12: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 12: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 12: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 16: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 16: Converted 'trinket.1.ready_cooldown' to 'trinket.t1.ready_cooldown' (1x).\nLine 16: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 16: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 16: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 16: Converted 'trinket.2.ready_cooldown' to 'trinket.t2.ready_cooldown' (1x).\nLine 16: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 16: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 16: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 16: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 7: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 7: Converted 'trinket.1.is.funhouse_lens' to 'trinket.t1.is.funhouse_lens' (1x).\nLine 8: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 8: Converted 'trinket.2.is.funhouse_lens' to 'trinket.t2.is.funhouse_lens' (1x).\n\nImported 4 action lists.\n",
["lists"] = {
["single_target"] = {
{
["action"] = "fire_elemental",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "( ! buff.storm_elemental.up || ! talent.echo_of_the_elementals.enabled ) & ! buff.ancestral_wisdom.up",
["action"] = "storm_elemental",
},
{
["enabled"] = true,
["criteria"] = "talent.herald_of_the_storms.enabled || cooldown.primordial_wave.remains < gcd.max || ! talent.primordial_wave.enabled",
["action"] = "stormkeeper",
["description"] = "Just use Stormkeeper.",
},
{
["enabled"] = true,
["criteria"] = "! dot.flame_shock.ticking & ! buff.surge_of_power.up & ! buff.master_of_the_elements.up & ! ( set_bonus.tww3_2pc & talent.ancestral_swiftness.enabled )",
["action"] = "liquid_magma_totem",
["description"] = "Apply Flame shock if it is not up. s3 Farseer opts into a bit more complex LMT usage to take advantage of ancestors casting 2 spells.",
},
{
["enabled"] = true,
["criteria"] = "dot.flame_shock.refreshable & ! buff.surge_of_power.up & ! buff.master_of_the_elements.up & cooldown.ascendance.ready",
["action"] = "liquid_magma_totem",
},
{
["enabled"] = true,
["criteria"] = "! dot.flame_shock.ticking & ! buff.surge_of_power.up & ! buff.master_of_the_elements.up",
["action"] = "flame_shock",
},
{
["enabled"] = true,
["description"] = "Use Primordial Wave as much as possible.",
["action"] = "primordial_wave",
},
{
["action"] = "ancestral_swiftness",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "( talent.first_ascendant.enabled || variable.ascendance_trinket ) & ( buff.fury_of_storms.up || cooldown.stormkeeper.remains > 12 || ! talent.fury_of_the_storms.enabled ) & ( cooldown.primordial_wave.remains > 25 || ! talent.primordial_wave.enabled )",
["action"] = "ascendance",
["description"] = "[Hekili] Revised trinket sync to recover when trinket is used before Ascendance.",
},
{
["enabled"] = true,
["criteria"] = "buff.surge_of_power.up",
["action"] = "tempest",
["description"] = "Surge of Power is strong and should be used.??",
},
{
["enabled"] = true,
["criteria"] = "buff.surge_of_power.up",
["action"] = "lightning_bolt",
},
{
["enabled"] = true,
["criteria"] = "buff.storm_frenzy.stack = 2 & ! talent.surge_of_power.enabled",
["action"] = "tempest",
},
{
["enabled"] = true,
["criteria"] = "dot.flame_shock.refreshable & ! buff.master_of_the_elements.up & ! talent.call_of_the_ancestors.enabled",
["action"] = "liquid_magma_totem",
["description"] = "Use LMT to benefit from ancestors multicasting.",
},
{
["enabled"] = true,
["criteria"] = "cooldown.primordial_wave.remains > 24 & ! buff.ascendance.up & maelstrom < variable.mael_cap - 10 & ! buff.ancestral_swiftness.up & ! buff.master_of_the_elements.up",
["action"] = "liquid_magma_totem",
},
{
["enabled"] = true,
["criteria"] = "dot.flame_shock.refreshable & ! buff.surge_of_power.up & ! buff.master_of_the_elements.up & talent.erupting_lava.enabled",
["action"] = "flame_shock",
["description"] = "Maintain Flame shock if talented into Erupting Lava.",
},
{
["enabled"] = true,
["criteria"] = "maelstrom > variable.mael_cap - 15 || buff.master_of_the_elements.up || buff.ancestral_wisdom.up & buff.ancestral_wisdom.remains < 2",
["action"] = "elemental_blast",
["description"] = "Spend if close to overcaping or MotE buff is up. Friendship ended with Echoes of Great Sundering.",
},
{
["enabled"] = true,
["criteria"] = "maelstrom > variable.mael_cap - 15 || buff.master_of_the_elements.up || buff.ancestral_wisdom.up & buff.ancestral_wisdom.remains < 2",
["action"] = "earth_shock",
},
{
["enabled"] = true,
["criteria"] = "! ( buff.fusion_of_elements_nature.up || buff.fusion_of_elements_fire.up )",
["action"] = "icefury",
["description"] = "Use Icefury to proc Fusion of Elements.",
},
{
["enabled"] = true,
["action"] = "lava_burst",
["cycle_targets"] = 1,
["criteria"] = "! buff.master_of_the_elements.up & ( buff.lava_surge.up || buff.tempest.up || buff.stormkeeper.up || cooldown.lava_burst.charges_fractional > 1.8 || maelstrom > variable.mael_cap - 30 || ( maelstrom > 52 - 5 * talent.eye_of_the_storm.enabled * ( 1 + talent.elemental_blast.enabled ) + 30 * talent.elemental_blast.enabled ) & ( cooldown.primordial_wave.remains > 8 || ! ( set_bonus.tww3_4pc & talent.ancestral_swiftness.enabled ) ) )",
["description"] = "Use Lava Burst to proc Master of the Elements.",
},
{
["enabled"] = true,
["criteria"] = "buff.echoes_of_great_sundering_eb.up & ( buff.tempest.up || buff.stormkeeper.up ) & talent.surge_of_power.enabled & ! talent.master_of_the_elements.enabled",
["action"] = "earthquake",
["description"] = "Spend to activate Surge of Power buff for Tempest or Stormkeeper.",
},
{
["enabled"] = true,
["criteria"] = "( buff.tempest.up || buff.stormkeeper.up ) & talent.surge_of_power.enabled & ! talent.master_of_the_elements.enabled",
["action"] = "elemental_blast",
},
{
["enabled"] = true,
["criteria"] = "( buff.tempest.up || buff.stormkeeper.up ) & talent.surge_of_power.enabled & ! talent.master_of_the_elements.enabled",
["action"] = "earth_shock",
},
{
["action"] = "tempest",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "buff.storm_elemental.up & buff.wind_gust.stack < 4",
["action"] = "lightning_bolt",
},
{
["enabled"] = true,
["criteria"] = "buff.icefury_dmg.up & ! buff.ascendance.up & ! buff.stormkeeper.up & talent.call_of_the_ancestors.enabled",
["action"] = "frost_shock",
["description"] = "Use Icefury-empowered Frost Shocks outside of Ascendance.",
},
{
["enabled"] = true,
["description"] = "Filler spell. Always available. Always the bottom line.",
["action"] = "lightning_bolt",
},
{
["enabled"] = true,
["enable_moving"] = true,
["action"] = "flame_shock",
["criteria"] = "movement.distance > 6 || refreshable",
["moving"] = 1,
},
{
["enabled"] = true,
["enable_moving"] = true,
["action"] = "frost_shock",
["description"] = "Frost Shock is our movement filler.",
["moving"] = 1,
},
},
["aoe"] = {
{
["action"] = "fire_elemental",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "( ! buff.storm_elemental.up || ! talent.echo_of_the_elementals.enabled ) & ! buff.ancestral_wisdom.up",
["action"] = "storm_elemental",
},
{
["enabled"] = true,
["criteria"] = "talent.herald_of_the_storms.enabled || cooldown.primordial_wave.remains < gcd.max || ! talent.primordial_wave.enabled",
["action"] = "stormkeeper",
},
{
["enabled"] = true,
["criteria"] = "( cooldown.primordial_wave.remains < 5 * gcd.max || ! talent.primordial_wave.enabled ) & ( active_dot.flame_shock <= active_enemies - 3 || active_dot.flame_shock < ( active_enemies >? 3 ) )",
["action"] = "liquid_magma_totem",
["description"] = "Spread Flame shocks for Pwave.",
},
{
["enabled"] = true,
["action"] = "flame_shock",
["criteria"] = "cooldown.primordial_wave.remains < gcd.max & ! dot.flame_shock.ticking & ( talent.primordial_wave.enabled || active_enemies <= 3 ) & cooldown.ascendance.remains > 10",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "active_dot.flame_shock = active_enemies >? 6 || ( cooldown.liquid_magma_totem.remains > 15 || ! talent.liquid_magma_totem.enabled ) & cooldown.ascendance.remains > 15",
["action"] = "primordial_wave",
},
{
["action"] = "ancestral_swiftness",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "( talent.first_ascendant.enabled || fight_remains > 200 || fight_remains < 80 || variable.ascendance_trinket ) & ( buff.fury_of_storms.up || ! talent.fury_of_the_storms.enabled )",
["action"] = "ascendance",
["description"] = "[Hekili] Revised trinket sync to recover when trinket is used before Ascendance.",
},
{
["enabled"] = true,
["action"] = "tempest",
["cycle_targets"] = 1,
["criteria"] = "buff.arc_discharge.stack < 2 & ( buff.surge_of_power.up || ! talent.surge_of_power.enabled )",
["description"] = "Surge of Power is strong and should be used. ??",
},
{
["enabled"] = true,
["criteria"] = "buff.stormkeeper.up & buff.surge_of_power.up & active_enemies = 2",
["action"] = "lightning_bolt",
},
{
["enabled"] = true,
["criteria"] = "active_enemies >= 6 & buff.surge_of_power.up",
["action"] = "chain_lightning",
},
{
["enabled"] = true,
["criteria"] = "buff.storm_frenzy.stack = 2 & ! talent.surge_of_power.enabled & maelstrom < variable.mael_cap - ( 15 + buff.stormkeeper.up * active_enemies * active_enemies ) & buff.stormkeeper.up & ! buff.call_of_the_ancestors.up & active_enemies = 2",
["action"] = "lightning_bolt",
},
{
["enabled"] = true,
["criteria"] = "buff.storm_frenzy.stack = 2 & ! talent.surge_of_power.enabled & maelstrom < variable.mael_cap - ( 15 + buff.stormkeeper.up * active_enemies * active_enemies )",
["action"] = "chain_lightning",
},
{
["enabled"] = true,
["action"] = "lava_burst",
["cycle_targets"] = 1,
["criteria"] = "cooldown_react & buff.lava_surge.up & buff.fusion_of_elements_fire.up & ! buff.master_of_the_elements.up & ( maelstrom > 52 - 5 * talent.eye_of_the_storm.enabled & ( buff.echoes_of_great_sundering_es.up || ! talent.echoes_of_great_sundering.enabled ) )",
["description"] = "Use Lava Surge procs to consume fire part of fusion if you can also buff Earthquake with it.",
},
{
["enabled"] = true,
["criteria"] = "( maelstrom > variable.mael_cap - 10 * ( active_enemies + 1 ) || buff.master_of_the_elements.up || buff.ascendance.up & buff.ascendance.remains < 3 || boss & fight_remains < 5 ) & ( buff.echoes_of_great_sundering_es.up || buff.echoes_of_great_sundering_eb.up || ! talent.echoes_of_great_sundering.enabled & ( ! talent.elemental_blast.enabled || active_enemies > 1 + talent.tempest.enabled ) ) & ( cooldown.primordial_wave.remains > 8 || ! ( set_bonus.tww3_4pc & talent.ancestral_swiftness.enabled ) || maelstrom > variable.mael_cap - 20 )",
["action"] = "earthquake",
["description"] = "Spend if you are close to cap, Master of the Elements buff is up or Ascendance is about to expire.",
},
{
["enabled"] = true,
["action"] = "elemental_blast",
["criteria"] = "( maelstrom > variable.mael_cap - 10 * ( active_enemies + 1 ) || buff.master_of_the_elements.up || buff.ascendance.up & buff.ascendance.remains < 3 || boss & fight_remains < 5 ) & ( cooldown.primordial_wave.remains > 8 || ! ( set_bonus.tww3_4pc & talent.ancestral_swiftness.enabled ) || maelstrom > variable.mael_cap - 20 )",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "earth_shock",
["criteria"] = "( maelstrom > variable.mael_cap - 10 * ( active_enemies + 1 ) || buff.master_of_the_elements.up || buff.ascendance.up & buff.ascendance.remains < 3 || boss & fight_remains < 5 ) & ( cooldown.primordial_wave.remains > 8 || ! ( set_bonus.tww3_4pc & talent.ancestral_swiftness.enabled ) || maelstrom > variable.mael_cap - 20 )",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "talent.lightning_rod.enabled & lightning_rod < active_enemies & ( buff.stormkeeper.up || buff.tempest.up || ! talent.surge_of_power.enabled ) & ( buff.echoes_of_great_sundering_es.up || buff.echoes_of_great_sundering_eb.up || ! talent.echoes_of_great_sundering.enabled & ( ! talent.elemental_blast.enabled || active_enemies > 1 + 3 * talent.tempest.enabled ) )",
["action"] = "earthquake",
["description"] = "Spend to spread Lightning Rod if Tempest or Stormkeeper is up.",
},
{
["enabled"] = true,
["action"] = "elemental_blast",
["criteria"] = "talent.lightning_rod.enabled & lightning_rod < active_enemies & ( buff.stormkeeper.up || buff.tempest.up || ! talent.surge_of_power.enabled )",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "earth_shock",
["criteria"] = "talent.lightning_rod.enabled & lightning_rod < active_enemies & ( buff.stormkeeper.up || buff.tempest.up || ! talent.surge_of_power.enabled )",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "talent.fusion_of_elements.enabled & ! ( buff.fusion_of_elements_nature.up || buff.fusion_of_elements_fire.up ) & ( active_enemies <= 4 || ! talent.elemental_blast.enabled || ! talent.echoes_of_great_sundering.enabled )",
["action"] = "icefury",
["description"] = "Use Icefury to proc Fusion of Elements.",
},
{
["enabled"] = true,
["action"] = "lava_burst",
["cycle_targets"] = 1,
["criteria"] = "cooldown_react & buff.lava_surge.up & ! buff.master_of_the_elements.up & talent.master_of_the_elements.enabled & active_enemies <= 3",
["description"] = "[2-3t] Use Lava Surge procs to buff <anything> with MotE on 2-3 targets.",
},
{
["enabled"] = true,
["action"] = "lava_burst",
["cycle_targets"] = 1,
["criteria"] = "! buff.master_of_the_elements.up & talent.master_of_the_elements.enabled & ( buff.stormkeeper.up || buff.tempest.up || maelstrom > 82 - 10 * talent.eye_of_the_storm.enabled || maelstrom > 52 - 5 * talent.eye_of_the_storm.enabled & ( buff.echoes_of_great_sundering_eb.up || ! talent.elemental_blast.enabled ) ) & active_enemies <= 3 & ! talent.lightning_rod.enabled & talent.call_of_the_ancestors.enabled",
["description"] = "[2-3t]{Farseer} Use all Lava bursts to buff spenders, SK_CL and Tempest with MotE on 2-3 targets if not talented into Lightning Rod.",
},
{
["enabled"] = true,
["action"] = "lava_burst",
["cycle_targets"] = 1,
["criteria"] = "! buff.master_of_the_elements.up & active_enemies = 2",
["description"] = "[2t] Use all Lava bursts to buff <anything> with MotE on 2 targets.",
},
{
["enabled"] = true,
["action"] = "flame_shock",
["criteria"] = "active_dot.flame_shock = 0 & buff.fusion_of_elements_fire.up & ( ! talent.elemental_blast.enabled || ! talent.echoes_of_great_sundering.enabled & active_enemies > 1 + talent.tempest.enabled )",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "( ( buff.stormkeeper.up & active_enemies >= 6 || buff.tempest.up ) & talent.surge_of_power.enabled ) & ( buff.echoes_of_great_sundering_es.up || buff.echoes_of_great_sundering_eb.up || ! talent.echoes_of_great_sundering.enabled & ( ! talent.elemental_blast.enabled || active_enemies > 1 + talent.tempest.enabled ) )",
["action"] = "earthquake",
["description"] = "Spend to buff SK_CL (on 6+) or Tempest with SoP.",
},
{
["enabled"] = true,
["action"] = "elemental_blast",
["criteria"] = "( buff.stormkeeper.up & active_enemies >= 6 || buff.tempest.up ) & talent.surge_of_power.enabled",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "earth_shock",
["criteria"] = "( buff.stormkeeper.up & active_enemies >= 6 || buff.tempest.up ) & talent.surge_of_power.enabled",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "buff.icefury_dmg.up & ! buff.ascendance.up & ! buff.stormkeeper.up & ( talent.call_of_the_ancestors.enabled || active_enemies <= 3 )",
["action"] = "frost_shock",
},
{
["action"] = "chain_lightning",
["enabled"] = true,
},
{
["enabled"] = true,
["enable_moving"] = true,
["action"] = "flame_shock",
["criteria"] = "refreshable",
["moving"] = 1,
},
{
["moving"] = 1,
["enable_moving"] = true,
["action"] = "frost_shock",
["enabled"] = true,
},
},
["default"] = {
{
["enabled"] = true,
["description"] = "Interrupt of casts.",
["action"] = "wind_shear",
},
{
["enabled"] = true,
["enable_moving"] = true,
["action"] = "spiritwalkers_grace",
["description"] = "Enable more movement.",
["moving"] = 1,
},
{
["enabled"] = true,
["criteria"] = "! talent.ascendance.enabled || buff.ascendance.up || cooldown.ascendance.remains > 50",
["action"] = "blood_fury",
},
{
["enabled"] = true,
["criteria"] = "! talent.ascendance.enabled || buff.ascendance.up",
["action"] = "berserking",
},
{
["enabled"] = true,
["criteria"] = "! talent.ascendance.enabled || buff.ascendance.up || cooldown.ascendance.remains > 50",
["action"] = "fireblood",
},
{
["enabled"] = true,
["criteria"] = "! talent.ascendance.enabled || buff.ascendance.up || cooldown.ascendance.remains > 50",
["action"] = "ancestral_call",
},
{
["enabled"] = true,
["action"] = "neural_synapse_enhancer",
["use_off_gcd"] = 1,
["name"] = "neural_synapse_enhancer",
["criteria"] = "buff.ascendance.remains > 12 || cooldown.ascendance.remains > 10",
["description"] = "Neural Synapse Enhancer",
},
{
["enabled"] = true,
["action"] = "trinket1",
["slot"] = "trinket1",
["use_off_gcd"] = 1,
["criteria"] = "( ( buff.fury_of_storms.up || ! talent.fury_of_the_storms.enabled || cooldown.stormkeeper.remains > 10 ) & ( cooldown.primordial_wave.remains > 25 || ! talent.primordial_wave.enabled || active_enemies >= 2 ) & cooldown.ascendance.remains > 15 || boss & fight_remains < 21 || buff.ascendance.remains > 12 )",
["description"] = "Normal trinkets",
},
{
["enabled"] = true,
["action"] = "trinket2",
["slot"] = "trinket2",
["use_off_gcd"] = 1,
["criteria"] = "( ( buff.fury_of_storms.up || ! talent.fury_of_the_storms.enabled || cooldown.stormkeeper.remains > 10 ) & ( cooldown.primordial_wave.remains > 25 || ! talent.primordial_wave.enabled || active_enemies >= 2 ) & cooldown.ascendance.remains > 15 || boss & fight_remains < 21 || buff.ascendance.remains > 12 )",
},
{
["enabled"] = true,
["action"] = "main_hand",
["slot"] = "main_hand",
["use_off_gcd"] = 1,
["criteria"] = "( buff.fury_of_storms.up || ! talent.fury_of_the_storms.enabled || cooldown.stormkeeper.remains > 10 ) & ( cooldown.primordial_wave.remains > 25 || ! talent.primordial_wave.enabled ) & cooldown.ascendance.remains > 15 || buff.ascendance.remains > 12",
["description"] = "Normal weapons",
},
{
["enabled"] = true,
["action"] = "trinket1",
["slot"] = "trinket1",
["use_off_gcd"] = 1,
["criteria"] = "! ( trinket.t1.has_use_buff ) & ( ! ( trinket.t2.has_use_buff || equipped.neural_synapse_enhancer || equipped.best_in_slots ) || cooldown.ascendance.remains > 20 || ( trinket.t2.cooldown.remains > 20 & cooldown.neural_synapse_enhancer.remains > 20 & cooldown.best_in_slots.remains > 20 ) )",
},
{
["enabled"] = true,
["action"] = "trinket2",
["slot"] = "trinket2",
["use_off_gcd"] = 1,
["criteria"] = "! ( trinket.t2.has_use_buff ) & ( ! ( trinket.t1.has_use_buff || equipped.neural_synapse_enhancer || equipped.best_in_slots ) || cooldown.ascendance.remains > 20 || ( trinket.t1.cooldown.remains > 20 & cooldown.neural_synapse_enhancer.remains > 20 & cooldown.best_in_slots.remains > 20 ) )",
},
{
["enabled"] = true,
["criteria"] = "buff.lightning_shield.down",
["action"] = "lightning_shield",
},
{
["action"] = "natures_swiftness",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "buff.bloodlust.up || buff.ascendance.remains > 12 || boss & fight_remains < 31",
["action"] = "potion",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "( trinket.t1.has_use_buff & trinket.t1.ready_cooldown || trinket.t1.cooldown.remains > 20 ) || ( trinket.t2.has_use_buff & trinket.t2.ready_cooldown || trinket.t2.cooldown.remains > 20 ) || equipped.neural_synapse_enhancer & ( cooldown.neural_synapse_enhancer.remains = 0 || cooldown.neural_synapse_enhancer.remains > 20 ) || equipped.best_in_slots & ( cooldown.best_in_slots.remains = 0 || cooldown.best_in_slots.remains > 20 ) || ! trinket.t1.has_use_buff & ! trinket.t2.has_use_buff",
["description"] = "[Hekili] Ascendance/trinket sync logic, revised to recover when a trinket is used *before* Ascendance.",
["var_name"] = "ascendance_trinket",
},
{
["enabled"] = true,
["action"] = "run_action_list",
["strict"] = 1,
["criteria"] = "active_enemies > 1",
["list_name"] = "aoe",
},
{
["enabled"] = true,
["action"] = "run_action_list",
["list_name"] = "single_target",
},
},
["precombat"] = {
{
["enabled"] = true,
["criteria"] = "talent.improved_flametongue_weapon.enabled",
["action"] = "flametongue_weapon",
["description"] = "Ensure weapon enchant is applied if you've selected Improved Flametongue Weapon.",
},
{
["action"] = "skyfury",
["enabled"] = true,
},
{
["action"] = "lightning_shield",
["enabled"] = true,
},
{
["action"] = "thunderstrike_ward",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "! buff.earth_shield.up & talent.elemental_orbit.enabled",
["action"] = "earth_shield",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "100 + 50 * talent.swelling_maelstrom.rank + 25 * talent.primordial_capacity.rank",
["var_name"] = "mael_cap",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "( trinket.t1.has_use_buff || trinket.t1.is.funhouse_lens )",
["var_name"] = "trinket_1_buffs",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "( trinket.t2.has_use_buff || trinket.t2.is.funhouse_lens )",
["var_name"] = "trinket_2_buffs",
},
{
["action"] = "stormkeeper",
["enabled"] = true,
},
},
},
["author"] = "SimulationCraft",
},
["Unholy"] = {
["source"] = "https://github.com/simulationcraft/simc/blob/thewarwithin/ActionPriorityLists/default/deathknight_unholy.simc",
["builtIn"] = true,
["date"] = 20250826,
["spec"] = 252,
["desc"] = "The War Within Season 3\n2025-08-26: APL Sync - 05c05de\n2025-08-16: Remove external PI call\n2025-08-14: APL Sync c50e3bc + 1febfbb\n2025-08-06: Initial APL",
["lists"] = {
["aoe_setup"] = {
{
["enabled"] = true,
["criteria"] = "buff.festering_scythe.up",
["action"] = "festering_strike",
},
{
["enabled"] = true,
["criteria"] = "! death_and_decay.ticking & ( full_recharge_time < 2 * gcd.max || death_knight.fwounded_targets >= cycle_enemies & ( rune > 3 || runic_power < 30 ) || talent.desecrate.enabled & ( talent.festering_scythe.enabled & death_knight.fwounded_targets = 0 & buff.festering_scythe_stacks.stack < 10 & ! buff.festering_scythe.up || ! talent.festering_scythe.enabled ) )",
["action"] = "any_dnd",
},
{
["enabled"] = true,
["criteria"] = "death_knight.fwounded_targets = 0 & cooldown.apocalypse.remains < gcd.max & ( cooldown.dark_transformation.remains & cooldown.unholy_assault.remains || cooldown.unholy_assault.remains || ! talent.unholy_assault.enabled )",
["action"] = "festering_strike",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "debuff.chains_of_ice_trollbane_slow.up",
["action"] = "wound_spender",
},
{
["enabled"] = true,
["criteria"] = "! variable.pooling_runic_power & active_enemies < variable.epidemic_targets & rune < 4",
["action"] = "death_coil",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "! variable.pooling_runic_power & variable.epidemic_targets <= active_enemies & rune < 4",
["action"] = "epidemic",
},
{
["enabled"] = true,
["criteria"] = "! buff.death_and_decay.up & ( ! talent.bursting_sores.enabled || death_knight.fwounded_targets = active_enemies || death_knight.fwounded_targets >= 8 || raid_event.adds.exists & raid_event.adds.remains <= 11 & raid_event.adds.remains > 5 || ! buff.death_and_decay.up & talent.defile.enabled )",
["action"] = "any_dnd",
},
{
["enabled"] = true,
["criteria"] = "! variable.pooling_runic_power & active_enemies < variable.epidemic_targets & ( buff.sudden_doom.up || death_knight.fwounded_targets = active_enemies || death_knight.fwounded_targets >= 8 )",
["action"] = "death_coil",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "! variable.pooling_runic_power & variable.epidemic_targets <= active_enemies & ( buff.sudden_doom.up || death_knight.fwounded_targets = active_enemies || death_knight.fwounded_targets >= 8 )",
["action"] = "epidemic",
},
{
["enabled"] = true,
["criteria"] = "! variable.pooling_runic_power & active_enemies < variable.epidemic_targets",
["action"] = "death_coil",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "! variable.pooling_runic_power",
["action"] = "epidemic",
},
{
["enabled"] = true,
["criteria"] = "death_knight.fwounded_targets < 8 & ! death_knight.fwounded_targets = active_enemies",
["action"] = "festering_strike",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "buff.vampiric_strike.up",
["action"] = "wound_spender",
["cycle_targets"] = 1,
},
},
["cds_aoe"] = {
{
["enabled"] = true,
["action"] = "unholy_assault",
["cycle_targets"] = 1,
["description"] = "Non-Sanlayn CDs AoE",
["criteria"] = "variable.adds_remain",
},
{
["enabled"] = true,
["criteria"] = "variable.adds_remain & ( death_and_decay.ticking || cooldown.death_and_decay.remains < 3 )",
["action"] = "dark_transformation",
},
{
["enabled"] = true,
["criteria"] = "variable.adds_remain & ( death_and_decay.ticking || cooldown.death_and_decay.remains < 3 || rune < 3 || set_bonus.tww3_rider_of_the_apocalypse_2pc )",
["action"] = "apocalypse",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "dot.virulent_plague.ticks_remain < 5 & dot.virulent_plague.refreshable & ( ! talent.unholy_blight.enabled || talent.unholy_blight.enabled & dark_transformation_cooldown ) & ( ! talent.raise_abomination.enabled || talent.raise_abomination.enabled & cooldown.raise_abomination.remains )",
["action"] = "outbreak",
},
},
["cleave"] = {
{
["enabled"] = true,
["action"] = "any_dnd",
["description"] = "Cleave",
["criteria"] = "! death_and_decay.ticking & variable.adds_remain || talent.gift_of_the_sanlayn.enabled",
},
{
["enabled"] = true,
["criteria"] = "! variable.pooling_runic_power & talent.improved_death_coil.enabled",
["action"] = "death_coil",
},
{
["enabled"] = true,
["criteria"] = "buff.vampiric_strike.up",
["action"] = "wound_spender",
},
{
["enabled"] = true,
["criteria"] = "! variable.pooling_runic_power & ! talent.improved_death_coil.enabled",
["action"] = "death_coil",
},
{
["enabled"] = true,
["criteria"] = "buff.vampiric_strike.down & ! variable.pop_wounds & debuff.festering_wound.stack < 4 || buff.festering_scythe.up",
["action"] = "festering_strike",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "buff.vampiric_strike.down & cooldown.apocalypse.remains < variable.apoc_timing & debuff.festering_wound.stack < 4",
["action"] = "festering_strike",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "variable.pop_wounds",
["action"] = "wound_spender",
},
},
["cds_shared"] = {
{
["enabled"] = true,
["action"] = "potion",
["description"] = "Shared CDs",
["criteria"] = "( variable.st_planning || variable.adds_remain ) & ( ! talent.summon_gargoyle.enabled || cooldown.summon_gargoyle.remains > 60 ) & ( buff.dark_transformation.up & 30 >= buff.dark_transformation.remains || ! talent.vampiric_strike.enabled & pet.army_ghoul.active & pet.army_ghoul.remains <= 30 || ! talent.vampiric_strike.enabled & pet.apoc_ghoul.active & pet.apoc_ghoul.remains <= 30 || ! talent.vampiric_strike.enabled & pet.abomination.active & pet.abomination.remains <= 30 ) || fight_remains <= 30",
},
{
["enabled"] = true,
["criteria"] = "( variable.st_planning || variable.adds_remain ) & ( talent.commander_of_the_dead.enabled & cooldown.dark_transformation.remains < 5 || ! talent.commander_of_the_dead.enabled & active_enemies >= 1 ) || fight_remains < 35",
["action"] = "army_of_the_dead",
},
{
["enabled"] = true,
["criteria"] = "( variable.st_planning || variable.adds_remain ) & ( ! talent.vampiric_strike.enabled || ( pet.apoc_ghoul.active || ! talent.apocalypse.enabled ) ) || fight_remains < 30",
["action"] = "raise_abomination",
},
{
["enabled"] = true,
["criteria"] = "( variable.st_planning || variable.adds_remain ) & ( death_knight.fwounded_targets < active_enemies || ( cooldown.apocalypse.remains < 3 || cooldown.dark_transformation.remains < 3 ) )",
["action"] = "legion_of_souls",
},
{
["enabled"] = true,
["use_off_gcd"] = 1,
["action"] = "summon_gargoyle",
["criteria"] = "( variable.st_planning || variable.adds_remain ) & ( buff.commander_of_the_dead.up || ! talent.commander_of_the_dead.enabled & active_enemies >= 1 ) || fight_remains < 25",
},
{
["enabled"] = true,
["criteria"] = "death_knight.ams_absorb_percent > 0 & runic_power < 30 & rune < 2",
["action"] = "antimagic_shell",
},
{
["enabled"] = true,
["criteria"] = "active_enemies >= 2 & ( ( ! raid_event.adds.exists & fight_remains < 6 || raid_event.adds.exists & raid_event.adds.remains < 6 ) || ( ! talent.festering_scythe.enabled || buff.festering_scythe_stacks.stack < active_enemies & ! buff.festering_scythe.up ) & ( active_enemies > 1 & death_knight.fwounded_targets < active_enemies || death_knight.fwounded_targets = active_enemies || death_knight.fwounded_targets = 0 & talent.festering_scythe.enabled & ! buff.festering_scythe.up & buff.festering_scythe_stacks.stack < 10 ) )",
["action"] = "desecrate",
},
},
["cds_cleave_san"] = {
{
["enabled"] = true,
["description"] = "Sanlayn CDs Cleave",
["action"] = "dark_transformation",
},
{
["enabled"] = true,
["action"] = "apocalypse",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "buff.dark_transformation.up & buff.dark_transformation.remains < 12 || boss & fight_remains < 20 || raid_event.adds.exists & raid_event.adds.remains < 20",
["action"] = "unholy_assault",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "( dot.virulent_plague.refreshable || talent.morbidity.enabled & buff.infliction_of_sorrow.up & talent.superstrain.enabled & dot.frost_fever.refreshable & dot.blood_plague.refreshable ) & ( ! talent.unholy_blight.enabled || talent.unholy_blight.enabled & cooldown.dark_transformation.remains > 6 ) & ( ! talent.raise_abomination.enabled || talent.raise_abomination.enabled & cooldown.raise_abomination.remains > 6 ) || buff.visceral_strength_unholy.up",
["action"] = "outbreak",
["cycle_targets"] = 1,
},
},
["aoe"] = {
{
["enabled"] = true,
["criteria"] = "buff.festering_scythe.up",
["action"] = "festering_strike",
},
{
["enabled"] = true,
["criteria"] = "rune < 4 & active_enemies < variable.epidemic_targets & buff.gift_of_the_sanlayn.up & gcd.max <= 1.0 & fight_remains > buff.dark_transformation.remains * 2",
["action"] = "death_coil",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "rune < 4 & active_enemies > variable.epidemic_targets & buff.gift_of_the_sanlayn.up & gcd.max <= 1.0 & fight_remains > buff.dark_transformation.remains * 2",
["action"] = "epidemic",
},
{
["enabled"] = true,
["criteria"] = "debuff.festering_wound.up & buff.death_and_decay.up & talent.bursting_sores.enabled & cooldown.apocalypse.remains > variable.apoc_timing",
["action"] = "wound_spender",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "! variable.pooling_runic_power & active_enemies < variable.epidemic_targets",
["action"] = "death_coil",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "! variable.pooling_runic_power",
["action"] = "epidemic",
},
{
["enabled"] = true,
["criteria"] = "debuff.chains_of_ice_trollbane_slow.up",
["action"] = "wound_spender",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "cooldown.apocalypse.remains < variable.apoc_timing || buff.festering_scythe.up",
["action"] = "festering_strike",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "debuff.festering_wound.stack < 2",
["action"] = "festering_strike",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "debuff.festering_wound.up & cooldown.apocalypse.remains > gcd.max || buff.vampiric_strike.up & dot.virulent_plague.ticking",
["action"] = "wound_spender",
["cycle_targets"] = 1,
},
},
["trinkets"] = {
{
["enabled"] = true,
["name"] = "treacherous_transmitter",
["action"] = "treacherous_transmitter",
["criteria"] = "( variable.adds_remain || variable.st_planning ) & cooldown.dark_transformation.remains < 10",
["description"] = "Non-San'layn Trinkets",
},
{
["enabled"] = true,
["criteria"] = "( buff.latent_energy.stack >= 8 || ! trinket.t1.is.unyielding_netherprism ) & variable.trinket_1_buffs & ( variable.trinket_priority = 1 || ! trinket.t2.has_cooldown || trinket.t2.cooldown.remains > 20 ) & ( ! talent.apocalypse.enabled & buff.dark_transformation.up || pet.apoc_ghoul.active & pet.apoc_ghoul.remains <= variable.trinket_1_duration & pet.apoc_ghoul.remains > 5 ) & ( talent.army_of_the_dead.enabled & ! talent.raise_abomination.enabled & pet.army_ghoul.active & pet.army_ghoul.remains > 10 || talent.raise_abomination.enabled & pet.abomination.active & pet.abomination.remains > 10 || talent.legion_of_souls.enabled || ! talent.raise_abomination.enabled & ! talent.apocalypse.enabled & buff.dark_transformation.up || variable.trinket_2_buffs & trinket.t2.cooldown.remains ) || fight_remains <= variable.trinket_1_duration",
["action"] = "trinket1",
["slot"] = "trinket1",
},
{
["enabled"] = true,
["criteria"] = "( buff.latent_energy.stack >= 8 || ! trinket.t2.is.unyielding_netherprism ) & variable.trinket_2_buffs & ( variable.trinket_priority = 2 || ! trinket.t1.has_cooldown || trinket.t1.cooldown.remains > 20 ) & ( ! talent.apocalypse.enabled & buff.dark_transformation.up || pet.apoc_ghoul.active & pet.apoc_ghoul.remains <= variable.trinket_2_duration & pet.apoc_ghoul.remains > 5 ) & ( talent.army_of_the_dead.enabled & ! talent.raise_abomination.enabled & pet.army_ghoul.active & pet.army_ghoul.remains > 10 || talent.raise_abomination.enabled & pet.abomination.active & pet.abomination.remains > 10 || talent.legion_of_souls.enabled || ! talent.raise_abomination.enabled & ! talent.apocalypse.enabled & buff.dark_transformation.up || variable.trinket_1_buffs & trinket.t1.cooldown.remains ) || fight_remains <= variable.trinket_2_duration",
["action"] = "trinket2",
["slot"] = "trinket2",
},
{
["enabled"] = true,
["criteria"] = "! variable.trinket_1_buffs & ( variable.damage_trinket_priority = 1 || trinket.t2.cooldown.remains || ! trinket.t2.has_cooldown || ! talent.summon_gargoyle.enabled & ! talent.army_of_the_dead.enabled & ! talent.raise_abomination.enabled || ! talent.summon_gargoyle.enabled & talent.army_of_the_dead.enabled & ( ! talent.raise_abomination.enabled & cooldown.army_of_the_dead.remains > 20 || talent.raise_abomination.enabled & cooldown.raise_abomination.remains > 20 ) || ! talent.summon_gargoyle.enabled & ! talent.army_of_the_dead.enabled & ! talent.raise_abomination.enabled & cooldown.dark_transformation.remains > 20 || talent.summon_gargoyle.enabled & cooldown.summon_gargoyle.remains > 20 & ! pet.gargoyle.active ) || fight_remains < 15",
["action"] = "trinket1",
["slot"] = "trinket1",
},
{
["enabled"] = true,
["criteria"] = "! variable.trinket_2_buffs & ( variable.damage_trinket_priority = 2 || trinket.t1.cooldown.remains || ! trinket.t1.has_cooldown || ! talent.summon_gargoyle.enabled & ! talent.army_of_the_dead.enabled & ! talent.raise_abomination.enabled || ! talent.summon_gargoyle.enabled & talent.army_of_the_dead.enabled & ( ! talent.raise_abomination.enabled & cooldown.army_of_the_dead.remains > 20 || talent.raise_abomination.enabled & cooldown.raise_abomination.remains > 20 ) || ! talent.summon_gargoyle.enabled & ! talent.army_of_the_dead.enabled & ! talent.raise_abomination.enabled & cooldown.dark_transformation.remains > 20 || talent.summon_gargoyle.enabled & cooldown.summon_gargoyle.remains > 20 & ! pet.gargoyle.active ) || fight_remains < 15",
["action"] = "trinket2",
["slot"] = "trinket2",
},
{
["enabled"] = true,
["criteria"] = "( ! variable.trinket_1_buffs & ! variable.trinket_2_buffs || trinket.t1.cooldown.remains & ! variable.trinket_2_buffs || trinket.t2.cooldown.remains & ! variable.trinket_1_buffs || trinket.t1.cooldown.remains & trinket.t2.cooldown.remains ) & ( pet.apoc_ghoul.active & pet.apoc_ghoul.remains <= 18 || ! talent.apocalypse.enabled & buff.dark_transformation.up ) & ( ( trinket.t1.cooldown.duration = 90 || trinket.t2.cooldown.duration = 90 ) || ! talent.raise_abomination.enabled & ! talent.army_of_the_dead.enabled || ! talent.raise_abomination.enabled & talent.army_of_the_dead.enabled & pet.army_ghoul.active || talent.raise_abomination.enabled & pet.abomination.active )",
["action"] = "main_hand",
["slot"] = "main_hand",
},
},
["san_fishing"] = {
{
["enabled"] = true,
["criteria"] = "death_knight.ams_absorb_percent > 0 & runic_power < 40",
["action"] = "antimagic_shell",
},
{
["enabled"] = true,
["criteria"] = "buff.infliction_of_sorrow.up",
["action"] = "wound_spender",
},
{
["enabled"] = true,
["criteria"] = "! buff.death_and_decay.up & ! buff.vampiric_strike.up",
["action"] = "any_dnd",
},
{
["enabled"] = true,
["criteria"] = "buff.sudden_doom.up & talent.doomed_bidding.enabled || set_bonus.tww2_4pc & buff.essence_of_the_blood_queen.at_max_stacks & talent.frenzied_bloodthirst.enabled & ! buff.vampiric_strike.up",
["action"] = "death_coil",
},
{
["enabled"] = true,
["criteria"] = "target.health.pct <= 35 & fight_remains > 5",
["action"] = "soul_reaper",
},
{
["enabled"] = true,
["criteria"] = "! buff.vampiric_strike.up",
["action"] = "death_coil",
},
{
["enabled"] = true,
["criteria"] = "( debuff.festering_wound.stack >= 3 - pet.abomination.active & cooldown.apocalypse.remains > variable.apoc_timing ) || buff.vampiric_strike.up",
["action"] = "wound_spender",
},
{
["enabled"] = true,
["criteria"] = "debuff.festering_wound.stack < 3 - pet.abomination.active",
["action"] = "festering_strike",
},
},
["cds_aoe_san"] = {
{
["enabled"] = true,
["action"] = "dark_transformation",
["description"] = "Sanlayn CDs AoE",
["criteria"] = "variable.adds_remain & ( buff.death_and_decay.up || active_enemies <= 3 )",
},
{
["enabled"] = true,
["criteria"] = "variable.adds_remain & buff.dark_transformation.up & buff.dark_transformation.remains < 12",
["action"] = "unholy_assault",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "variable.adds_remain & ( buff.death_and_decay.up || active_enemies <= 3 || rune < 3 )",
["action"] = "apocalypse",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "( dot.virulent_plague.ticks_remain < 5 || set_bonus.tww2_4pc & talent.superstrain.enabled & dot.frost_fever.ticks_remain < 5 & ! pet.abomination.active ) & ( talent.unholy_blight.enabled & ! cooldown.dark_transformation.ready || ! talent.unholy_blight.enabled ) & ( dot.virulent_plague.refreshable || talent.morbidity.enabled & ! buff.gift_of_the_sanlayn.up & talent.superstrain.enabled & dot.frost_fever.refreshable & dot.blood_plague.refreshable ) & ( ! dot.virulent_plague.ticking & variable.epidemic_targets < active_enemies || ( ! talent.unholy_blight.enabled || talent.unholy_blight.enabled & cooldown.dark_transformation.remains > 5 ) & ( ! talent.raise_abomination.enabled || talent.raise_abomination.enabled & cooldown.raise_abomination.remains > 5 ) ) || buff.visceral_strength_unholy.up",
["action"] = "outbreak",
},
},
["aoe_burst"] = {
{
["enabled"] = true,
["criteria"] = "buff.festering_scythe.up",
["action"] = "festering_strike",
},
{
["enabled"] = true,
["criteria"] = "death_knight.fwounded_targets = active_enemies & talent.desecrate.enabled & ( talent.festering_scythe.enabled & death_knight.fwounded_targets = 0 & buff.festering_scythe_stacks.stack < 10 & ! buff.festering_scythe.up || ! talent.festering_scythe.enabled ) & ( raid_event.adds.exists & raid_event.adds.remains > 6 & ( raid_event.adds.remains < 10 || ! buff.death_and_decay.up ) || ! raid_event.adds.exists || fight_remains > 6 & fight_remains < 10 )",
["action"] = "death_and_decay",
},
{
["enabled"] = true,
["criteria"] = "! buff.vampiric_strike.up & active_enemies < variable.epidemic_targets & ( ! talent.bursting_sores.enabled || talent.bursting_sores.enabled & death_knight.fwounded_targets < active_enemies & death_knight.fwounded_targets < active_enemies * 0.4 & buff.sudden_doom.up || buff.sudden_doom.up & ( talent.doomed_bidding.enabled & talent.menacing_magus.enabled || talent.rotten_touch.enabled || debuff.death_rot.remains < gcd.max ) || rune < 2 ) || ( rune < 4 || active_enemies < 4 || boss ) & active_enemies < variable.epidemic_targets & buff.gift_of_the_sanlayn.up & gcd.max <= 1.0 & ( fight_remains > buff.dark_transformation.remains * 2 )",
["action"] = "death_coil",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "! buff.vampiric_strike.up & ( ! talent.bursting_sores.enabled || talent.bursting_sores.enabled & death_knight.fwounded_targets < active_enemies & death_knight.fwounded_targets < active_enemies * 0.4 & buff.sudden_doom.up || buff.sudden_doom.up & ( buff.a_feast_of_souls.up || debuff.death_rot.remains < gcd.max || debuff.death_rot.stack < 10 ) || rune < 2 ) || ( rune < 4 || boss ) & active_enemies > variable.epidemic_targets & buff.gift_of_the_sanlayn.up & gcd.max <= 1.0 & fight_remains > buff.dark_transformation.remains * 2",
["action"] = "epidemic",
},
{
["enabled"] = true,
["criteria"] = "debuff.chains_of_ice_trollbane_slow.up",
["action"] = "wound_spender",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "debuff.festering_wound.up || buff.vampiric_strike.up || buff.death_and_decay.up",
["action"] = "wound_spender",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "active_enemies < variable.epidemic_targets",
["action"] = "death_coil",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "variable.epidemic_targets < active_enemies",
["action"] = "epidemic",
},
{
["enabled"] = true,
["criteria"] = "debuff.festering_wound.stack <= 2",
["action"] = "festering_strike",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "wound_spender",
["cycle_targets"] = 1,
},
},
["san_trinkets"] = {
{
["enabled"] = true,
["name"] = "treacherous_transmitter",
["action"] = "treacherous_transmitter",
["criteria"] = "( variable.adds_remain || variable.st_planning ) & cooldown.dark_transformation.remains < 10",
["description"] = "San'layn Trinkets",
},
{
["enabled"] = true,
["action"] = "cursed_stone_idol",
["criteria"] = "pet.apoc_ghoul.active || ! talent.apocalypse.enabled & buff.dark_transformation.up || cooldown.apocalypse.ready",
["name"] = "cursed_stone_idol",
},
{
["enabled"] = true,
["criteria"] = "( buff.latent_energy.stack >= 8 || ! trinket.t1.is.unyielding_netherprism ) & variable.trinket_1_buffs & ( buff.dark_transformation.up & buff.dark_transformation.remains < variable.trinket_1_duration * 0.73 & ( variable.trinket_priority = 1 || trinket.t2.cooldown.remains || ! trinket.t2.has_cooldown ) ) || variable.trinket_1_duration >= fight_remains",
["action"] = "trinket1",
["slot"] = "trinket1",
},
{
["enabled"] = true,
["criteria"] = "( buff.latent_energy.stack >= 8 || ! trinket.t2.is.unyielding_netherprism ) & variable.trinket_2_buffs & ( buff.dark_transformation.up & buff.dark_transformation.remains < variable.trinket_2_duration * 0.73 & ( variable.trinket_priority = 2 || trinket.t1.cooldown.remains || ! trinket.t1.has_cooldown ) ) || variable.trinket_2_duration >= fight_remains",
["action"] = "trinket2",
["slot"] = "trinket2",
},
{
["enabled"] = true,
["criteria"] = "! variable.trinket_1_buffs & ( trinket.t1.cast_time > 0 & ! buff.gift_of_the_sanlayn.up || ! trinket.t1.cast_time > 0 ) & ( variable.damage_trinket_priority = 1 || trinket.t2.cooldown.remains || ! trinket.t2.has_cooldown || ! talent.summon_gargoyle.enabled & ! talent.army_of_the_dead.enabled & ! talent.raise_abomination.enabled || ! talent.summon_gargoyle.enabled & talent.army_of_the_dead.enabled & ( ! talent.raise_abomination.enabled & cooldown.army_of_the_dead.remains > 20 || talent.raise_abomination.enabled & cooldown.raise_abomination.remains > 20 ) || ! talent.summon_gargoyle.enabled & ! talent.army_of_the_dead.enabled & ! talent.raise_abomination.enabled & cooldown.dark_transformation.remains > 20 || talent.summon_gargoyle.enabled & cooldown.summon_gargoyle.remains > 20 & ! pet.gargoyle.active ) || fight_remains < 15",
["action"] = "trinket1",
["slot"] = "trinket1",
},
{
["enabled"] = true,
["criteria"] = "! variable.trinket_2_buffs & ( trinket.t2.cast_time > 0 & ! buff.gift_of_the_sanlayn.up || ! trinket.t2.cast_time > 0 ) & ( variable.damage_trinket_priority = 2 || trinket.t1.cooldown.remains || ! trinket.t1.has_cooldown || ! talent.summon_gargoyle.enabled & ! talent.army_of_the_dead.enabled & ! talent.raise_abomination.enabled || ! talent.summon_gargoyle.enabled & talent.army_of_the_dead.enabled & ( ! talent.raise_abomination.enabled & cooldown.army_of_the_dead.remains > 20 || talent.raise_abomination.enabled & cooldown.raise_abomination.remains > 20 ) || ! talent.summon_gargoyle.enabled & ! talent.army_of_the_dead.enabled & ! talent.raise_abomination.enabled & cooldown.dark_transformation.remains > 20 || talent.summon_gargoyle.enabled & cooldown.summon_gargoyle.remains > 20 & ! pet.gargoyle.active ) || fight_remains < 15",
["action"] = "trinket2",
["slot"] = "trinket2",
},
{
["enabled"] = true,
["criteria"] = "( ! variable.trinket_1_buffs & ! variable.trinket_2_buffs || trinket.t1.cooldown.remains > 20 & ! variable.trinket_2_buffs || trinket.t2.cooldown.remains > 20 & ! variable.trinket_1_buffs || trinket.t1.cooldown.remains > 20 & trinket.t2.cooldown.remains > 20 ) & ( buff.dark_transformation.up & buff.dark_transformation.remains > 10 ) & ( ! talent.raise_abomination.enabled & ! talent.army_of_the_dead.enabled || ! talent.raise_abomination.enabled & talent.army_of_the_dead.enabled & pet.army_ghoul.active || talent.raise_abomination.enabled & pet.abomination.active || ( variable.trinket_1_buffs || variable.trinket_2_buffs || fight_remains < 15 ) )",
["action"] = "main_hand",
["slot"] = "main_hand",
},
},
["default"] = {
{
["action"] = "mind_freeze",
["enabled"] = true,
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "active_enemies = 1",
["var_name"] = "st_planning",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "active_enemies > 1 & fight_remains > 6",
["var_name"] = "adds_remain",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["var_name"] = "apoc_timing",
["value"] = "5",
["value_else"] = "2",
["criteria"] = "cooldown.apocalypse.remains < 5 & debuff.festering_wound.down & cooldown.unholy_assault.remains > 5",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "( cooldown.apocalypse.remains > variable.apoc_timing || ! talent.apocalypse.enabled ) & ( debuff.festering_wound.up & cooldown.unholy_assault.remains < 20 & talent.unholy_assault.enabled & active_enemies = 1 || debuff.rotten_touch.up & debuff.festering_wound.up || debuff.festering_wound.stack >= 4 - pet.abomination.active ) || fight_remains < 5 & debuff.festering_wound.up",
["var_name"] = "pop_wounds",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "cooldown.summon_gargoyle.remains > 5 & runic_power < 40",
["var_name"] = "pooling_runic_power",
},
{
["enabled"] = true,
["op"] = "setif",
["action"] = "variable",
["value"] = "( ! talent.rotten_touch.enabled || talent.rotten_touch.enabled & ! debuff.rotten_touch.up || runic_power.deficit < 20 ) & ( ( talent.improved_death_coil.enabled & ( active_enemies = 2 || talent.coil_of_devastation.enabled ) || rune < 3 || pet.gargoyle.active || buff.sudden_doom.up || ! variable.pop_wounds & debuff.festering_wound.stack >= 4 ) )",
["var_name"] = "spend_rp",
},
{
["enabled"] = true,
["op"] = "setif",
["action"] = "variable",
["var_name"] = "san_coil_mult",
["value"] = "2",
["value_else"] = "1",
["criteria"] = "buff.essence_of_the_blood_queen.stack >= 4",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "3 + talent.improved_death_coil.enabled + ( talent.frenzied_bloodthirst.enabled * variable.san_coil_mult ) + ( talent.hungering_thirst.enabled & talent.harbinger_of_doom.enabled & buff.sudden_doom.up )",
["var_name"] = "epidemic_targets",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "talent.vampiric_strike.enabled",
["list_name"] = "san_trinkets",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "! talent.vampiric_strike.enabled",
["list_name"] = "trinkets",
},
{
["enabled"] = true,
["criteria"] = "runic_power < 20 & rune < 2",
["action"] = "arcane_torrent",
},
{
["enabled"] = true,
["criteria"] = "( buff.blood_fury.duration + 3 >= pet.gargoyle.remains & pet.gargoyle.active ) || ( ! talent.summon_gargoyle.enabled || cooldown.summon_gargoyle.remains > 60 ) & ( pet.army_ghoul.active & pet.army_ghoul.remains <= buff.blood_fury.duration + 3 || pet.apoc_ghoul.active & pet.apoc_ghoul.remains <= buff.blood_fury.duration + 3 || active_enemies >= 2 & death_and_decay.ticking ) || boss & fight_remains <= buff.blood_fury.duration + 3",
["action"] = "blood_fury",
},
{
["enabled"] = true,
["criteria"] = "( buff.berserking.duration + 3 >= pet.gargoyle.remains & pet.gargoyle.active ) || ( ! talent.summon_gargoyle.enabled || cooldown.summon_gargoyle.remains > 60 ) & ( pet.army_ghoul.active & pet.army_ghoul.remains <= buff.berserking.duration + 3 || pet.apoc_ghoul.active & pet.apoc_ghoul.remains <= buff.berserking.duration + 3 || active_enemies >= 2 & death_and_decay.ticking ) || boss & fight_remains <= buff.berserking.duration + 3",
["action"] = "berserking",
},
{
["enabled"] = true,
["criteria"] = "buff.unholy_strength.up & ( ! talent.festermight.enabled || buff.festermight.remains < target.time_to_die || buff.unholy_strength.remains < target.time_to_die )",
["action"] = "lights_judgment",
},
{
["enabled"] = true,
["criteria"] = "( 18 >= pet.gargoyle.remains & pet.gargoyle.active ) || ( ! talent.summon_gargoyle.enabled || cooldown.summon_gargoyle.remains > 60 ) & ( pet.army_ghoul.active & pet.army_ghoul.remains <= 18 || pet.apoc_ghoul.active & pet.apoc_ghoul.remains <= 18 || active_enemies >= 2 & death_and_decay.ticking ) || boss & fight_remains <= 18",
["action"] = "ancestral_call",
},
{
["enabled"] = true,
["criteria"] = "active_enemies >= 2 || ( rune.deficit >= 5 & runic_power.deficit >= 60 )",
["action"] = "arcane_pulse",
},
{
["enabled"] = true,
["criteria"] = "( buff.fireblood.duration + 3 >= pet.gargoyle.remains & pet.gargoyle.active ) || ( ! talent.summon_gargoyle.enabled || cooldown.summon_gargoyle.remains > 60 ) & ( pet.army_ghoul.active & pet.army_ghoul.remains <= buff.fireblood.duration + 3 || pet.apoc_ghoul.active & pet.apoc_ghoul.remains <= buff.fireblood.duration + 3 || active_enemies >= 2 & death_and_decay.ticking ) || boss & fight_remains <= buff.fireblood.duration + 3",
["action"] = "fireblood",
},
{
["enabled"] = true,
["criteria"] = "active_enemies = 1 & ( buff.unholy_strength.up || boss & fight_remains < 5 )",
["action"] = "bag_of_tricks",
},
{
["enabled"] = true,
["action"] = "potion",
["description"] = "Shared Cooldowns",
["criteria"] = "active_enemies >= 1 & ( ! talent.summon_gargoyle.enabled || cooldown.summon_gargoyle.remains > 60 ) & ( buff.dark_transformation.up & 30 >= buff.dark_transformation.remains || pet.army_ghoul.active & pet.army_ghoul.remains <= 30 || pet.apoc_ghoul.active & pet.apoc_ghoul.remains <= 30 || pet.abomination.active & pet.abomination.remains <= 30 ) || boss & fight_remains <= 30",
},
{
["enabled"] = true,
["criteria"] = "( talent.commander_of_the_dead.enabled & cooldown.dark_transformation.remains < 5 || ! talent.commander_of_the_dead.enabled & active_enemies >= 1 ) || boss & fight_remains < 35",
["action"] = "army_of_the_dead",
},
{
["enabled"] = true,
["criteria"] = "( variable.st_planning || variable.adds_remain ) & ( ! talent.vampiric_strike.enabled || ( pet.apoc_ghoul.active || ! talent.apocalypse.enabled ) ) || boss & fight_remains < 30",
["action"] = "raise_abomination",
},
{
["enabled"] = true,
["use_off_gcd"] = 1,
["action"] = "summon_gargoyle",
["criteria"] = "( variable.st_planning || variable.adds_remain ) & ( buff.commander_of_the_dead.up || ! talent.commander_of_the_dead.enabled & active_enemies >= 1 ) || boss & fight_remains < 25",
},
{
["enabled"] = true,
["criteria"] = "death_knight.ams_absorb_percent > 0 & runic_power < 30 & rune < 2",
["action"] = "antimagic_shell",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["list_name"] = "cds_shared",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "talent.vampiric_strike.enabled & active_enemies >= 3",
["list_name"] = "cds_aoe_san",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "! talent.vampiric_strike.enabled & active_enemies >= 2",
["list_name"] = "cds_aoe",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "talent.vampiric_strike.enabled & active_enemies = 2",
["list_name"] = "cds_cleave_san",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "talent.vampiric_strike.enabled & active_enemies = 1",
["list_name"] = "cds_san",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "! talent.vampiric_strike.enabled & active_enemies = 1",
["list_name"] = "cds",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "active_enemies = 2",
["list_name"] = "cleave",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["criteria"] = "active_enemies >= 3 & cooldown.any_dnd.remains < 10 & ! death_and_decay.ticking",
["strict_if"] = "active_enemies >= 3",
["list_name"] = "aoe_setup",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["criteria"] = "active_enemies >= 3 & ( death_and_decay.ticking || buff.death_and_decay.up & ( death_knight.fwounded_targets >= ( cycle_enemies * 0.5 ) || talent.vampiric_strike.enabled & active_enemies < 16 ) )",
["strict_if"] = "active_enemies >= 3",
["list_name"] = "aoe_burst",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["criteria"] = "active_enemies >= 3 & ! buff.death_and_decay.up",
["strict_if"] = "active_enemies >= 3",
["list_name"] = "aoe",
},
{
["enabled"] = true,
["action"] = "run_action_list",
["criteria"] = "active_enemies = 1 & talent.gift_of_the_sanlayn.enabled & ! cooldown.dark_transformation.ready & ! buff.gift_of_the_sanlayn.up & buff.essence_of_the_blood_queen.remains < cooldown.dark_transformation.remains + 3",
["strict_if"] = "active_enemies = 1 & talent.gift_of_the_sanlayn.enabled",
["list_name"] = "san_fishing",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "active_enemies = 1 & talent.vampiric_strike.enabled",
["list_name"] = "san_st",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "active_enemies = 1 & ! talent.vampiric_strike.enabled",
["list_name"] = "st",
},
},
["precombat"] = {
{
["action"] = "raise_dead",
["enabled"] = true,
},
{
["enabled"] = true,
["action"] = "army_of_the_dead",
["precombat_time"] = "2",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "trinket.t1.has_use_buff || trinket.t1.is.treacherous_transmitter || trinket.t1.is.unyielding_netherprism",
["var_name"] = "trinket_1_buffs",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "trinket.t2.has_use_buff || trinket.t2.is.treacherous_transmitter || trinket.t2.is.unyielding_netherprism",
["var_name"] = "trinket_2_buffs",
},
{
["enabled"] = true,
["op"] = "setif",
["action"] = "variable",
["var_name"] = "trinket_1_duration",
["value"] = "trinket.t1.is.treacherous_transmitter * 15 + trinket.t1.is.funhouse_lens * 15 + trinket.t1.is.signet_of_the_priory * 20 + trinket.t1.is.unyielding_netherprism * 20 + trinket.t1.is.cursed_stone_idol * 16",
["value_else"] = "trinket.t1.buff_duration",
["criteria"] = "trinket.t1.is.treacherous_transmitter || trinket.t1.is.funhouse_lens || trinket.t1.is.signet_of_the_priory || trinket.t1.is.unyielding_netherprism || trinket.t1.is.cursed_stone_idol",
},
{
["enabled"] = true,
["op"] = "setif",
["action"] = "variable",
["var_name"] = "trinket_2_duration",
["value"] = "trinket.t2.is.treacherous_transmitter * 15 + trinket.t2.is.funhouse_lens * 15 + trinket.t2.is.signet_of_the_priory * 20 + trinket.t2.is.unyielding_netherprism * 20 + trinket.t2.is.cursed_stone_idol * 16",
["value_else"] = "trinket.t2.buff_duration",
["criteria"] = "trinket.t2.is.treacherous_transmitter || trinket.t2.is.funhouse_lens || trinket.t2.is.signet_of_the_priory || trinket.t2.is.unyielding_netherprism || trinket.t2.is.cursed_stone_idol",
},
{
["enabled"] = true,
["op"] = "setif",
["action"] = "variable",
["var_name"] = "trinket_1_high_value",
["value"] = "2",
["value_else"] = "1",
["criteria"] = "trinket.t1.is.treacherous_transmitter",
},
{
["enabled"] = true,
["op"] = "setif",
["action"] = "variable",
["var_name"] = "trinket_2_high_value",
["value"] = "2",
["value_else"] = "1",
["criteria"] = "trinket.t2.is.treacherous_transmitter",
},
{
["enabled"] = true,
["op"] = "setif",
["action"] = "variable",
["var_name"] = "trinket_1_sync",
["value"] = "1",
["value_else"] = "0.5",
["criteria"] = "variable.trinket_1_buffs & ( talent.apocalypse.enabled & trinket.t1.cooldown.duration % cooldown.apocalypse.duration = 0 || talent.dark_transformation.enabled & trinket.t1.cooldown.duration % cooldown.dark_transformation.duration = 0 ) || trinket.t1.is.treacherous_transmitter",
},
{
["enabled"] = true,
["op"] = "setif",
["action"] = "variable",
["var_name"] = "trinket_2_sync",
["value"] = "1",
["value_else"] = "0.5",
["criteria"] = "variable.trinket_2_buffs & ( talent.apocalypse.enabled & trinket.t2.cooldown.duration % cooldown.apocalypse.duration = 0 || talent.dark_transformation.enabled & trinket.t2.cooldown.duration % cooldown.dark_transformation.duration = 0 ) || trinket.t2.is.treacherous_transmitter",
},
{
["enabled"] = true,
["op"] = "setif",
["action"] = "variable",
["var_name"] = "trinket_priority",
["value"] = "2",
["value_else"] = "1",
["criteria"] = "! variable.trinket_1_buffs & variable.trinket_2_buffs & ( trinket.t2.has_cooldown || ! trinket.t1.has_cooldown ) || variable.trinket_2_buffs & ( ( trinket.t2.cooldown.duration / variable.trinket_2_duration ) * ( 1.5 + trinket.t2.has_use_buff ) * ( variable.trinket_2_sync ) * ( variable.trinket_2_high_value ) * ( 1 + ( ( trinket.t2.ilvl - trinket.t1.ilvl ) / 100 ) ) ) > ( ( trinket.t1.cooldown.duration / variable.trinket_1_duration ) * ( 1.5 + trinket.t1.has_use_buff ) * ( variable.trinket_1_sync ) * ( variable.trinket_1_high_value ) * ( 1 + ( ( trinket.t1.ilvl - trinket.t2.ilvl ) / 100 ) ) )",
},
{
["enabled"] = true,
["op"] = "setif",
["action"] = "variable",
["var_name"] = "damage_trinket_priority",
["value"] = "2",
["value_else"] = "1",
["criteria"] = "! variable.trinket_1_buffs & ! variable.trinket_2_buffs & trinket.t2.ilvl >= trinket.t1.ilvl",
},
},
["cds_san"] = {
{
["enabled"] = true,
["action"] = "dark_transformation",
["description"] = "Sanlayn CDs ST",
["criteria"] = "variable.st_planning || fight_remains < 20",
},
{
["enabled"] = true,
["criteria"] = "variable.st_planning || fight_remains < 20",
["action"] = "apocalypse",
},
{
["enabled"] = true,
["criteria"] = "variable.st_planning & ( buff.dark_transformation.up & buff.dark_transformation.remains < 12 ) || fight_remains < 20",
["action"] = "unholy_assault",
},
{
["enabled"] = true,
["criteria"] = "( dot.virulent_plague.refreshable || talent.morbidity.enabled & buff.infliction_of_sorrow.up & talent.superstrain.enabled & dot.frost_fever.refreshable & dot.blood_plague.refreshable ) & ( ! talent.unholy_blight.enabled || talent.unholy_blight.enabled & cooldown.dark_transformation.remains > 6 ) & ( ! talent.raise_abomination.enabled || talent.raise_abomination.enabled & cooldown.raise_abomination.remains > 6 ) || buff.visceral_strength_unholy.up",
["action"] = "outbreak",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "talent.superstrain.enabled & set_bonus.tww2_4pc & dot.frost_fever.refreshable & ( ! talent.unholy_blight.enabled || talent.unholy_blight.enabled & cooldown.dark_transformation.remains > 6 ) & ( ! talent.raise_abomination.enabled || talent.raise_abomination.enabled & cooldown.raise_abomination.remains > 6 )",
["action"] = "outbreak",
["cycle_targets"] = 1,
},
},
["cds"] = {
{
["enabled"] = true,
["action"] = "dark_transformation",
["description"] = "Non-Sanlayn CDs",
["criteria"] = "variable.st_planning || boss & fight_remains < 20",
},
{
["enabled"] = true,
["criteria"] = "variable.st_planning & ( cooldown.apocalypse.remains < gcd.max * 1.5 || ! talent.apocalypse.enabled || active_enemies >= 2 & buff.dark_transformation.up ) || boss & fight_remains < 20",
["action"] = "unholy_assault",
},
{
["enabled"] = true,
["criteria"] = "variable.st_planning || boss & fight_remains < 20",
["action"] = "apocalypse",
},
{
["enabled"] = true,
["criteria"] = "( dot.virulent_plague.refreshable || talent.superstrain.enabled & ( dot.frost_fever.refreshable || dot.blood_plague.refreshable ) ) & ( ! talent.unholy_blight.enabled || talent.plaguebringer.enabled ) & ( ! talent.raise_abomination.enabled || ! pet.abomination.active & talent.raise_abomination.enabled & cooldown.raise_abomination.remains > dot.virulent_plague.ticks_remain * 3 )",
["action"] = "outbreak",
},
},
["san_st"] = {
{
["enabled"] = true,
["action"] = "wound_spender",
["description"] = "San'layn Single Target",
["criteria"] = "buff.infliction_of_sorrow.up",
},
{
["enabled"] = true,
["criteria"] = "buff.festering_scythe.up & ( ! raid_event.adds.exists || ! raid_event.adds.in || raid_event.adds.in > 11 || raid_event.pull.has_boss & raid_event.adds.in > 11 )",
["action"] = "festering_strike",
},
{
["enabled"] = true,
["criteria"] = "buff.sudden_doom.up & buff.gift_of_the_sanlayn.remains & ( talent.doomed_bidding.enabled || talent.rotten_touch.enabled ) || rune < 3 & ! buff.runic_corruption.up || set_bonus.tww2_4pc & runic_power > 80 || buff.gift_of_the_sanlayn.up & buff.essence_of_the_blood_queen.at_max_stacks & talent.frenzied_bloodthirst.enabled & set_bonus.tww2_4pc & buff.winning_streak_unholy.at_max_stacks & rune <= 3 & buff.essence_of_the_blood_queen.remains > 3",
["action"] = "death_coil",
},
{
["enabled"] = true,
["criteria"] = "buff.vampiric_strike.up & debuff.festering_wound.stack >= 1 || buff.gift_of_the_sanlayn.up || talent.gift_of_the_sanlayn.enabled & buff.dark_transformation.up & buff.dark_transformation.remains < gcd.max",
["action"] = "wound_spender",
},
{
["enabled"] = true,
["criteria"] = "target.health.pct <= 35 & ! buff.gift_of_the_sanlayn.up & fight_remains > 5",
["action"] = "soul_reaper",
},
{
["enabled"] = true,
["criteria"] = "( debuff.festering_wound.stack = 0 & cooldown.apocalypse.remains < variable.apoc_timing ) || ! buff.dark_transformation.up & cooldown.dark_transformation.remains < 10 & debuff.festering_wound.stack <= 3 & ( rune > 4 || runic_power < 80 ) || ( talent.gift_of_the_sanlayn.enabled & ! buff.gift_of_the_sanlayn.up || ! talent.gift_of_the_sanlayn.enabled ) & debuff.festering_wound.stack <= 1",
["action"] = "festering_strike",
},
{
["enabled"] = true,
["criteria"] = "( ! talent.apocalypse.enabled || cooldown.apocalypse.remains > variable.apoc_timing ) & ( cooldown.dark_transformation.remains > 5 & debuff.festering_wound.stack >= 3 - pet.abomination.active || buff.vampiric_strike.up )",
["action"] = "wound_spender",
},
{
["enabled"] = true,
["criteria"] = "! variable.pooling_runic_power & debuff.death_rot.remains < gcd.max || ( buff.sudden_doom.up & debuff.festering_wound.stack >= 1 || rune < 2 )",
["action"] = "death_coil",
},
{
["enabled"] = true,
["criteria"] = "debuff.festering_wound.stack > 4",
["action"] = "wound_spender",
},
{
["enabled"] = true,
["criteria"] = "! variable.pooling_runic_power",
["action"] = "death_coil",
},
{
["enabled"] = true,
["criteria"] = "( ! talent.apocalypse.enabled || cooldown.apocalypse.remains > variable.apoc_timing ) & rune >= 4",
["action"] = "wound_spender",
},
},
["st"] = {
{
["enabled"] = true,
["criteria"] = "target.health.pct <= 35 & target.time_to_die > 5",
["action"] = "soul_reaper",
},
{
["enabled"] = true,
["criteria"] = "debuff.chains_of_ice_trollbane_slow.up",
["action"] = "wound_spender",
},
{
["enabled"] = true,
["criteria"] = "talent.unholy_ground.enabled & ! buff.death_and_decay.up & ( pet.apoc_ghoul.active || pet.abomination.active || pet.gargoyle.active )",
["action"] = "any_dnd",
},
{
["enabled"] = true,
["criteria"] = "! variable.pooling_runic_power & variable.spend_rp || fight_remains < 10",
["action"] = "death_coil",
},
{
["enabled"] = true,
["criteria"] = "debuff.festering_wound.stack < 4 & ( ! variable.pop_wounds || buff.festering_scythe.up )",
["action"] = "festering_strike",
},
{
["enabled"] = true,
["criteria"] = "variable.pop_wounds",
["action"] = "wound_spender",
},
{
["enabled"] = true,
["criteria"] = "! variable.pooling_runic_power",
["action"] = "death_coil",
},
{
["enabled"] = true,
["criteria"] = "! variable.pop_wounds & debuff.festering_wound.stack >= 4",
["action"] = "wound_spender",
},
},
},
["version"] = 20250826,
["warnings"] = "The import for 'trinkets' required some automated changes.\nLine 2: Converted 'trinket.1.is.unyielding_netherprism' to 'trinket.t1.is.unyielding_netherprism' (1x).\nLine 2: Converted 'trinket.2.has_cooldown' to 'trinket.t2.has_cooldown' (1x).\nLine 2: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 2: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 2: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 2: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 3: Converted 'trinket.2.is.unyielding_netherprism' to 'trinket.t2.is.unyielding_netherprism' (1x).\nLine 3: Converted 'trinket.1.has_cooldown' to 'trinket.t1.has_cooldown' (1x).\nLine 3: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 3: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 3: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 3: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 4: Converted 'trinket.2.has_cooldown' to 'trinket.t2.has_cooldown' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 5: Converted 'trinket.1.has_cooldown' to 'trinket.t1.has_cooldown' (1x).\nLine 6: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 6: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 6: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 6: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 6: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 6: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 6: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 6: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 6: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 6: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 6: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 6: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\n\nThe import for 'san_trinkets' required some automated changes.\nLine 3: Converted 'trinket.1.is.unyielding_netherprism' to 'trinket.t1.is.unyielding_netherprism' (1x).\nLine 3: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 3: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 3: Converted 'trinket.2.has_cooldown' to 'trinket.t2.has_cooldown' (1x).\nLine 4: Converted 'trinket.2.is.unyielding_netherprism' to 'trinket.t2.is.unyielding_netherprism' (1x).\nLine 4: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 4: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 4: Converted 'trinket.1.has_cooldown' to 'trinket.t1.has_cooldown' (1x).\nLine 5: Converted 'trinket.1.cast_time' to 'trinket.t1.cast_time' (1x).\nLine 5: Converted 'trinket.1.cast_time' to 'trinket.t1.cast_time' (1x).\nLine 5: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 5: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 5: Converted 'trinket.2.has_cooldown' to 'trinket.t2.has_cooldown' (1x).\nLine 6: Converted 'trinket.2.cast_time' to 'trinket.t2.cast_time' (1x).\nLine 6: Converted 'trinket.2.cast_time' to 'trinket.t2.cast_time' (1x).\nLine 6: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 6: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 6: Converted 'trinket.1.has_cooldown' to 'trinket.t1.has_cooldown' (1x).\nLine 7: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 7: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 7: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 7: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 7: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 7: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 7: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 7: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\n\nThe import for 'precombat' required some automated changes.\nLine 3: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'trinket.1.is.treacherous_transmitter' to 'trinket.t1.is.treacherous_transmitter' (1x).\nLine 3: Converted 'trinket.1.is.unyielding_netherprism' to 'trinket.t1.is.unyielding_netherprism' (1x).\nLine 4: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.is.treacherous_transmitter' to 'trinket.t2.is.treacherous_transmitter' (1x).\nLine 4: Converted 'trinket.2.is.unyielding_netherprism' to 'trinket.t2.is.unyielding_netherprism' (1x).\nLine 5: Converted 'trinket.1.is.treacherous_transmitter' to 'trinket.t1.is.treacherous_transmitter' (1x).\nLine 5: Converted 'trinket.1.is.funhouse_lens' to 'trinket.t1.is.funhouse_lens' (1x).\nLine 5: Converted 'trinket.1.is.signet_of_the_priory' to 'trinket.t1.is.signet_of_the_priory' (1x).\nLine 5: Converted 'trinket.1.is.unyielding_netherprism' to 'trinket.t1.is.unyielding_netherprism' (1x).\nLine 5: Converted 'trinket.1.is.cursed_stone_idol' to 'trinket.t1.is.cursed_stone_idol' (1x).\nLine 5: Converted 'trinket.1.proc.any_dps.duration' to 'trinket.t1.proc.any_dps.duration' (1x).\nLine 5: Converted 'trinket.1.proc.any_dps.duration' to 'trinket.t1.buff_duration' (1x).\nLine 5: Converted 'trinket.1.is.treacherous_transmitter' to 'trinket.t1.is.treacherous_transmitter' (1x).\nLine 5: Converted 'trinket.1.is.funhouse_lens' to 'trinket.t1.is.funhouse_lens' (1x).\nLine 5: Converted 'trinket.1.is.signet_of_the_priory' to 'trinket.t1.is.signet_of_the_priory' (1x).\nLine 5: Converted 'trinket.1.is.unyielding_netherprism' to 'trinket.t1.is.unyielding_netherprism' (1x).\nLine 5: Converted 'trinket.1.is.cursed_stone_idol' to 'trinket.t1.is.cursed_stone_idol' (1x).\nLine 6: Converted 'trinket.2.is.treacherous_transmitter' to 'trinket.t2.is.treacherous_transmitter' (1x).\nLine 6: Converted 'trinket.2.is.funhouse_lens' to 'trinket.t2.is.funhouse_lens' (1x).\nLine 6: Converted 'trinket.2.is.signet_of_the_priory' to 'trinket.t2.is.signet_of_the_priory' (1x).\nLine 6: Converted 'trinket.2.is.unyielding_netherprism' to 'trinket.t2.is.unyielding_netherprism' (1x).\nLine 6: Converted 'trinket.2.is.cursed_stone_idol' to 'trinket.t2.is.cursed_stone_idol' (1x).\nLine 6: Converted 'trinket.2.proc.any_dps.duration' to 'trinket.t2.proc.any_dps.duration' (1x).\nLine 6: Converted 'trinket.2.proc.any_dps.duration' to 'trinket.t2.buff_duration' (1x).\nLine 6: Converted 'trinket.2.is.treacherous_transmitter' to 'trinket.t2.is.treacherous_transmitter' (1x).\nLine 6: Converted 'trinket.2.is.funhouse_lens' to 'trinket.t2.is.funhouse_lens' (1x).\nLine 6: Converted 'trinket.2.is.signet_of_the_priory' to 'trinket.t2.is.signet_of_the_priory' (1x).\nLine 6: Converted 'trinket.2.is.unyielding_netherprism' to 'trinket.t2.is.unyielding_netherprism' (1x).\nLine 6: Converted 'trinket.2.is.cursed_stone_idol' to 'trinket.t2.is.cursed_stone_idol' (1x).\nLine 7: Converted 'trinket.1.is.treacherous_transmitter' to 'trinket.t1.is.treacherous_transmitter' (1x).\nLine 8: Converted 'trinket.2.is.treacherous_transmitter' to 'trinket.t2.is.treacherous_transmitter' (1x).\nLine 9: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 9: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 9: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 9: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 9: Converted 'trinket.1.is.treacherous_transmitter' to 'trinket.t1.is.treacherous_transmitter' (1x).\nLine 9: Converted operations in 'variable.trinket_1_buffs&(talent.apocalypse.enabled&trinket.t1.cooldown.duration%%cooldown.apocalypse.duration=0||talent.dark_transformation.enabled&trinket.t1.cooldown.duration%%cooldown.dark_transformation.duration=0)||trinket.t1.is.treacherous_transmitter' to 'variable.trinket_1_buffs&(talent.apocalypse.enabled&trinket.t1.cooldown.duration%cooldown.apocalypse.duration=0||talent.dark_transformation.enabled&trinket.t1.cooldown.duration%cooldown.dark_transformation.duration=0)||trinket.t1.is.treacherous_transmitter'.\nLine 10: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 10: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 10: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 10: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 10: Converted 'trinket.2.is.treacherous_transmitter' to 'trinket.t2.is.treacherous_transmitter' (1x).\nLine 10: Converted operations in 'variable.trinket_2_buffs&(talent.apocalypse.enabled&trinket.t2.cooldown.duration%%cooldown.apocalypse.duration=0||talent.dark_transformation.enabled&trinket.t2.cooldown.duration%%cooldown.dark_transformation.duration=0)||trinket.t2.is.treacherous_transmitter' to 'variable.trinket_2_buffs&(talent.apocalypse.enabled&trinket.t2.cooldown.duration%cooldown.apocalypse.duration=0||talent.dark_transformation.enabled&trinket.t2.cooldown.duration%cooldown.dark_transformation.duration=0)||trinket.t2.is.treacherous_transmitter'.\nLine 11: Converted 'trinket.2.has_cooldown' to 'trinket.t2.has_cooldown' (1x).\nLine 11: Converted 'trinket.1.has_cooldown' to 'trinket.t1.has_cooldown' (1x).\nLine 11: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 11: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 11: Converted 'trinket.2.has_buff.strength' to 'trinket.t2.has_buff.strength' (1x).\nLine 11: Converted 'trinket.2.has_buff.strength' to 'trinket.t2.has_use_buff' (1x).\nLine 11: Converted 'trinket.2.ilvl' to 'trinket.t2.ilvl' (1x).\nLine 11: Converted 'trinket.1.ilvl' to 'trinket.t1.ilvl' (1x).\nLine 11: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 11: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 11: Converted 'trinket.1.has_buff.strength' to 'trinket.t1.has_buff.strength' (1x).\nLine 11: Converted 'trinket.1.has_buff.strength' to 'trinket.t1.has_use_buff' (1x).\nLine 11: Converted 'trinket.1.ilvl' to 'trinket.t1.ilvl' (1x).\nLine 11: Converted 'trinket.2.ilvl' to 'trinket.t2.ilvl' (1x).\nLine 11: Converted operations in '!variable.trinket_1_buffs&variable.trinket_2_buffs&(trinket.t2.has_cooldown||!trinket.t1.has_cooldown)||variable.trinket_2_buffs&((trinket.t2.cooldown.duration%variable.trinket_2_duration)*(1.5+trinket.t2.has_use_buff)*(variable.trinket_2_sync)*(variable.trinket_2_high_value)*(1+((trinket.t2.ilvl-trinket.t1.ilvl)%100)))>((trinket.t1.cooldown.duration%variable.trinket_1_duration)*(1.5+trinket.t1.has_use_buff)*(variable.trinket_1_sync)*(variable.trinket_1_high_value)*(1+((trinket.t1.ilvl-trinket.t2.ilvl)%100)))' to '!variable.trinket_1_buffs&variable.trinket_2_buffs&(trinket.t2.has_cooldown||!trinket.t1.has_cooldown)||variable.trinket_2_buffs&((trinket.t2.cooldown.duration/variable.trinket_2_duration)*(1.5+trinket.t2.has_use_buff)*(variable.trinket_2_sync)*(variable.trinket_2_high_value)*(1+((trinket.t2.ilvl-trinket.t1.ilvl)/100)))>((trinket.t1.cooldown.duration/variable.trinket_1_duration)*(1.5+trinket.t1.has_use_buff)*(variable.trinket_1_sync)*(variable.trinket_1_high_value)*(1+((trinket.t1.ilvl-trinket.t2.ilvl)/100)))'.\nLine 12: Converted 'trinket.2.ilvl' to 'trinket.t2.ilvl' (1x).\nLine 12: Converted 'trinket.1.ilvl' to 'trinket.t1.ilvl' (1x).\n\nImported 17 action lists.\n",
["author"] = "SimulationCraft",
["profile"] = "## https://github.com/simulationcraft/simc/blob/thewarwithin/ActionPriorityLists/default/deathknight_unholy.simc\n## SimulationCraft Commit Sync: 05c05de\n## Date: 2025-08-26\n\n## [Hekili] There are a fair number of nested variables in this priority which can cause logic/timing issues.\n\nactions.precombat+=/raise_dead\nactions.precombat+=/army_of_the_dead,precombat_time=2\nactions.precombat+=/variable,name=trinket_1_buffs,value=trinket.1.has_use_buff||trinket.1.is.treacherous_transmitter||trinket.1.is.unyielding_netherprism\nactions.precombat+=/variable,name=trinket_2_buffs,value=trinket.2.has_use_buff||trinket.2.is.treacherous_transmitter||trinket.2.is.unyielding_netherprism\nactions.precombat+=/variable,name=trinket_1_duration,op=setif,value=trinket.1.is.treacherous_transmitter*15+trinket.1.is.funhouse_lens*15+trinket.1.is.signet_of_the_priory*20+trinket.1.is.unyielding_netherprism*20+trinket.1.is.cursed_stone_idol*16,value_else=trinket.1.proc.any_dps.duration,condition=trinket.1.is.treacherous_transmitter||trinket.1.is.funhouse_lens||trinket.1.is.signet_of_the_priory||trinket.1.is.unyielding_netherprism||trinket.1.is.cursed_stone_idol\nactions.precombat+=/variable,name=trinket_2_duration,op=setif,value=trinket.2.is.treacherous_transmitter*15+trinket.2.is.funhouse_lens*15+trinket.2.is.signet_of_the_priory*20+trinket.2.is.unyielding_netherprism*20+trinket.2.is.cursed_stone_idol*16,value_else=trinket.2.proc.any_dps.duration,condition=trinket.2.is.treacherous_transmitter||trinket.2.is.funhouse_lens||trinket.2.is.signet_of_the_priory||trinket.2.is.unyielding_netherprism||trinket.2.is.cursed_stone_idol\nactions.precombat+=/variable,name=trinket_1_high_value,op=setif,value=2,value_else=1,condition=trinket.1.is.treacherous_transmitter\nactions.precombat+=/variable,name=trinket_2_high_value,op=setif,value=2,value_else=1,condition=trinket.2.is.treacherous_transmitter\nactions.precombat+=/variable,name=trinket_1_sync,op=setif,value=1,value_else=0.5,condition=variable.trinket_1_buffs&(talent.apocalypse&trinket.1.cooldown.duration%%cooldown.apocalypse.duration=0||talent.dark_transformation&trinket.1.cooldown.duration%%cooldown.dark_transformation.duration=0)||trinket.1.is.treacherous_transmitter\nactions.precombat+=/variable,name=trinket_2_sync,op=setif,value=1,value_else=0.5,condition=variable.trinket_2_buffs&(talent.apocalypse&trinket.2.cooldown.duration%%cooldown.apocalypse.duration=0||talent.dark_transformation&trinket.2.cooldown.duration%%cooldown.dark_transformation.duration=0)||trinket.2.is.treacherous_transmitter\nactions.precombat+=/variable,name=trinket_priority,op=setif,value=2,value_else=1,condition=!variable.trinket_1_buffs&variable.trinket_2_buffs&(trinket.2.has_cooldown||!trinket.1.has_cooldown)||variable.trinket_2_buffs&((trinket.2.cooldown.duration%variable.trinket_2_duration)*(1.5+trinket.2.has_buff.strength)*(variable.trinket_2_sync)*(variable.trinket_2_high_value)*(1+((trinket.2.ilvl-trinket.1.ilvl)%100)))>((trinket.1.cooldown.duration%variable.trinket_1_duration)*(1.5+trinket.1.has_buff.strength)*(variable.trinket_1_sync)*(variable.trinket_1_high_value)*(1+((trinket.1.ilvl-trinket.2.ilvl)%100)))\nactions.precombat+=/variable,name=damage_trinket_priority,op=setif,value=2,value_else=1,condition=!variable.trinket_1_buffs&!variable.trinket_2_buffs&trinket.2.ilvl>=trinket.1.ilvl\n\nactions+=/mind_freeze\nactions+=/variable,name=st_planning,op=set,value=active_enemies=1\n## [Hekili] This could be shifted to 'raid_event.adds.remains>6' because it does return remaining time on secondary targets (excluding current target).\nactions+=/variable,name=adds_remain,op=set,value=active_enemies>1&fight_remains>6\nactions+=/variable,name=apoc_timing,op=set,value=5,value_else=2,condition=cooldown.apocalypse.remains<5&debuff.festering_wound.down&cooldown.unholy_assault.remains>5\nactions+=/variable,name=pop_wounds,op=set,value=(cooldown.apocalypse.remains>variable.apoc_timing||!talent.apocalypse)&(debuff.festering_wound.up&cooldown.unholy_assault.remains<20&talent.unholy_assault&active_enemies=1||debuff.rotten_touch.up&debuff.festering_wound.up||debuff.festering_wound.stack>=4-pet.abomination.active)||fight_remains<5&debuff.festering_wound.up\nactions+=/variable,name=pooling_runic_power,op=set,value=cooldown.summon_gargoyle.remains>5&runic_power<40\nactions+=/variable,name=spend_rp,op=setif,value=(!talent.rotten_touch||talent.rotten_touch&!debuff.rotten_touch.up||runic_power.deficit<20)&((talent.improved_death_coil&(active_enemies=2||talent.coil_of_devastation)||rune<3||pet.gargoyle.active||buff.sudden_doom.up||!variable.pop_wounds&debuff.festering_wound.stack>=4))\nactions+=/variable,name=san_coil_mult,op=setif,value=2,value_else=1,condition=buff.essence_of_the_blood_queen.stack>=4\nactions+=/variable,name=epidemic_targets,value=3+talent.improved_death_coil+(talent.frenzied_bloodthirst*variable.san_coil_mult)+(talent.hungering_thirst&talent.harbinger_of_doom&buff.sudden_doom.up)\n## Call Action Lists\nactions+=/call_action_list,name=san_trinkets,strict=1,if=talent.vampiric_strike\nactions+=/call_action_list,name=trinkets,strict=1,if=!talent.vampiric_strike\n## Racials\nactions+=/arcane_torrent,if=runic_power<20&rune<2\nactions+=/blood_fury,if=(buff.blood_fury.duration+3>=pet.gargoyle.remains&pet.gargoyle.active)||(!talent.summon_gargoyle||cooldown.summon_gargoyle.remains>60)&(pet.army_ghoul.active&pet.army_ghoul.remains<=buff.blood_fury.duration+3||pet.apoc_ghoul.active&pet.apoc_ghoul.remains<=buff.blood_fury.duration+3||active_enemies>=2&death_and_decay.ticking)||boss&fight_remains<=buff.blood_fury.duration+3\nactions+=/berserking,if=(buff.berserking.duration+3>=pet.gargoyle.remains&pet.gargoyle.active)||(!talent.summon_gargoyle||cooldown.summon_gargoyle.remains>60)&(pet.army_ghoul.active&pet.army_ghoul.remains<=buff.berserking.duration+3||pet.apoc_ghoul.active&pet.apoc_ghoul.remains<=buff.berserking.duration+3||active_enemies>=2&death_and_decay.ticking)||boss&fight_remains<=buff.berserking.duration+3\nactions+=/lights_judgment,if=buff.unholy_strength.up&(!talent.festermight||buff.festermight.remains<target.time_to_die||buff.unholy_strength.remains<target.time_to_die)\nactions+=/ancestral_call,if=(18>=pet.gargoyle.remains&pet.gargoyle.active)||(!talent.summon_gargoyle||cooldown.summon_gargoyle.remains>60)&(pet.army_ghoul.active&pet.army_ghoul.remains<=18||pet.apoc_ghoul.active&pet.apoc_ghoul.remains<=18||active_enemies>=2&death_and_decay.ticking)||boss&fight_remains<=18\nactions+=/arcane_pulse,if=active_enemies>=2||(rune.deficit>=5&runic_power.deficit>=60)\nactions+=/fireblood,if=(buff.fireblood.duration+3>=pet.gargoyle.remains&pet.gargoyle.active)||(!talent.summon_gargoyle||cooldown.summon_gargoyle.remains>60)&(pet.army_ghoul.active&pet.army_ghoul.remains<=buff.fireblood.duration+3||pet.apoc_ghoul.active&pet.apoc_ghoul.remains<=buff.fireblood.duration+3||active_enemies>=2&death_and_decay.ticking)||boss&fight_remains<=buff.fireblood.duration+3\nactions+=/bag_of_tricks,if=active_enemies=1&(buff.unholy_strength.up||boss&fight_remains<5)\n# Shared Cooldowns\nactions+=/potion,if=active_enemies>=1&(!talent.summon_gargoyle||cooldown.summon_gargoyle.remains>60)&(buff.dark_transformation.up&30>=buff.dark_transformation.remains||pet.army_ghoul.active&pet.army_ghoul.remains<=30||pet.apoc_ghoul.active&pet.apoc_ghoul.remains<=30||pet.abomination.active&pet.abomination.remains<=30)||boss&fight_remains<=30\n## Use <a href='https://www.wowhead.com/spell=10060/power-infusion'>Power Infusion</a> while <a href='https://www.wowhead.com/spell=49206/summon-gargoyle'>Gargoyle</a> is up, as well as <a href='https://www.wowhead.com/spell=275699/apocalypse'>Apocalypse</a> or with <a href='https://www.wowhead.com/spell=63560/dark-transformation'>Dark Transformation</a> if <a href='https://www.wowhead.com/spell=275699/apocalypse'>Apocalypse</a> or <a href='https://www.wowhead.com/spell=49206/summon-gargoyle'>Gargoyle</a> are not talented\n## actions+=/invoke_external_buff,name=power_infusion,if=active_enemies>=1&(pet.gargoyle.active&pet.gargoyle.remains<=22||!talent.summon_gargoyle&talent.army_of_the_dead&(talent.raise_abomination&pet.abomination.active&pet.abomination.remains<18||!talent.raise_abomination&pet.army_ghoul.active&pet.army_ghoul.remains<=18)||!talent.summon_gargoyle&!talent.army_of_the_dead&buff.dark_transformation.up||!talent.summon_gargoyle&buff.dark_transformation.up||!pet.gargoyle.active&cooldown.summon_gargoyle.remains+10>cooldown.invoke_external_buff_power_infusion.duration||active_enemies>=3&(buff.dark_transformation.up||death_and_decay.ticking))\n## [Syrif] (variable.st_planning||variable.adds_remain) removed from 3 lines here, too redundant\nactions+=/army_of_the_dead,if=(talent.commander_of_the_dead&cooldown.dark_transformation.remains<5||!talent.commander_of_the_dead&active_enemies>=1)||boss&fight_remains<35\nactions+=/raise_abomination,if=(variable.st_planning||variable.adds_remain)&(!talent.vampiric_strike||(pet.apoc_ghoul.active||!talent.apocalypse))||boss&fight_remains<30\nactions+=/summon_gargoyle,use_off_gcd=1,if=(variable.st_planning||variable.adds_remain)&(buff.commander_of_the_dead.up||!talent.commander_of_the_dead&active_enemies>=1)||boss&fight_remains<25\nactions+=/antimagic_shell,if=death_knight.ams_absorb_percent>0&runic_power<30&rune<2\nactions+=/call_action_list,name=cds_shared\nactions+=/call_action_list,name=cds_aoe_san,strict=1,if=talent.vampiric_strike&active_enemies>=3\nactions+=/call_action_list,name=cds_aoe,strict=1,if=!talent.vampiric_strike&active_enemies>=2\nactions+=/call_action_list,name=cds_cleave_san,strict=1,if=talent.vampiric_strike&active_enemies=2\nactions+=/call_action_list,name=cds_san,strict=1,if=talent.vampiric_strike&active_enemies=1\nactions+=/call_action_list,name=cds,strict=1,if=!talent.vampiric_strike&active_enemies=1\nactions+=/call_action_list,name=cleave,strict=1,if=active_enemies=2\nactions+=/call_action_list,name=aoe_setup,strict_if=active_enemies>=3,if=active_enemies>=3&cooldown.any_dnd.remains<10&!death_and_decay.ticking\nactions+=/call_action_list,name=aoe_burst,strict_if=active_enemies>=3,if=active_enemies>=3&(death_and_decay.ticking||buff.death_and_decay.up&(death_knight.fwounded_targets>=(cycle_enemies*0.5)||talent.vampiric_strike&active_enemies<16))\nactions+=/call_action_list,name=aoe,strict_if=active_enemies>=3,if=active_enemies>=3&!buff.death_and_decay.up\nactions+=/run_action_list,name=san_fishing,strict_if=active_enemies=1&talent.gift_of_the_sanlayn,if=active_enemies=1&talent.gift_of_the_sanlayn&!cooldown.dark_transformation.ready&!buff.gift_of_the_sanlayn.up&buff.essence_of_the_blood_queen.remains<cooldown.dark_transformation.remains+3\nactions+=/call_action_list,name=san_st,strict=1,if=active_enemies=1&talent.vampiric_strike\nactions+=/call_action_list,name=st,strict=1,if=active_enemies=1&!talent.vampiric_strike\n\n## AOE\nactions.aoe+=/festering_strike,if=buff.festering_scythe.up\nactions.aoe+=/death_coil,cycle_targets=1,if=rune<4&active_enemies<variable.epidemic_targets&buff.gift_of_the_sanlayn.up&gcd<=1.0&fight_remains>buff.dark_transformation.remains*2\nactions.aoe+=/epidemic,if=rune<4&active_enemies>variable.epidemic_targets&buff.gift_of_the_sanlayn.up&gcd<=1.0&fight_remains>buff.dark_transformation.remains*2\nactions.aoe+=/wound_spender,cycle_targets=1,if=debuff.festering_wound.up&buff.death_and_decay.up&talent.bursting_sores&cooldown.apocalypse.remains>variable.apoc_timing\nactions.aoe+=/death_coil,cycle_targets=1,if=!variable.pooling_runic_power&active_enemies<variable.epidemic_targets\nactions.aoe+=/epidemic,if=!variable.pooling_runic_power\nactions.aoe+=/wound_spender,cycle_targets=1,if=debuff.chains_of_ice_trollbane_slow.up\nactions.aoe+=/festering_strike,cycle_targets=1,if=cooldown.apocalypse.remains<variable.apoc_timing||buff.festering_scythe.up\nactions.aoe+=/festering_strike,cycle_targets=1,if=debuff.festering_wound.stack<2\nactions.aoe+=/wound_spender,cycle_targets=1,if=debuff.festering_wound.up&cooldown.apocalypse.remains>gcd||buff.vampiric_strike.up&dot.virulent_plague.ticking\n\n## AoE Burst\nactions.aoe_burst+=/festering_strike,if=buff.festering_scythe.up\nactions.aoe_burst+=/death_and_decay,if=death_knight.fwounded_targets=active_enemies&talent.desecrate&(talent.festering_scythe&death_knight.fwounded_targets=0&buff.festering_scythe_stacks.stack<10&!buff.festering_scythe.up||!talent.festering_scythe)&(raid_event.adds.exists&raid_event.adds.remains>6&(raid_event.adds.remains<10||!buff.death_and_decay.up)||!raid_event.adds.exists||fight_remains>6&fight_remains<10)\nactions.aoe_burst+=/death_coil,cycle_targets=1,if=!buff.vampiric_strike.up&active_enemies<variable.epidemic_targets&(!talent.bursting_sores||talent.bursting_sores&death_knight.fwounded_targets<active_enemies&death_knight.fwounded_targets<active_enemies*0.4&buff.sudden_doom.up||buff.sudden_doom.up&(talent.doomed_bidding&talent.menacing_magus||talent.rotten_touch||debuff.death_rot.remains<gcd)||rune<2)||(rune<4||active_enemies<4||boss)&active_enemies<variable.epidemic_targets&buff.gift_of_the_sanlayn.up&gcd<=1.0&(fight_remains>buff.dark_transformation.remains*2)\nactions.aoe_burst+=/epidemic,if=!buff.vampiric_strike.up&(!talent.bursting_sores||talent.bursting_sores&death_knight.fwounded_targets<active_enemies&death_knight.fwounded_targets<active_enemies*0.4&buff.sudden_doom.up||buff.sudden_doom.up&(buff.a_feast_of_souls.up||debuff.death_rot.remains<gcd||debuff.death_rot.stack<10)||rune<2)||(rune<4||boss)&active_enemies>variable.epidemic_targets&buff.gift_of_the_sanlayn.up&gcd<=1.0&fight_remains>buff.dark_transformation.remains*2\nactions.aoe_burst+=/wound_spender,cycle_targets=1,if=debuff.chains_of_ice_trollbane_slow.up\nactions.aoe_burst+=/wound_spender,cycle_targets=1,if=debuff.festering_wound.up||buff.vampiric_strike.up||buff.death_and_decay.up\nactions.aoe_burst+=/death_coil,cycle_targets=1,if=active_enemies<variable.epidemic_targets\nactions.aoe_burst+=/epidemic,if=variable.epidemic_targets<active_enemies\nactions.aoe_burst+=/festering_strike,cycle_targets=1,if=debuff.festering_wound.stack<=2\nactions.aoe_burst+=/wound_spender,cycle_targets=1\n\n## AoE Setup\nactions.aoe_setup+=/festering_strike,if=buff.festering_scythe.up\n## [Syrif] Added fallback use based on time to max charges; this is in case you have target swaps enabled but...aren't swapping targets to apply Festering Wounds.\nactions.aoe_setup+=/any_dnd,if=!death_and_decay.ticking&(full_recharge_time<2*gcd.max||death_knight.fwounded_targets>=cycle_enemies&(rune>3||runic_power<30)||talent.desecrate&(talent.festering_scythe&death_knight.fwounded_targets=0&buff.festering_scythe_stacks.stack<10&!buff.festering_scythe.up||!talent.festering_scythe))\nactions.aoe_setup+=/festering_strike,cycle_targets=1,if=death_knight.fwounded_targets=0&cooldown.apocalypse.remains<gcd&(cooldown.dark_transformation.remains&cooldown.unholy_assault.remains||cooldown.unholy_assault.remains||!talent.unholy_assault)\nactions.aoe_setup+=/wound_spender,if=debuff.chains_of_ice_trollbane_slow.up\nactions.aoe_setup+=/death_coil,cycle_targets=1,if=!variable.pooling_runic_power&active_enemies<variable.epidemic_targets&rune<4\nactions.aoe_setup+=/epidemic,if=!variable.pooling_runic_power&variable.epidemic_targets<=active_enemies&rune<4\nactions.aoe_setup+=/any_dnd,if=!buff.death_and_decay.up&(!talent.bursting_sores||death_knight.fwounded_targets=active_enemies||death_knight.fwounded_targets>=8||raid_event.adds.exists&raid_event.adds.remains<=11&raid_event.adds.remains>5||!buff.death_and_decay.up&talent.defile)\nactions.aoe_setup+=/death_coil,cycle_targets=1,if=!variable.pooling_runic_power&active_enemies<variable.epidemic_targets&(buff.sudden_doom.up||death_knight.fwounded_targets=active_enemies||death_knight.fwounded_targets>=8)\nactions.aoe_setup+=/epidemic,if=!variable.pooling_runic_power&variable.epidemic_targets<=active_enemies&(buff.sudden_doom.up||death_knight.fwounded_targets=active_enemies||death_knight.fwounded_targets>=8)\nactions.aoe_setup+=/death_coil,cycle_targets=1,if=!variable.pooling_runic_power&active_enemies<variable.epidemic_targets\nactions.aoe_setup+=/epidemic,if=!variable.pooling_runic_power\nactions.aoe_setup+=/festering_strike,cycle_targets=1,if=death_knight.fwounded_targets<8&!death_knight.fwounded_targets=active_enemies\nactions.aoe_setup+=/wound_spender,cycle_targets=1,if=buff.vampiric_strike.up\n\n# Non-Sanlayn CDs\nactions.cds+=/dark_transformation,if=variable.st_planning||boss&fight_remains<20\nactions.cds+=/unholy_assault,if=variable.st_planning&(cooldown.apocalypse.remains<gcd*1.5||!talent.apocalypse||active_enemies>=2&buff.dark_transformation.up)||boss&fight_remains<20\nactions.cds+=/apocalypse,if=variable.st_planning||boss&fight_remains<20\nactions.cds+=/outbreak,if=(dot.virulent_plague.refreshable||talent.superstrain&(dot.frost_fever.refreshable||dot.blood_plague.refreshable))&(!talent.unholy_blight||talent.plaguebringer)&(!talent.raise_abomination||!pet.abomination.active&talent.raise_abomination&cooldown.raise_abomination.remains>dot.virulent_plague.ticks_remain*3)\n\n# Non-Sanlayn CDs AoE\nactions.cds_aoe+=/unholy_assault,cycle_targets=1,if=variable.adds_remain\nactions.cds_aoe+=/dark_transformation,if=variable.adds_remain&(death_and_decay.ticking||cooldown.death_and_decay.remains<3)\nactions.cds_aoe+=/apocalypse,cycle_targets=1,if=variable.adds_remain&(death_and_decay.ticking||cooldown.death_and_decay.remains<3||rune<3||set_bonus.tww3_rider_of_the_apocalypse_2pc)\n## [Syrif] - Internal expression to handle SimC only checking 1 spell for CD\nactions.cds_aoe+=/outbreak,if=dot.virulent_plague.ticks_remain<5&dot.virulent_plague.refreshable&(!talent.unholy_blight||talent.unholy_blight&dark_transformation_cooldown)&(!talent.raise_abomination||talent.raise_abomination&cooldown.raise_abomination.remains)\n\n# Sanlayn CDs AoE\nactions.cds_aoe_san+=/dark_transformation,if=variable.adds_remain&(buff.death_and_decay.up||active_enemies<=3)\nactions.cds_aoe_san+=/unholy_assault,cycle_targets=1,if=variable.adds_remain&buff.dark_transformation.up&buff.dark_transformation.remains<12\nactions.cds_aoe_san+=/apocalypse,cycle_targets=1,if=variable.adds_remain&(buff.death_and_decay.up||active_enemies<=3||rune<3)\nactions.cds_aoe_san+=/outbreak,if=(dot.virulent_plague.ticks_remain<5||set_bonus.tww2_4pc&talent.superstrain&dot.frost_fever.ticks_remain<5&!pet.abomination.active)&(talent.unholy_blight&!cooldown.dark_transformation.ready||!talent.unholy_blight)&(dot.virulent_plague.refreshable||talent.morbidity&!buff.gift_of_the_sanlayn.up&talent.superstrain&dot.frost_fever.refreshable&dot.blood_plague.refreshable)&(!dot.virulent_plague.ticking&variable.epidemic_targets<active_enemies||(!talent.unholy_blight||talent.unholy_blight&cooldown.dark_transformation.remains>5)&(!talent.raise_abomination||talent.raise_abomination&cooldown.raise_abomination.remains>5))||buff.visceral_strength_unholy.up\n\n# Sanlayn CDs Cleave\nactions.cds_cleave_san+=/dark_transformation\nactions.cds_cleave_san+=/apocalypse,cycle_targets=1\nactions.cds_cleave_san+=/unholy_assault,cycle_targets=1,if=buff.dark_transformation.up&buff.dark_transformation.remains<12||boss&fight_remains<20||raid_event.adds.exists&raid_event.adds.remains<20\nactions.cds_cleave_san+=/outbreak,cycle_targets=1,if=(dot.virulent_plague.refreshable||talent.morbidity&buff.infliction_of_sorrow.up&talent.superstrain&dot.frost_fever.refreshable&dot.blood_plague.refreshable)&(!talent.unholy_blight||talent.unholy_blight&cooldown.dark_transformation.remains>6)&(!talent.raise_abomination||talent.raise_abomination&cooldown.raise_abomination.remains>6)||buff.visceral_strength_unholy.up\n\n# Sanlayn CDs ST\nactions.cds_san+=/dark_transformation,if=variable.st_planning||fight_remains<20\nactions.cds_san+=/apocalypse,if=variable.st_planning||fight_remains<20\nactions.cds_san+=/unholy_assault,if=variable.st_planning&(buff.dark_transformation.up&buff.dark_transformation.remains<12)||fight_remains<20\nactions.cds_san+=/outbreak,cycle_targets=1,if=(dot.virulent_plague.refreshable||talent.morbidity&buff.infliction_of_sorrow.up&talent.superstrain&dot.frost_fever.refreshable&dot.blood_plague.refreshable)&(!talent.unholy_blight||talent.unholy_blight&cooldown.dark_transformation.remains>6)&(!talent.raise_abomination||talent.raise_abomination&cooldown.raise_abomination.remains>6)||buff.visceral_strength_unholy.up\nactions.cds_san+=/outbreak,cycle_targets=1,if=talent.superstrain&set_bonus.tww2_4pc&dot.frost_fever.refreshable&(!talent.unholy_blight||talent.unholy_blight&cooldown.dark_transformation.remains>6)&(!talent.raise_abomination||talent.raise_abomination&cooldown.raise_abomination.remains>6)\n\n# Shared CDs\nactions.cds_shared+=/potion,if=(variable.st_planning||variable.adds_remain)&(!talent.summon_gargoyle||cooldown.summon_gargoyle.remains>60)&(buff.dark_transformation.up&30>=buff.dark_transformation.remains||!talent.vampiric_strike&pet.army_ghoul.active&pet.army_ghoul.remains<=30||!talent.vampiric_strike&pet.apoc_ghoul.active&pet.apoc_ghoul.remains<=30||!talent.vampiric_strike&pet.abomination.active&pet.abomination.remains<=30)||fight_remains<=30\n## actions.cds_shared+=/invoke_external_buff,name=power_infusion,if=active_enemies>=1&(variable.st_planning||variable.adds_remain)&(pet.gargoyle.active&pet.gargoyle.remains<=22||!talent.summon_gargoyle&talent.army_of_the_dead&(talent.raise_abomination&pet.abomination.active&pet.abomination.remains<18||!talent.raise_abomination&pet.army_ghoul.active&pet.army_ghoul.remains<=18)||!talent.summon_gargoyle&!talent.army_of_the_dead&buff.dark_transformation.up||!talent.summon_gargoyle&buff.dark_transformation.up||!pet.gargoyle.active&cooldown.summon_gargoyle.remains+10>cooldown.invoke_external_buff_power_infusion.duration||active_enemies>=3&(buff.dark_transformation.up||death_and_decay.ticking))\nactions.cds_shared+=/army_of_the_dead,if=(variable.st_planning||variable.adds_remain)&(talent.commander_of_the_dead&cooldown.dark_transformation.remains<5||!talent.commander_of_the_dead&active_enemies>=1)||fight_remains<35\nactions.cds_shared+=/raise_abomination,if=(variable.st_planning||variable.adds_remain)&(!talent.vampiric_strike||(pet.apoc_ghoul.active||!talent.apocalypse))||fight_remains<30\nactions.cds_shared+=/legion_of_souls,if=(variable.st_planning||variable.adds_remain)&(death_knight.fwounded_targets<active_enemies||(cooldown.apocalypse.remains<3||cooldown.dark_transformation.remains<3))\nactions.cds_shared+=/summon_gargoyle,use_off_gcd=1,if=(variable.st_planning||variable.adds_remain)&(buff.commander_of_the_dead.up||!talent.commander_of_the_dead&active_enemies>=1)||fight_remains<25\nactions.cds_shared+=/antimagic_shell,if=death_knight.ams_absorb_percent>0&runic_power<30&rune<2\nactions.cds_shared+=/desecrate,if=active_enemies>=2&((!raid_event.adds.exists&fight_remains<6||raid_event.adds.exists&raid_event.adds.remains<6)||(!talent.festering_scythe||buff.festering_scythe_stacks.stack<active_enemies&!buff.festering_scythe.up)&(active_enemies>1&death_knight.fwounded_targets<active_enemies||death_knight.fwounded_targets=active_enemies||death_knight.fwounded_targets=0&talent.festering_scythe&!buff.festering_scythe.up&buff.festering_scythe_stacks.stack<10))\n\n# Cleave\nactions.cleave+=/any_dnd,if=!death_and_decay.ticking&variable.adds_remain||talent.gift_of_the_sanlayn\nactions.cleave+=/death_coil,if=!variable.pooling_runic_power&talent.improved_death_coil\nactions.cleave+=/wound_spender,if=buff.vampiric_strike.up\nactions.cleave+=/death_coil,if=!variable.pooling_runic_power&!talent.improved_death_coil\n## [Hekili] Revised to allow Festering Strike with more wounds active; change is neutral/positive in sim and reduces wait time.\n## actions.cleave+=/festering_strike,cycle_targets=1,if=buff.vampiric_strike.down&!variable.pop_wounds&debuff.festering_wound.stack<2||buff.festering_scythe.up\nactions.cleave+=/festering_strike,cycle_targets=1,if=buff.vampiric_strike.down&!variable.pop_wounds&debuff.festering_wound.stack<4||buff.festering_scythe.up\n## [Hekili] Revised to allow Festering Strike with more wounds active; entry is typically not reached in SimC.\nactions.cleave+=/festering_strike,cycle_targets=1,if=buff.vampiric_strike.down&cooldown.apocalypse.remains<variable.apoc_timing&debuff.festering_wound.stack<4\nactions.cleave+=/wound_spender,if=variable.pop_wounds\n\n## San'layn Fishing\nactions.san_fishing+=/antimagic_shell,if=death_knight.ams_absorb_percent>0&runic_power<40\nactions.san_fishing+=/wound_spender,if=buff.infliction_of_sorrow.up\nactions.san_fishing+=/any_dnd,if=!buff.death_and_decay.up&!buff.vampiric_strike.up\nactions.san_fishing+=/death_coil,if=buff.sudden_doom.up&talent.doomed_bidding||set_bonus.tww2_4pc&buff.essence_of_the_blood_queen.at_max_stacks&talent.frenzied_bloodthirst&!buff.vampiric_strike.up\nactions.san_fishing+=/soul_reaper,if=target.health.pct<=35&fight_remains>5\nactions.san_fishing+=/death_coil,if=!buff.vampiric_strike.up\nactions.san_fishing+=/wound_spender,if=(debuff.festering_wound.stack>=3-pet.abomination.active&cooldown.apocalypse.remains>variable.apoc_timing)||buff.vampiric_strike.up\nactions.san_fishing+=/festering_strike,if=debuff.festering_wound.stack<3-pet.abomination.active\n\n# San'layn Single Target\nactions.san_st+=/wound_spender,if=buff.infliction_of_sorrow.up\nactions.san_st+=/festering_strike,if=buff.festering_scythe.up&(!raid_event.adds.exists||!raid_event.adds.in||raid_event.adds.in>11||raid_event.pull.has_boss&raid_event.adds.in>11)\nactions.san_st+=/death_coil,if=buff.sudden_doom.up&buff.gift_of_the_sanlayn.remains&(talent.doomed_bidding||talent.rotten_touch)||rune<3&!buff.runic_corruption.up||set_bonus.tww2_4pc&runic_power>80||buff.gift_of_the_sanlayn.up&buff.essence_of_the_blood_queen.at_max_stacks&talent.frenzied_bloodthirst&set_bonus.tww2_4pc&buff.winning_streak_unholy.at_max_stacks&rune<=3&buff.essence_of_the_blood_queen.remains>3\nactions.san_st+=/wound_spender,if=buff.vampiric_strike.up&debuff.festering_wound.stack>=1||buff.gift_of_the_sanlayn.up||talent.gift_of_the_sanlayn&buff.dark_transformation.up&buff.dark_transformation.remains<gcd\nactions.san_st+=/soul_reaper,if=target.health.pct<=35&!buff.gift_of_the_sanlayn.up&fight_remains>5\nactions.san_st+=/festering_strike,if=(debuff.festering_wound.stack=0&cooldown.apocalypse.remains<variable.apoc_timing)||!buff.dark_transformation.up&cooldown.dark_transformation.remains<10&debuff.festering_wound.stack<=3&(rune>4||runic_power<80)||(talent.gift_of_the_sanlayn&!buff.gift_of_the_sanlayn.up||!talent.gift_of_the_sanlayn)&debuff.festering_wound.stack<=1\nactions.san_st+=/wound_spender,if=(!talent.apocalypse||cooldown.apocalypse.remains>variable.apoc_timing)&(cooldown.dark_transformation.remains>5&debuff.festering_wound.stack>=3-pet.abomination.active||buff.vampiric_strike.up)\nactions.san_st+=/death_coil,if=!variable.pooling_runic_power&debuff.death_rot.remains<gcd||(buff.sudden_doom.up&debuff.festering_wound.stack>=1||rune<2)\nactions.san_st+=/wound_spender,if=debuff.festering_wound.stack>4\nactions.san_st+=/death_coil,if=!variable.pooling_runic_power\nactions.san_st+=/wound_spender,if=(!talent.apocalypse||cooldown.apocalypse.remains>variable.apoc_timing)&rune>=4\n\n# San'layn Trinkets\n## actions.san_trinkets=do_treacherous_transmitter_task,use_off_gcd=1,if=buff.errant_manaforge_emission.up&buff.dark_transformation.up&buff.errant_manaforge_emission.remains<2||buff.cryptic_instructions.up&buff.dark_transformation.up&buff.cryptic_instructions.remains<2||buff.realigning_nexus_convergence_divergence.up&buff.dark_transformation.up&buff.realigning_nexus_convergence_divergence.remains<2\nactions.san_trinkets+=/use_item,name=treacherous_transmitter,if=(variable.adds_remain||variable.st_planning)&cooldown.dark_transformation.remains<10\nactions.san_trinkets+=/use_item,name=cursed_stone_idol,if=pet.apoc_ghoul.active||!talent.apocalypse&buff.dark_transformation.up||cooldown.apocalypse.ready\nactions.san_trinkets+=/use_item,slot=trinket1,if=(buff.latent_energy.stack>=8||!trinket.1.is.unyielding_netherprism)&variable.trinket_1_buffs&(buff.dark_transformation.up&buff.dark_transformation.remains<variable.trinket_1_duration*0.73&(variable.trinket_priority=1||trinket.2.cooldown.remains||!trinket.2.has_cooldown))||variable.trinket_1_duration>=fight_remains\nactions.san_trinkets+=/use_item,slot=trinket2,if=(buff.latent_energy.stack>=8||!trinket.2.is.unyielding_netherprism)&variable.trinket_2_buffs&(buff.dark_transformation.up&buff.dark_transformation.remains<variable.trinket_2_duration*0.73&(variable.trinket_priority=2||trinket.1.cooldown.remains||!trinket.1.has_cooldown))||variable.trinket_2_duration>=fight_remains\nactions.san_trinkets+=/use_item,slot=trinket1,if=!variable.trinket_1_buffs&(trinket.1.cast_time>0&!buff.gift_of_the_sanlayn.up||!trinket.1.cast_time>0)&(variable.damage_trinket_priority=1||trinket.2.cooldown.remains||!trinket.2.has_cooldown||!talent.summon_gargoyle&!talent.army_of_the_dead&!talent.raise_abomination||!talent.summon_gargoyle&talent.army_of_the_dead&(!talent.raise_abomination&cooldown.army_of_the_dead.remains>20||talent.raise_abomination&cooldown.raise_abomination.remains>20)||!talent.summon_gargoyle&!talent.army_of_the_dead&!talent.raise_abomination&cooldown.dark_transformation.remains>20||talent.summon_gargoyle&cooldown.summon_gargoyle.remains>20&!pet.gargoyle.active)||fight_remains<15\nactions.san_trinkets+=/use_item,slot=trinket2,if=!variable.trinket_2_buffs&(trinket.2.cast_time>0&!buff.gift_of_the_sanlayn.up||!trinket.2.cast_time>0)&(variable.damage_trinket_priority=2||trinket.1.cooldown.remains||!trinket.1.has_cooldown||!talent.summon_gargoyle&!talent.army_of_the_dead&!talent.raise_abomination||!talent.summon_gargoyle&talent.army_of_the_dead&(!talent.raise_abomination&cooldown.army_of_the_dead.remains>20||talent.raise_abomination&cooldown.raise_abomination.remains>20)||!talent.summon_gargoyle&!talent.army_of_the_dead&!talent.raise_abomination&cooldown.dark_transformation.remains>20||talent.summon_gargoyle&cooldown.summon_gargoyle.remains>20&!pet.gargoyle.active)||fight_remains<15\nactions.san_trinkets+=/use_item,slot=main_hand,if=(!variable.trinket_1_buffs&!variable.trinket_2_buffs||trinket.1.cooldown.remains>20&!variable.trinket_2_buffs||trinket.2.cooldown.remains>20&!variable.trinket_1_buffs||trinket.1.cooldown.remains>20&trinket.2.cooldown.remains>20)&(buff.dark_transformation.up&buff.dark_transformation.remains>10)&(!talent.raise_abomination&!talent.army_of_the_dead||!talent.raise_abomination&talent.army_of_the_dead&pet.army_ghoul.active||talent.raise_abomination&pet.abomination.active||(variable.trinket_1_buffs||variable.trinket_2_buffs||fight_remains<15))\n\n## Single Target Non-San'layn\nactions.st+=/soul_reaper,if=target.health.pct<=35&target.time_to_die>5\nactions.st+=/wound_spender,if=debuff.chains_of_ice_trollbane_slow.up\nactions.st+=/any_dnd,if=talent.unholy_ground&!buff.death_and_decay.up&(pet.apoc_ghoul.active||pet.abomination.active||pet.gargoyle.active)\nactions.st+=/death_coil,if=!variable.pooling_runic_power&variable.spend_rp||fight_remains<10\nactions.st+=/festering_strike,if=debuff.festering_wound.stack<4&(!variable.pop_wounds||buff.festering_scythe.up)\nactions.st+=/wound_spender,if=variable.pop_wounds\nactions.st+=/death_coil,if=!variable.pooling_runic_power\nactions.st+=/wound_spender,if=!variable.pop_wounds&debuff.festering_wound.stack>=4\n\n# Non-San'layn Trinkets\n## actions.trinkets=do_treacherous_transmitter_task,use_off_gcd=1,if=buff.errant_manaforge_emission.up&(pet.apoc_ghoul.active||!talent.apocalypse&buff.dark_transformation.up)||buff.cryptic_instructions.up&(pet.apoc_ghoul.active||!talent.apocalypse&buff.dark_transformation.up)||buff.realigning_nexus_convergence_divergence.up&(pet.apoc_ghoul.active||!talent.apocalypse&buff.dark_transformation.up)\nactions.trinkets+=/use_item,name=treacherous_transmitter,if=(variable.adds_remain||variable.st_planning)&cooldown.dark_transformation.remains<10\nactions.trinkets+=/use_item,slot=trinket1,if=(buff.latent_energy.stack>=8||!trinket.1.is.unyielding_netherprism)&variable.trinket_1_buffs&(variable.trinket_priority=1||!trinket.2.has_cooldown||trinket.2.cooldown.remains>20)&(!talent.apocalypse&buff.dark_transformation.up||pet.apoc_ghoul.active&pet.apoc_ghoul.remains<=variable.trinket_1_duration&pet.apoc_ghoul.remains>5)&(talent.army_of_the_dead&!talent.raise_abomination&pet.army_ghoul.active&pet.army_ghoul.remains>10||talent.raise_abomination&pet.abomination.active&pet.abomination.remains>10||talent.legion_of_souls||!talent.raise_abomination&!talent.apocalypse&buff.dark_transformation.up||variable.trinket_2_buffs&trinket.2.cooldown.remains)||fight_remains<=variable.trinket_1_duration\nactions.trinkets+=/use_item,slot=trinket2,if=(buff.latent_energy.stack>=8||!trinket.2.is.unyielding_netherprism)&variable.trinket_2_buffs&(variable.trinket_priority=2||!trinket.1.has_cooldown||trinket.1.cooldown.remains>20)&(!talent.apocalypse&buff.dark_transformation.up||pet.apoc_ghoul.active&pet.apoc_ghoul.remains<=variable.trinket_2_duration&pet.apoc_ghoul.remains>5)&(talent.army_of_the_dead&!talent.raise_abomination&pet.army_ghoul.active&pet.army_ghoul.remains>10||talent.raise_abomination&pet.abomination.active&pet.abomination.remains>10||talent.legion_of_souls||!talent.raise_abomination&!talent.apocalypse&buff.dark_transformation.up||variable.trinket_1_buffs&trinket.1.cooldown.remains)||fight_remains<=variable.trinket_2_duration\nactions.trinkets+=/use_item,slot=trinket1,if=!variable.trinket_1_buffs&(variable.damage_trinket_priority=1||trinket.2.cooldown.remains||!trinket.2.has_cooldown||!talent.summon_gargoyle&!talent.army_of_the_dead&!talent.raise_abomination||!talent.summon_gargoyle&talent.army_of_the_dead&(!talent.raise_abomination&cooldown.army_of_the_dead.remains>20||talent.raise_abomination&cooldown.raise_abomination.remains>20)||!talent.summon_gargoyle&!talent.army_of_the_dead&!talent.raise_abomination&cooldown.dark_transformation.remains>20||talent.summon_gargoyle&cooldown.summon_gargoyle.remains>20&!pet.gargoyle.active)||fight_remains<15\nactions.trinkets+=/use_item,slot=trinket2,if=!variable.trinket_2_buffs&(variable.damage_trinket_priority=2||trinket.1.cooldown.remains||!trinket.1.has_cooldown||!talent.summon_gargoyle&!talent.army_of_the_dead&!talent.raise_abomination||!talent.summon_gargoyle&talent.army_of_the_dead&(!talent.raise_abomination&cooldown.army_of_the_dead.remains>20||talent.raise_abomination&cooldown.raise_abomination.remains>20)||!talent.summon_gargoyle&!talent.army_of_the_dead&!talent.raise_abomination&cooldown.dark_transformation.remains>20||talent.summon_gargoyle&cooldown.summon_gargoyle.remains>20&!pet.gargoyle.active)||fight_remains<15\nactions.trinkets+=/use_item,slot=main_hand,if=(!variable.trinket_1_buffs&!variable.trinket_2_buffs||trinket.1.cooldown.remains&!variable.trinket_2_buffs||trinket.2.cooldown.remains&!variable.trinket_1_buffs||trinket.1.cooldown.remains&trinket.2.cooldown.remains)&(pet.apoc_ghoul.active&pet.apoc_ghoul.remains<=18||!talent.apocalypse&buff.dark_transformation.up)&((trinket.1.cooldown.duration=90||trinket.2.cooldown.duration=90)||!talent.raise_abomination&!talent.army_of_the_dead||!talent.raise_abomination&talent.army_of_the_dead&pet.army_ghoul.active||talent.raise_abomination&pet.abomination.active)",
},
["Blood"] = {
["source"] = "https://github.com/simulationcraft/simc/blob/thewarwithin/ActionPriorityLists/default/deathknight_blood.simc",
["builtIn"] = true,
["date"] = 20250826,
["spec"] = 250,
["desc"] = "-- The War Within Season 3\n2025-08-26: APL Sync - 7877e91\n2025-08-06: Initial APL\n\n-- The War Within Season 2\n2025-04-29: Resync with SimC",
["lists"] = {
["sanlayn"] = {
{
["enabled"] = true,
["criteria"] = "( ! buff.bone_shield.up || buff.bone_shield.remains < 1.5 || buff.bone_shield.stack <= 1 ) & active_enemies >= 2",
["action"] = "blood_boil",
},
{
["enabled"] = true,
["criteria"] = "! buff.bone_shield.up || buff.bone_shield.remains < 1.5 || buff.bone_shield.stack <= 1",
["action"] = "deaths_caress",
},
{
["enabled"] = true,
["criteria"] = "dot.blood_plague.remains < 3",
["action"] = "blood_boil",
},
{
["enabled"] = true,
["criteria"] = "( buff.essence_of_the_blood_queen.remains < 1.5 & buff.essence_of_the_blood_queen.remains & buff.vampiric_strike.remains )",
["action"] = "heart_strike",
},
{
["enabled"] = true,
["criteria"] = "buff.bone_shield.stack >= 5 & ( buff.death_and_decay.remains || active_enemies <= 3 )",
["action"] = "bonestorm",
},
{
["enabled"] = true,
["criteria"] = "runic_power.deficit < 20",
["action"] = "death_strike",
},
{
["enabled"] = true,
["criteria"] = "buff.bone_shield.stack < 6 & ! dot.bonestorm.ticking",
["action"] = "marrowrend",
},
{
["enabled"] = true,
["criteria"] = "buff.infliction_of_sorrow.up & buff.death_and_decay.up",
["action"] = "consumption",
},
{
["enabled"] = true,
["criteria"] = "( buff.infliction_of_sorrow.up || buff.vampiric_strike.up ) & buff.death_and_decay.up",
["action"] = "heart_strike",
},
{
["enabled"] = true,
["criteria"] = "active_enemies <= 2 & target.time_to_pct_35 < 5 & target.time_to_die > ( dot.soul_reaper.remains + 5 )",
["action"] = "soul_reaper",
},
{
["enabled"] = true,
["criteria"] = "buff.bone_shield.stack < 6 & ! dot.bonestorm.ticking & active_enemies >= 2",
["action"] = "blood_boil",
},
{
["enabled"] = true,
["criteria"] = "buff.bone_shield.stack < 6 & ! dot.bonestorm.ticking",
["action"] = "deaths_caress",
},
{
["enabled"] = true,
["criteria"] = "buff.bone_shield.stack >= 6 & ( buff.death_and_decay.remains || active_enemies <= 3 ) & cooldown.dancing_rune_weapon.remains >= 25",
["action"] = "tombstone",
},
{
["enabled"] = true,
["criteria"] = "( active_enemies <= 3 & buff.crimson_scourge.remains ) || ( active_enemies > 3 & ! buff.death_and_decay.remains )",
["action"] = "any_dnd",
},
{
["enabled"] = true,
["criteria"] = "active_enemies <= 2 & buff.coagulopathy.remains > 3",
["action"] = "blooddrinker",
},
{
["enabled"] = true,
["criteria"] = "buff.vampiric_strike.up",
["action"] = "heart_strike",
},
{
["action"] = "death_strike",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "rune >= 2",
["action"] = "heart_strike",
},
{
["action"] = "consumption",
["enabled"] = true,
},
{
["action"] = "blood_boil",
["enabled"] = true,
},
{
["action"] = "heart_strike",
["enabled"] = true,
},
},
["default"] = {
{
["action"] = "mind_freeze",
["enabled"] = true,
},
{
["enabled"] = true,
["action"] = "tome_of_lights_devotion",
["use_off_gcd"] = 1,
["criteria"] = "buff.inner_resilience.up",
["name"] = "tome_of_lights_devotion",
},
{
["enabled"] = true,
["action"] = "unyielding_netherprism",
["use_off_gcd"] = 1,
["criteria"] = "cooldown.dancing_rune_weapon.remains < 1 || boss & fight_remains <= 20",
["name"] = "unyielding_netherprism",
},
{
["action"] = "use_items",
["enabled"] = true,
},
{
["enabled"] = true,
["use_off_gcd"] = 1,
["name"] = "bestinslots",
["action"] = "bestinslots",
},
{
["enabled"] = true,
["criteria"] = "buff.dancing_rune_weapon.up",
["action"] = "blood_fury",
},
{
["enabled"] = true,
["criteria"] = "buff.dancing_rune_weapon.up",
["action"] = "berserking",
},
{
["enabled"] = true,
["criteria"] = "buff.dancing_rune_weapon.up",
["action"] = "ancestral_call",
},
{
["enabled"] = true,
["criteria"] = "buff.dancing_rune_weapon.up",
["action"] = "fireblood",
},
{
["enabled"] = true,
["criteria"] = "buff.dancing_rune_weapon.up",
["action"] = "potion",
},
{
["enabled"] = true,
["criteria"] = "tanking & incoming_damage_5s >= vb_damage & ! ( buff.dancing_rune_weapon.up || buff.icebound_fortitude.up )",
["action"] = "vampiric_blood",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "15 + ( 10 * talent.relish_in_blood.enabled ) + ( 3 * talent.runic_attenuation.enabled ) + ( spell_targets.heart_strike * talent.heartbreaker.enabled * 2 )",
["var_name"] = "rp_deficit_threshold",
},
{
["use_off_gcd"] = 1,
["action"] = "raise_dead",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "( rune <= 2 & rune.time_to_3 > gcd.max & charges_fractional >= 1.8 )",
["action"] = "blood_tap",
},
{
["enabled"] = true,
["criteria"] = "( rune <= 1 & rune.time_to_3 > gcd.max )",
["action"] = "blood_tap",
},
{
["enabled"] = true,
["criteria"] = "buff.bone_shield.remains < gcd.max * 2",
["action"] = "deaths_caress",
},
{
["enabled"] = true,
["criteria"] = "buff.coagulopathy.up & buff.coagulopathy.remains <= gcd.max",
["action"] = "death_strike",
},
{
["enabled"] = true,
["criteria"] = "! buff.death_and_decay.up",
["action"] = "any_dnd",
},
{
["enabled"] = true,
["criteria"] = "dot.blood_plague.remains < gcd.max * 2",
["action"] = "blood_boil",
},
{
["action"] = "dancing_rune_weapon",
["enabled"] = true,
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "hero_tree.deathbringer",
["list_name"] = "deathbringer",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "hero_tree.sanlayn & buff.dancing_rune_weapon.up",
["list_name"] = "san_drw",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "hero_tree.sanlayn",
["list_name"] = "sanlayn",
},
},
["precombat"] = {
{
["action"] = "deaths_caress",
["enabled"] = true,
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "7",
["var_name"] = "bone_shield_refresh_value",
},
},
["deathbringer"] = {
{
["enabled"] = true,
["criteria"] = "rune > 4",
["action"] = "rune_tap",
},
{
["enabled"] = true,
["criteria"] = "buff.bone_shield.stack >= 5 & buff.death_and_decay.remains",
["action"] = "bonestorm",
},
{
["enabled"] = true,
["criteria"] = "runic_power.deficit < variable.rp_deficit_threshold || ( buff.dancing_rune_weapon.up & runic_power.deficit < ( variable.rp_deficit_threshold + 6 ) )",
["action"] = "death_strike",
},
{
["enabled"] = true,
["criteria"] = "active_enemies <= 2 & buff.reaper_of_souls.up & target.time_to_die > ( dot.soul_reaper.remains + 5 )",
["action"] = "soul_reaper",
},
{
["enabled"] = true,
["criteria"] = "active_enemies <= 2 & target.time_to_pct_35 < 5 & target.time_to_die > ( dot.soul_reaper.remains + 5 )",
["action"] = "soul_reaper",
},
{
["action"] = "reapers_mark",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "buff.dancing_rune_weapon.up & ! drw.bp_ticking",
["action"] = "blood_boil",
},
{
["enabled"] = true,
["criteria"] = "! buff.death_and_decay.up",
["action"] = "death_and_decay",
},
{
["enabled"] = true,
["criteria"] = "buff.exterminate.up || ( buff.bone_shield.stack < 5 & ! dot.bonestorm.ticking )",
["action"] = "marrowrend",
},
{
["action"] = "death_strike",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "buff.bone_shield.stack >= 8 & buff.death_and_decay.remains & cooldown.dancing_rune_weapon.remains >= 25",
["action"] = "tombstone",
},
{
["enabled"] = true,
["criteria"] = "! buff.dancing_rune_weapon.up & active_enemies <= 2 & buff.coagulopathy.remains > 3",
["action"] = "blooddrinker",
},
{
["action"] = "consumption",
["enabled"] = true,
},
{
["action"] = "blood_boil",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "buff.coagulopathy.stack < 5",
["action"] = "heart_strike",
},
{
["action"] = "heart_strike",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "buff.reaper_of_souls.up",
["action"] = "soul_reaper",
},
{
["enabled"] = true,
["criteria"] = "runic_power.deficit > 20",
["action"] = "arcane_torrent",
},
},
["san_drw"] = {
{
["enabled"] = true,
["criteria"] = "buff.essence_of_the_blood_queen.remains < 1.5 & buff.essence_of_the_blood_queen.remains",
["action"] = "heart_strike",
},
{
["enabled"] = true,
["criteria"] = "buff.bone_shield.stack >= 5",
["action"] = "bonestorm",
},
{
["enabled"] = true,
["criteria"] = "runic_power.deficit < 36",
["action"] = "death_strike",
},
{
["enabled"] = true,
["criteria"] = "! drw.bp_ticking",
["action"] = "blood_boil",
},
{
["enabled"] = true,
["criteria"] = "( active_enemies <= 3 & buff.crimson_scourge.remains ) || ( active_enemies > 3 & ! buff.death_and_decay.remains )",
["action"] = "any_dnd",
},
{
["action"] = "heart_strike",
["enabled"] = true,
},
{
["action"] = "death_strike",
["enabled"] = true,
},
{
["action"] = "consumption",
["enabled"] = true,
},
{
["action"] = "blood_boil",
["enabled"] = true,
},
},
},
["version"] = 20250826,
["warnings"] = "Imported 5 action lists.\n",
["profile"] = "## https://github.com/simulationcraft/simc/blob/thewarwithin/ActionPriorityLists/default/deathknight_blood.simc\n## SimulationCraft Commit Sync: 7877e91\n## Date: 2025-08-26\n\n\nactions.precombat+=/deaths_caress\nactions.precombat+=/variable,name=bone_shield_refresh_value,value=7\n\nactions+=/mind_freeze\nactions+=/use_item,name=tome_of_lights_devotion,if=buff.inner_resilience.up,use_off_gcd=1\nactions+=/use_item,name=unyielding_netherprism,if=cooldown.dancing_rune_weapon.remains<1||boss&fight_remains<=20,use_off_gcd=1\nactions+=/use_items\nactions+=/use_item,name=bestinslots,use_off_gcd=1\nactions+=/blood_fury,if=buff.dancing_rune_weapon.up\nactions+=/berserking,if=buff.dancing_rune_weapon.up\nactions+=/ancestral_call,if=buff.dancing_rune_weapon.up\nactions+=/fireblood,if=buff.dancing_rune_weapon.up\nactions+=/potion,if=buff.dancing_rune_weapon.up\nactions+=/vampiric_blood,if=tanking&incoming_damage_5s>=vb_damage&!(buff.dancing_rune_weapon.up||buff.icebound_fortitude.up)\nactions+=/variable,name=rp_deficit_threshold,value=15+(10*talent.relish_in_blood.enabled)+(3*talent.runic_attenuation.enabled)+(spell_targets.heart_strike*talent.heartbreaker.enabled*2)\nactions+=/raise_dead,use_off_gcd=1\nactions+=/blood_tap,if=(rune<=2&rune.time_to_3>gcd&charges_fractional>=1.8)\nactions+=/blood_tap,if=(rune<=1&rune.time_to_3>gcd)\nactions+=/deaths_caress,if=buff.bone_shield.remains<gcd.max*2\nactions+=/death_strike,if=buff.coagulopathy.up&buff.coagulopathy.remains<=gcd\nactions+=/any_dnd,if=!buff.death_and_decay.up\nactions+=/blood_boil,if=dot.blood_plague.remains<gcd.max*2\nactions+=/dancing_rune_weapon\nactions+=/call_action_list,name=deathbringer,strict=1,if=hero_tree.deathbringer\nactions+=/call_action_list,name=san_drw,strict=1,if=hero_tree.sanlayn&buff.dancing_rune_weapon.up\nactions+=/call_action_list,name=sanlayn,strict=1,if=hero_tree.sanlayn\n\nactions.deathbringer+=/rune_tap,if=rune>4\nactions.deathbringer+=/bonestorm,if=buff.bone_shield.stack>=5&buff.death_and_decay.remains\nactions.deathbringer+=/death_strike,if=runic_power.deficit<variable.rp_deficit_threshold||(buff.dancing_rune_weapon.up&runic_power.deficit<(variable.rp_deficit_threshold+6))\nactions.deathbringer+=/soul_reaper,if=active_enemies<=2&buff.reaper_of_souls.up&target.time_to_die>(dot.soul_reaper.remains+5)\nactions.deathbringer+=/soul_reaper,if=active_enemies<=2&target.time_to_pct_35<5&target.time_to_die>(dot.soul_reaper.remains+5)\nactions.deathbringer+=/reapers_mark\nactions.deathbringer+=/blood_boil,if=buff.dancing_rune_weapon.up&!drw.bp_ticking\nactions.deathbringer+=/death_and_decay,if=!buff.death_and_decay.up\nactions.deathbringer+=/marrowrend,if=buff.exterminate.up||(buff.bone_shield.stack<5&!dot.bonestorm.ticking)\nactions.deathbringer+=/death_strike\nactions.deathbringer+=/tombstone,if=buff.bone_shield.stack>=8&buff.death_and_decay.remains&cooldown.dancing_rune_weapon.remains>=25\nactions.deathbringer+=/blooddrinker,if=!buff.dancing_rune_weapon.up&active_enemies<=2&buff.coagulopathy.remains>3\nactions.deathbringer+=/consumption\nactions.deathbringer+=/blood_boil\nactions.deathbringer+=/heart_strike,if=buff.coagulopathy.stack<5\nactions.deathbringer+=/heart_strike\nactions.deathbringer+=/soul_reaper,if=buff.reaper_of_souls.up\nactions.deathbringer+=/arcane_torrent,if=runic_power.deficit>20\n\nactions.san_drw+=/heart_strike,if=buff.essence_of_the_blood_queen.remains<1.5&buff.essence_of_the_blood_queen.remains\nactions.san_drw+=/bonestorm,if=buff.bone_shield.stack>=5\nactions.san_drw+=/death_strike,if=runic_power.deficit<36\nactions.san_drw+=/blood_boil,if=!drw.bp_ticking\nactions.san_drw+=/any_dnd,if=(active_enemies<=3&buff.crimson_scourge.remains)||(active_enemies>3&!buff.death_and_decay.remains)\nactions.san_drw+=/heart_strike\nactions.san_drw+=/death_strike\nactions.san_drw+=/consumption\nactions.san_drw+=/blood_boil\n\nactions.sanlayn+=/blood_boil,if=(!buff.bone_shield.up||buff.bone_shield.remains<1.5||buff.bone_shield.stack<=1)&active_enemies>=2\nactions.sanlayn+=/deaths_caress,if=!buff.bone_shield.up||buff.bone_shield.remains<1.5||buff.bone_shield.stack<=1\nactions.sanlayn+=/blood_boil,if=dot.blood_plague.remains<3\nactions.sanlayn+=/heart_strike,if=(buff.essence_of_the_blood_queen.remains<1.5&buff.essence_of_the_blood_queen.remains&buff.vampiric_strike.remains)\nactions.sanlayn+=/bonestorm,if=buff.bone_shield.stack>=5&(buff.death_and_decay.remains||active_enemies<=3)\nactions.sanlayn+=/death_strike,if=runic_power.deficit<20\nactions.sanlayn+=/marrowrend,if=buff.bone_shield.stack<6&!dot.bonestorm.ticking\nactions.sanlayn+=/consumption,if=buff.infliction_of_sorrow.up&buff.death_and_decay.up\nactions.sanlayn+=/heart_strike,if=(buff.infliction_of_sorrow.up||buff.vampiric_strike.up)&buff.death_and_decay.up\nactions.sanlayn+=/soul_reaper,if=active_enemies<=2&target.time_to_pct_35<5&target.time_to_die>(dot.soul_reaper.remains+5)\nactions.sanlayn+=/blood_boil,if=buff.bone_shield.stack<6&!dot.bonestorm.ticking&active_enemies>=2\nactions.sanlayn+=/deaths_caress,if=buff.bone_shield.stack<6&!dot.bonestorm.ticking\nactions.sanlayn+=/tombstone,if=buff.bone_shield.stack>=6&(buff.death_and_decay.remains||active_enemies<=3)&cooldown.dancing_rune_weapon.remains>=25\nactions.sanlayn+=/any_dnd,if=(active_enemies<=3&buff.crimson_scourge.remains)||(active_enemies>3&!buff.death_and_decay.remains)\nactions.sanlayn+=/blooddrinker,if=active_enemies<=2&buff.coagulopathy.remains>3\nactions.sanlayn+=/heart_strike,if=buff.vampiric_strike.up\nactions.sanlayn+=/death_strike\nactions.sanlayn+=/heart_strike,if=rune>=2\nactions.sanlayn+=/consumption\nactions.sanlayn+=/blood_boil\nactions.sanlayn+=/heart_strike",
["author"] = "SimC",
},
["Mistweaver"] = {
["builtIn"] = true,
["date"] = 20250329,
["spec"] = 270,
["desc"] = "Healer priorities are DPS-oriented only\n\n2024-11-09: Make RWK consistently replace RSK\n\n2024-11-06: Update Jadefire Stomp related talents\n\n2024-10-23: 11.0.5\n\n2024-09-28: Update for Teachings of the Monastery\n\n2024-07-30: The War Within",
["lists"] = {
["default"] = {
{
["action"] = "spear_hand_strike",
["enabled"] = true,
},
{
["action"] = "use_items",
["enabled"] = true,
},
{
["action"] = "blood_fury",
["enabled"] = true,
},
{
["action"] = "berserking",
["enabled"] = true,
},
{
["action"] = "lights_judgment",
["enabled"] = true,
},
{
["action"] = "fireblood",
["enabled"] = true,
},
{
["action"] = "ancestral_call",
["enabled"] = true,
},
{
["action"] = "bag_of_tricks",
["enabled"] = true,
},
{
["action"] = "potion",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "time_to_max_charges <= gcd.max",
["action"] = "renewing_mist",
},
{
["enabled"] = true,
["criteria"] = "variable.tea_up",
["action"] = "call_action_list",
["list_name"] = "focus_tea",
},
{
["enabled"] = true,
["action"] = "run_action_list",
["strict"] = 1,
["criteria"] = "pet.chiji.up",
["list_name"] = "crane",
},
{
["enabled"] = true,
["criteria"] = "! settings.save_faeline || talent.awakened_jadefire.enabled & buff.awakened_jadefire.down || talent.jadefire_teachings.enabled & buff.jadefire_teachings.down",
["action"] = "jadefire_stomp",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "active_enemies >= 3",
["list_name"] = "aoe",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "active_enemies < 3",
["list_name"] = "st",
},
},
["precombat"] = {
{
["action"] = "potion",
["enabled"] = true,
},
{
["action"] = "chi_burst",
["enabled"] = true,
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "buff.tea_of_plenty_rsk.up || buff.tea_of_plenty_em.up || buff.tea_of_plenty_eh.up || buff.tea_of_serenity_em.up || buff.tea_of_serenity_rm.up || buff.tea_of_serenity_v.up || buff.thunder_focus_tea.up",
["var_name"] = "tea_up",
},
},
["aoe"] = {
{
["action"] = "thunder_focus_tea",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "buff.jade_empowerment.up & buff.jadefire_teachings.up",
["action"] = "crackling_jade_lightning",
},
{
["enabled"] = true,
["criteria"] = "buff.zen_pulse.up",
["action"] = "vivify",
},
{
["enabled"] = true,
["criteria"] = "settings.aoe_rsk",
["action"] = "rising_sun_kick",
},
{
["enabled"] = true,
["criteria"] = "settings.aoe_rsk",
["action"] = "rushing_wind_kick",
},
{
["enabled"] = true,
["criteria"] = "( talent.celestial_conduit.enabled & ! talent.xuens_guidance.enabled ) || active_enemies >= 4",
["action"] = "spinning_crane_kick",
},
{
["enabled"] = true,
["criteria"] = "talent.awakened_jadefire.enabled & buff.jadefire_stomp.up & buff.teachings_of_the_monastery.stack < 4 || buff.teachings_of_the_monastery.stack < 1",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["criteria"] = "( ! talent.rushing_wind_kick.enabled & cooldown.rising_sun_kick.remains > 2 * gcd.max || cooldown.rushing_wind_kick.remains > 2 * gcd.max ) & ( buff.teachings_of_the_monastery.stack > 3 )",
["action"] = "blackout_kick",
},
{
["action"] = "chi_burst",
["enabled"] = true,
},
{
["action"] = "spinning_crane_kick",
["enabled"] = true,
},
},
["crane"] = {
{
["enabled"] = true,
["criteria"] = "talent.ancient_teachings.enabled & buff.ancient_teachings.remains < gcd.max",
["action"] = "thunder_focus_tea",
},
{
["enabled"] = true,
["criteria"] = "talent.ancient_teachings.enabled & buff.ancient_teachings.remains < gcd.max",
["action"] = "essence_font",
},
{
["enabled"] = true,
["criteria"] = "talent.ancient_teachings.enabled & buff.ancient_teachings.remains < gcd.max",
["action"] = "jadefire_stomp",
},
{
["enabled"] = true,
["criteria"] = "buff.invoke_chiji.stack > 1",
["action"] = "enveloping_mist",
},
{
["action"] = "rising_sun_kick",
["enabled"] = true,
},
{
["action"] = "rushing_wind_kick",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "( ( ! talent.awakened_jadefire.enabled || buff.jadefire_stomp.down ) & buff.teachings_of_the_monastery.up || buff.teachings_of_the_monastery.stack > 3 ) & ( ! talent.rushing_wind_kick.enabled & cooldown.rising_sun_kick.remains > 2 * gcd.max || cooldown.rushing_wind_kick.remains > 2 * gcd.max )",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "active_enemies > 3 || active_enemies > 1 & ! talent.ancient_concordance.enabled & ! talent.awakened_jadefire.enabled",
["action"] = "spinning_crane_kick",
},
{
["action"] = "blackout_kick",
["enabled"] = true,
},
{
["action"] = "tiger_palm",
["enabled"] = true,
},
},
["st"] = {
{
["action"] = "thunder_focus_tea",
["enabled"] = true,
},
{
["action"] = "rising_sun_kick",
["enabled"] = true,
},
{
["action"] = "rushing_wind_kick",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "talent.awakened_jadefire.enabled & buff.jadefire_stomp.up & buff.teachings_of_the_monastery.stack < 4 || buff.teachings_of_the_monastery.stack < 1",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["criteria"] = "( ( ! talent.awakened_jadefire.enabled || buff.jadefire_stomp.down ) & buff.teachings_of_the_monastery.up || buff.teachings_of_the_monastery.stack > 3 ) & ( ! talent.rushing_wind_kick.enabled & cooldown.rising_sun_kick.remains > 2 * gcd.max || cooldown.rushing_wind_kick.remains > 2 * gcd.max )",
["action"] = "blackout_kick",
},
{
["enabled"] = true,
["criteria"] = "settings.single_zen_pulse & buff.zen_pulse.up",
["action"] = "vivify",
},
{
["action"] = "chi_burst",
["enabled"] = true,
},
{
["action"] = "tiger_palm",
["enabled"] = true,
},
},
["focus_tea"] = {
{
["enabled"] = true,
["criteria"] = "raid || buff.tea_of_serenity_rm.up",
["action"] = "renewing_mist",
},
{
["action"] = "rising_sun_kick",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "buff.tea_of_plenty_eh.up",
["action"] = "expel_harm",
},
{
["enabled"] = true,
["criteria"] = "buff.tea_of_serenity_v.up",
["action"] = "vivify",
},
{
["enabled"] = true,
["criteria"] = "buff.tea_of_serenity_em.up || buff.tea_of_plenty_em.up",
["action"] = "enveloping_mist",
},
},
},
["version"] = 20250329,
["warnings"] = "The import for 'default' required some automated changes.\nLine 13: Converted 'talent.awakened_jadefire' to 'talent.awakened_jadefire.enabled' (1x).\nLine 13: Converted 'talent.jadefire_teachings' to 'talent.jadefire_teachings.enabled' (1x).\n\nThe import for 'aoe' required some automated changes.\nLine 6: Converted 'talent.celestial_conduit' to 'talent.celestial_conduit.enabled' (1x).\nLine 6: Converted 'talent.xuens_guidance' to 'talent.xuens_guidance.enabled' (1x).\nLine 8: Converted 'talent.rushing_wind_kick' to 'talent.rushing_wind_kick.enabled' (1x).\n\nThe import for 'crane' required some automated changes.\nLine 1: Converted 'talent.ancient_teachings' to 'talent.ancient_teachings.enabled' (1x).\nLine 2: Unsupported action 'essence_font'.\nLine 2: Converted 'talent.ancient_teachings' to 'talent.ancient_teachings.enabled' (1x).\nLine 3: Converted 'talent.ancient_teachings' to 'talent.ancient_teachings.enabled' (1x).\nLine 7: Converted 'talent.awakened_jadefire' to 'talent.awakened_jadefire.enabled' (1x).\nLine 7: Converted 'talent.rushing_wind_kick' to 'talent.rushing_wind_kick.enabled' (1x).\nLine 8: Converted 'talent.ancient_concordance' to 'talent.ancient_concordance.enabled' (1x).\nLine 8: Converted 'talent.awakened_jadefire' to 'talent.awakened_jadefire.enabled' (1x).\n\nThe import for 'st' required some automated changes.\nLine 5: Converted 'talent.awakened_jadefire' to 'talent.awakened_jadefire.enabled' (1x).\nLine 5: Converted 'talent.rushing_wind_kick' to 'talent.rushing_wind_kick.enabled' (1x).\n\nImported 6 action lists.\n",
["author"] = "Aikanaka",
["profile"] = "actions.precombat+=/potion\nactions.precombat+=/chi_burst\nactions.precombat+=/variable,name=tea_up,value=buff.tea_of_plenty_rsk.up||buff.tea_of_plenty_em.up||buff.tea_of_plenty_eh.up||buff.tea_of_serenity_em.up||buff.tea_of_serenity_rm.up||buff.tea_of_serenity_v.up||buff.thunder_focus_tea.up\n\nactions+=/spear_hand_strike\nactions+=/use_items\nactions+=/blood_fury\nactions+=/berserking\nactions+=/lights_judgment\nactions+=/fireblood\nactions+=/ancestral_call\nactions+=/bag_of_tricks\nactions+=/potion\nactions+=/renewing_mist,if=time_to_max_charges<=gcd.max\nactions+=/call_action_list,name=focus_tea,if=variable.tea_up\nactions+=/run_action_list,name=crane,strict=1,if=pet.chiji.up\nactions+=/jadefire_stomp,if=!settings.save_faeline||talent.awakened_jadefire&buff.awakened_jadefire.down||talent.jadefire_teachings&buff.jadefire_teachings.down\nactions+=/call_action_list,name=aoe,strict=1,if=active_enemies>=3\nactions+=/call_action_list,name=st,strict=1,if=active_enemies<3\n\n\nactions.focus_tea+=/renewing_mist,if=raid||buff.tea_of_serenity_rm.up\nactions.focus_tea+=/rising_sun_kick\n## only use these 3 if their rng buffs are up, don't spend real focus tea\nactions.focus_tea+=/expel_harm,if=buff.tea_of_plenty_eh.up\nactions.focus_tea+=/vivify,if=buff.tea_of_serenity_v.up\nactions.focus_tea+=/enveloping_mist,if=buff.tea_of_serenity_em.up||buff.tea_of_plenty_em.up\n\nactions.st+=/thunder_focus_tea\nactions.st+=/rising_sun_kick\nactions.st+=/rushing_wind_kick\nactions.st+=/tiger_palm,if=talent.awakened_jadefire.enabled&buff.jadefire_stomp.up&buff.teachings_of_the_monastery.stack<4||buff.teachings_of_the_monastery.stack<1\nactions.st+=/blackout_kick,if=((!talent.awakened_jadefire||buff.jadefire_stomp.down)&buff.teachings_of_the_monastery.up||buff.teachings_of_the_monastery.stack>3)&(!talent.rushing_wind_kick&cooldown.rising_sun_kick.remains>2*gcd.max||cooldown.rushing_wind_kick.remains>2*gcd.max)\nactions.st+=/vivify,if=settings.single_zen_pulse&buff.zen_pulse.up\nactions.st+=/chi_burst\nactions.st+=/tiger_palm\n\nactions.aoe+=/thunder_focus_tea\nactions.aoe+=/crackling_jade_lightning,if=buff.jade_empowerment.up&buff.jadefire_teachings.up\nactions.aoe+=/vivify,if=buff.zen_pulse.up\nactions.aoe+=/rising_sun_kick,if=settings.aoe_rsk\nactions.aoe+=/rushing_wind_kick,if=settings.aoe_rsk\nactions.aoe+=/spinning_crane_kick,if=(talent.celestial_conduit&!talent.xuens_guidance)||active_enemies>=4\nactions.aoe+=/tiger_palm,if=talent.awakened_jadefire.enabled&buff.jadefire_stomp.up&buff.teachings_of_the_monastery.stack<4||buff.teachings_of_the_monastery.stack<1\nactions.aoe+=/blackout_kick,if=(!talent.rushing_wind_kick&cooldown.rising_sun_kick.remains>2*gcd.max||cooldown.rushing_wind_kick.remains>2*gcd.max)&(buff.teachings_of_the_monastery.stack>3)\nactions.aoe+=/chi_burst\nactions.aoe+=/spinning_crane_kick\n\n\nactions.crane+=/thunder_focus_tea,if=talent.ancient_teachings&buff.ancient_teachings.remains<gcd.max\nactions.crane+=/essence_font,if=talent.ancient_teachings&buff.ancient_teachings.remains<gcd.max\nactions.crane+=/jadefire_stomp,if=talent.ancient_teachings&buff.ancient_teachings.remains<gcd.max\nactions.crane+=/enveloping_mist,if=buff.invoke_chiji.stack>1\nactions.crane+=/rising_sun_kick\nactions.crane+=/rushing_wind_kick\nactions.crane+=/blackout_kick,if=((!talent.awakened_jadefire||buff.jadefire_stomp.down)&buff.teachings_of_the_monastery.up||buff.teachings_of_the_monastery.stack>3)&(!talent.rushing_wind_kick&cooldown.rising_sun_kick.remains>2*gcd.max||cooldown.rushing_wind_kick.remains>2*gcd.max)\nactions.crane+=/spinning_crane_kick,if=active_enemies>3||active_enemies>1&!talent.ancient_concordance&!talent.awakened_jadefire\nactions.crane+=/blackout_kick\nactions.crane+=/tiger_palm",
},
["Frost DK"] = {
["source"] = "https://github.com/simulationcraft/simc/blob/thewarwithin/ActionPriorityLists/default/deathknight_frost.simc",
["builtIn"] = true,
["date"] = 20250826,
["author"] = "SimC",
["desc"] = "-- The War Within Season 3\n2025-08-26: APL Sync - 8aa4db9\n2025-08-17: Re-revise target swaps\n2025-08-12: APL Sync - 22b0c5d\n2025-08-06: Initial APL",
["lists"] = {
["single_target"] = {
{
["enabled"] = true,
["action"] = "obliterate",
["description"] = "Single Target Rotation",
["criteria"] = "buff.killing_machine.stack = 2 || ( buff.killing_machine.up & rune >= 3 )",
},
{
["enabled"] = true,
["criteria"] = "buff.rime.up & talent.frostbound_will.enabled",
["action"] = "howling_blast",
},
{
["enabled"] = true,
["criteria"] = "debuff.razorice.stack = 5 & talent.shattering_blade.enabled & ! variable.rp_pooling",
["action"] = "frost_strike",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "buff.rime.up",
["action"] = "howling_blast",
},
{
["enabled"] = true,
["criteria"] = "! talent.shattering_blade.enabled & ! variable.rp_pooling & runic_power.deficit < 30",
["action"] = "frost_strike",
},
{
["enabled"] = true,
["criteria"] = "buff.killing_machine.up & ! variable.rune_pooling",
["action"] = "obliterate",
},
{
["enabled"] = true,
["criteria"] = "! variable.rp_pooling",
["action"] = "frost_strike",
},
{
["enabled"] = true,
["criteria"] = "! variable.rune_pooling & ! ( talent.obliteration.enabled & buff.pillar_of_frost.up )",
["action"] = "obliterate",
},
{
["enabled"] = true,
["criteria"] = "! buff.killing_machine.up & ( talent.obliteration.enabled & buff.pillar_of_frost.up )",
["action"] = "howling_blast",
},
},
["aoe"] = {
{
["enabled"] = true,
["action"] = "frostscythe",
["description"] = "Aoe Rotation",
["criteria"] = "( buff.killing_machine.stack = 2 || ( buff.killing_machine.up & rune >= 3 ) ) & active_enemies >= variable.frostscythe_prio",
},
{
["enabled"] = true,
["criteria"] = "buff.killing_machine.stack = 2 || ( buff.killing_machine.up & rune >= 3 )",
["action"] = "obliterate",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "buff.rime.up & talent.frostbound_will.enabled || ! dot.frost_fever.ticking",
["action"] = "howling_blast",
},
{
["enabled"] = true,
["criteria"] = "debuff.razorice.stack = 5 & buff.frostbane.up",
["action"] = "frost_strike",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "debuff.razorice.stack = 5 & talent.shattering_blade.enabled & active_enemies < 5 & ! variable.rp_pooling & ! talent.frostbane.enabled",
["action"] = "frost_strike",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "buff.killing_machine.up & ! variable.rune_pooling & active_enemies >= variable.frostscythe_prio",
["action"] = "frostscythe",
},
{
["enabled"] = true,
["criteria"] = "buff.killing_machine.up & ! variable.rune_pooling",
["action"] = "obliterate",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "buff.rime.up",
["action"] = "howling_blast",
},
{
["enabled"] = true,
["criteria"] = "! variable.rp_pooling",
["action"] = "glacial_advance",
},
{
["enabled"] = true,
["criteria"] = "! variable.rune_pooling & ! ( talent.obliteration.enabled & buff.pillar_of_frost.up ) & active_enemies >= variable.frostscythe_prio",
["action"] = "frostscythe",
},
{
["enabled"] = true,
["criteria"] = "! variable.rune_pooling & ! ( talent.obliteration.enabled & buff.pillar_of_frost.up )",
["action"] = "obliterate",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "! buff.killing_machine.up & ( talent.obliteration.enabled & buff.pillar_of_frost.up )",
["action"] = "howling_blast",
},
},
["default"] = {
{
["action"] = "mind_freeze",
["enabled"] = true,
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "( talent.pillar_of_frost.enabled & buff.pillar_of_frost.up ) || ! talent.pillar_of_frost.enabled || fight_remains < 20",
["var_name"] = "cooldown_check",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "( buff.pillar_of_frost.remains < gcd.max || ( buff.unholy_strength.up & buff.unholy_strength.remains < gcd.max ) || ( talent.bonegrinder.rank = 2 & buff.bonegrinder_frost.up & buff.bonegrinder_frost.remains < gcd.max ) ) & ( active_enemies > 1 || debuff.razorice.stack = 5 || talent.shattering_blade.enabled )",
["var_name"] = "fwf_buffs",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "hero_tree.deathbringer & cooldown.reapers_mark.remains < 6 & rune < 3",
["var_name"] = "rune_pooling",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "talent.breath_of_sindragosa.enabled & cooldown.breath_of_sindragosa.remains < 4 * gcd.max & runic_power < 60 + ( 35 + 5 * buff.icy_onslaught.up ) - ( 10 * rune )",
["var_name"] = "rp_pooling",
},
{
["enabled"] = true,
["op"] = "set",
["description"] = "Frostscythe is equal at 3 targets, except with Rider 4pc which brings Obliterate higher at 3, unless cleaving strikes is up",
["var_name"] = "frostscythe_prio",
["value"] = "4",
["action"] = "variable",
["value_else"] = "3",
["criteria"] = "set_bonus.tww3_rider_of_the_apocalypse_4pc > 0 & ! ( talent.cleaving_strikes.enabled & buff.remorseless_winter.up )",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "talent.breath_of_sindragosa.enabled & ( cooldown.breath_of_sindragosa.remains > 20 || ( cooldown.breath_of_sindragosa.up & runic_power >= ( 60 - 20 * hero_tree.deathbringer ) ) )",
["var_name"] = "breath_of_sindragosa_check",
},
{
["enabled"] = true,
["action"] = "unyielding_netherprism",
["criteria"] = "buff.latent_energy.stack > 8 & buff.pillar_of_frost.remains & ( ! talent.breath_of_sindragosa.enabled || buff.breath_of_sindragosa.remains )",
["name"] = "unyielding_netherprism",
},
{
["enabled"] = true,
["criteria"] = "! trinket.t1.cast_time > 0 & variable.trinket_1_buffs & ! variable.trinket_1_manual & buff.pillar_of_frost.remains & ( ! trinket.t2.has_cooldown || trinket.t2.cooldown.remains || variable.trinket_priority = 1 )",
["action"] = "trinket1",
["slot"] = "trinket1",
},
{
["enabled"] = true,
["criteria"] = "! trinket.t2.cast_time > 0 & variable.trinket_2_buffs & ! variable.trinket_2_manual & buff.pillar_of_frost.remains & ( ! trinket.t1.has_cooldown || trinket.t1.cooldown.remains || variable.trinket_priority = 2 )",
["action"] = "trinket2",
["slot"] = "trinket2",
},
{
["enabled"] = true,
["action"] = "trinket1",
["slot"] = "trinket1",
["description"] = "Channeled buff trinkets will be used before cooldowns",
["criteria"] = "trinket.t1.cast_time > 0 & ( ! trinket.t2.is.unyielding_netherprism || buff.latent_energy.stack < 8 ) & ( ! hero_tree.rider_of_the_apocalypse || cooldown.frostwyrms_fury.remains ) & variable.trinket_1_buffs & ! variable.trinket_1_manual & cooldown.pillar_of_frost.remains < trinket.t1.cast_time & ( ! talent.breath_of_sindragosa.enabled || variable.breath_of_sindragosa_check ) & ( ! trinket.t2.has_cooldown || trinket.t2.cooldown.remains || variable.trinket_priority = 1 ) || variable.trinket_1_duration >= fight_remains",
},
{
["enabled"] = true,
["criteria"] = "trinket.t2.cast_time > 0 & ( ! trinket.t1.is.unyielding_netherprism || buff.latent_energy.stack < 8 ) & ( ! hero_tree.rider_of_the_apocalypse || cooldown.frostwyrms_fury.remains ) & variable.trinket_2_buffs & ! variable.trinket_2_manual & cooldown.pillar_of_frost.remains < trinket.t2.cast_time & ( ! talent.breath_of_sindragosa.enabled || variable.breath_of_sindragosa_check ) & ( ! trinket.t1.has_cooldown || trinket.t1.cooldown.remains || variable.trinket_priority = 2 ) || variable.trinket_2_duration >= fight_remains",
["action"] = "trinket2",
["slot"] = "trinket2",
},
{
["enabled"] = true,
["action"] = "trinket1",
["slot"] = "trinket1",
["description"] = "If only one on use trinket provides a buff, use the other on cooldown. Or if neither trinket provides a buff, use both on cooldown.",
["criteria"] = "! variable.trinket_1_buffs & ! variable.trinket_1_manual & ( variable.damage_trinket_priority = 1 || ( ! trinket.t2.has_cooldown || trinket.t2.cooldown.remains ) ) & ( ( trinket.t1.cast_time > 0 & ( ! talent.breath_of_sindragosa.enabled || ! buff.breath_of_sindragosa.up ) & ! buff.pillar_of_frost.up || ! trinket.t1.cast_time > 0 ) & ( ! variable.trinket_2_buffs || cooldown.pillar_of_frost.remains > 20 ) || ! talent.pillar_of_frost.enabled ) || fight_remains < 15",
},
{
["enabled"] = true,
["criteria"] = "! variable.trinket_2_buffs & ! variable.trinket_2_manual & ( variable.damage_trinket_priority = 2 || ( ! trinket.t1.has_cooldown || trinket.t1.cooldown.remains ) ) & ( ( trinket.t2.cast_time > 0 & ( ! talent.breath_of_sindragosa.enabled || ! buff.breath_of_sindragosa.up ) & ! buff.pillar_of_frost.up || ! trinket.t2.cast_time > 0 ) & ( ! variable.trinket_1_buffs || cooldown.pillar_of_frost.remains > 20 ) || ! talent.pillar_of_frost.enabled ) || fight_remains < 15",
["action"] = "trinket2",
["slot"] = "trinket2",
},
{
["enabled"] = true,
["criteria"] = "buff.pillar_of_frost.up || ( buff.breath_of_sindragosa.up & cooldown.pillar_of_frost.remains ) || ( variable.trinket_1_buffs & variable.trinket_2_buffs & ( trinket.t1.cooldown.remains < cooldown.pillar_of_frost.remains || trinket.t2.cooldown.remains < cooldown.pillar_of_frost.remains ) & cooldown.pillar_of_frost.remains > 20 ) || fight_remains < 15",
["action"] = "main_hand",
["slot"] = "main_hand",
},
{
["enabled"] = true,
["use_off_gcd"] = 1,
["action"] = "potion",
["criteria"] = "variable.cooldown_check || fight_remains < 25",
},
{
["enabled"] = true,
["criteria"] = "( active_enemies > 1 || talent.gathering_storm.enabled ) || ( buff.gathering_storm.stack = 10 & buff.remorseless_winter.remains < gcd.max ) & fight_remains > 10",
["action"] = "remorseless_winter",
},
{
["enabled"] = true,
["criteria"] = "hero_tree.rider_of_the_apocalypse & talent.apocalypse_now.enabled & ( cooldown.pillar_of_frost.remains < gcd.max || fight_remains < 20 ) & ! talent.breath_of_sindragosa.enabled",
["action"] = "frostwyrms_fury",
},
{
["enabled"] = true,
["criteria"] = "hero_tree.rider_of_the_apocalypse & talent.apocalypse_now.enabled & ( cooldown.pillar_of_frost.remains < gcd.max || fight_remains < 20 ) & talent.breath_of_sindragosa.enabled & runic_power >= 60",
["action"] = "frostwyrms_fury",
},
{
["enabled"] = true,
["criteria"] = "! talent.breath_of_sindragosa.enabled & ( ! hero_tree.deathbringer || rune >= 2 ) || fight_remains < 20",
["action"] = "pillar_of_frost",
},
{
["enabled"] = true,
["criteria"] = "talent.breath_of_sindragosa.enabled & variable.breath_of_sindragosa_check & ( ! hero_tree.deathbringer || rune >= 2 )",
["action"] = "pillar_of_frost",
},
{
["enabled"] = true,
["use_off_gcd"] = 1,
["action"] = "breath_of_sindragosa",
["criteria"] = "! buff.breath_of_sindragosa.up & ( buff.pillar_of_frost.up || fight_remains < 20 )",
},
{
["enabled"] = true,
["criteria"] = "buff.pillar_of_frost.up || cooldown.pillar_of_frost.remains > 5 || fight_remains < 20",
["action"] = "reapers_mark",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "! talent.apocalypse_now.enabled & active_enemies = 1 & ( talent.pillar_of_frost.enabled & buff.pillar_of_frost.up & ! talent.obliteration.enabled || ! talent.pillar_of_frost.enabled ) & ( ! raid_event.adds.exists || raid_event.adds.in > cooldown.frostwyrms_fury.duration + raid_event.adds.duration ) & variable.fwf_buffs || fight_remains < 3",
["action"] = "frostwyrms_fury",
},
{
["enabled"] = true,
["criteria"] = "! talent.apocalypse_now.enabled & active_enemies >= 2 & ( talent.pillar_of_frost.enabled & buff.pillar_of_frost.up || raid_event.adds.exists & raid_event.adds.up & raid_event.adds.in < cooldown.pillar_of_frost.remains - raid_event.adds.in - raid_event.adds.duration ) & variable.fwf_buffs",
["action"] = "frostwyrms_fury",
},
{
["enabled"] = true,
["criteria"] = "! talent.apocalypse_now.enabled & talent.obliteration.enabled & ( talent.pillar_of_frost.enabled & buff.pillar_of_frost.up & ! main_hand.2h || ! buff.pillar_of_frost.up & main_hand.2h & cooldown.pillar_of_frost.remains || ! talent.pillar_of_frost.enabled ) & variable.fwf_buffs & ( ! raid_event.adds.exists || raid_event.adds.in > cooldown.frostwyrms_fury.duration + raid_event.adds.duration )",
["action"] = "frostwyrms_fury",
},
{
["use_off_gcd"] = 1,
["action"] = "raise_dead",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "talent.reaper_of_souls.enabled & buff.reaper_of_souls.up & buff.killing_machine.stack < 2",
["action"] = "soul_reaper",
},
{
["enabled"] = true,
["use_off_gcd"] = 1,
["action"] = "empower_rune_weapon",
["criteria"] = "( rune < 2 || ! buff.killing_machine.up ) & runic_power < 35 + ( talent.icy_onslaught.enabled * buff.icy_onslaught.stack * 5 ) & gcd.remains < 0.5",
},
{
["enabled"] = true,
["use_off_gcd"] = 1,
["action"] = "empower_rune_weapon",
["criteria"] = "cooldown.empower_rune_weapon.full_recharge_time <= 6 & buff.killing_machine.stack < 1 + ( 1 * talent.killing_streak.enabled ) & gcd.remains < 0.5",
},
{
["enabled"] = true,
["use_off_gcd"] = 1,
["action"] = "blood_fury",
["criteria"] = "variable.cooldown_check",
},
{
["enabled"] = true,
["use_off_gcd"] = 1,
["action"] = "berserking",
["criteria"] = "variable.cooldown_check",
},
{
["enabled"] = true,
["criteria"] = "variable.cooldown_check",
["action"] = "arcane_pulse",
},
{
["enabled"] = true,
["criteria"] = "variable.cooldown_check",
["action"] = "lights_judgment",
},
{
["enabled"] = true,
["use_off_gcd"] = 1,
["action"] = "ancestral_call",
["criteria"] = "variable.cooldown_check",
},
{
["enabled"] = true,
["use_off_gcd"] = 1,
["action"] = "fireblood",
["criteria"] = "variable.cooldown_check",
},
{
["enabled"] = true,
["criteria"] = "talent.obliteration.enabled & ! buff.pillar_of_frost.up & buff.unholy_strength.up",
["action"] = "bag_of_tricks",
},
{
["enabled"] = true,
["criteria"] = "! talent.obliteration.enabled & buff.pillar_of_frost.up & ( buff.unholy_strength.up & buff.unholy_strength.remains < gcd.max * 3 || buff.pillar_of_frost.remains < gcd.max * 3 )",
["action"] = "bag_of_tricks",
},
{
["enabled"] = true,
["action"] = "run_action_list",
["strict"] = 1,
["criteria"] = "active_enemies >= 3",
["list_name"] = "aoe",
},
{
["enabled"] = true,
["action"] = "run_action_list",
["list_name"] = "single_target",
},
},
["precombat"] = {
{
["enabled"] = true,
["op"] = "setif",
["action"] = "variable",
["var_name"] = "trinket_1_sync",
["value"] = "1",
["value_else"] = "0.5",
["criteria"] = "trinket.t1.has_use_buff & ( talent.pillar_of_frost.enabled & ! talent.breath_of_sindragosa.enabled & ( trinket.t1.cooldown.duration % cooldown.pillar_of_frost.duration = 0 ) || talent.breath_of_sindragosa.enabled & ( cooldown.breath_of_sindragosa.duration % trinket.t1.cooldown.duration = 0 ) )",
},
{
["enabled"] = true,
["op"] = "setif",
["action"] = "variable",
["var_name"] = "trinket_2_sync",
["value"] = "1",
["value_else"] = "0.5",
["criteria"] = "trinket.t2.has_use_buff & ( talent.pillar_of_frost.enabled & ! talent.breath_of_sindragosa.enabled & ( trinket.t2.cooldown.duration % cooldown.pillar_of_frost.duration = 0 ) || talent.breath_of_sindragosa.enabled & ( cooldown.breath_of_sindragosa.duration % trinket.t2.cooldown.duration = 0 ) )",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "trinket.t1.has_cooldown & ! trinket.t1.is.improvised_seaforium_pacemaker & ( trinket.t1.has_use_buff || trinket.t1.has_use_buff || trinket.t1.has_use_buff || trinket.t1.has_use_buff || trinket.t1.has_use_buff || trinket.t1.has_use_buff )",
["var_name"] = "trinket_1_buffs",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "trinket.t2.has_cooldown & ! trinket.t2.is.improvised_seaforium_pacemaker & ( trinket.t2.has_use_buff || trinket.t2.has_use_buff || trinket.t2.has_use_buff || trinket.t2.has_use_buff || trinket.t2.has_use_buff || trinket.t2.has_use_buff )",
["var_name"] = "trinket_2_buffs",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "trinket.t1.buff_duration",
["var_name"] = "trinket_1_duration",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "trinket.t2.buff_duration",
["var_name"] = "trinket_2_duration",
},
{
["enabled"] = true,
["op"] = "setif",
["action"] = "variable",
["var_name"] = "trinket_priority",
["value"] = "2",
["value_else"] = "1",
["criteria"] = "! variable.trinket_1_buffs & variable.trinket_2_buffs & ( trinket.t2.has_cooldown || ! trinket.t1.has_cooldown ) || variable.trinket_2_buffs & ( ( trinket.t2.cooldown.duration / variable.trinket_2_duration ) * ( 1.5 + trinket.t2.has_use_buff ) * ( variable.trinket_2_sync ) * ( 1 + ( ( trinket.t2.ilvl - trinket.t1.ilvl ) / 100 ) ) ) > ( ( trinket.t1.cooldown.duration / variable.trinket_1_duration ) * ( 1.5 + trinket.t1.has_use_buff ) * ( variable.trinket_1_sync ) * ( 1 + ( ( trinket.t1.ilvl - trinket.t2.ilvl ) / 100 ) ) )",
},
{
["enabled"] = true,
["op"] = "setif",
["action"] = "variable",
["var_name"] = "damage_trinket_priority",
["value"] = "2",
["value_else"] = "1",
["criteria"] = "! variable.trinket_1_buffs & ! variable.trinket_2_buffs & trinket.t2.ilvl >= trinket.t1.ilvl",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "trinket.t1.is.unyielding_netherprism",
["var_name"] = "trinket_1_manual",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "trinket.t2.is.unyielding_netherprism",
["var_name"] = "trinket_2_manual",
},
},
},
["version"] = 20250826,
["warnings"] = "The import for 'default' required some automated changes.\nLine 9: Converted 'trinket.1.cast_time' to 'trinket.t1.cast_time' (1x).\nLine 9: Converted 'trinket.2.has_cooldown' to 'trinket.t2.has_cooldown' (1x).\nLine 9: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 9: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 10: Converted 'trinket.2.cast_time' to 'trinket.t2.cast_time' (1x).\nLine 10: Converted 'trinket.1.has_cooldown' to 'trinket.t1.has_cooldown' (1x).\nLine 10: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 10: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 11: Converted 'trinket.1.cast_time' to 'trinket.t1.cast_time' (1x).\nLine 11: Converted 'trinket.2.is.unyielding_netherprism' to 'trinket.t2.is.unyielding_netherprism' (1x).\nLine 11: Converted 'trinket.1.cast_time' to 'trinket.t1.cast_time' (1x).\nLine 11: Converted 'trinket.2.has_cooldown' to 'trinket.t2.has_cooldown' (1x).\nLine 11: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 11: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 12: Converted 'trinket.2.cast_time' to 'trinket.t2.cast_time' (1x).\nLine 12: Converted 'trinket.1.is.unyielding_netherprism' to 'trinket.t1.is.unyielding_netherprism' (1x).\nLine 12: Converted 'trinket.2.cast_time' to 'trinket.t2.cast_time' (1x).\nLine 12: Converted 'trinket.1.has_cooldown' to 'trinket.t1.has_cooldown' (1x).\nLine 12: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 12: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 13: Converted 'trinket.2.has_cooldown' to 'trinket.t2.has_cooldown' (1x).\nLine 13: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 13: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 13: Converted 'trinket.1.cast_time' to 'trinket.t1.cast_time' (1x).\nLine 13: Converted 'trinket.1.cast_time' to 'trinket.t1.cast_time' (1x).\nLine 14: Converted 'trinket.1.has_cooldown' to 'trinket.t1.has_cooldown' (1x).\nLine 14: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 14: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 14: Converted 'trinket.2.cast_time' to 'trinket.t2.cast_time' (1x).\nLine 14: Converted 'trinket.2.cast_time' to 'trinket.t2.cast_time' (1x).\nLine 15: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 15: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 15: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 15: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\n\nThe import for 'precombat' required some automated changes.\nLine 1: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 1: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 1: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 1: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 1: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 1: Converted operations in 'trinket.t1.has_use_buff&(talent.pillar_of_frost.enabled&!talent.breath_of_sindragosa.enabled&(trinket.t1.cooldown.duration%%cooldown.pillar_of_frost.duration=0)||talent.breath_of_sindragosa.enabled&(cooldown.breath_of_sindragosa.duration%%trinket.t1.cooldown.duration=0))' to 'trinket.t1.has_use_buff&(talent.pillar_of_frost.enabled&!talent.breath_of_sindragosa.enabled&(trinket.t1.cooldown.duration%cooldown.pillar_of_frost.duration=0)||talent.breath_of_sindragosa.enabled&(cooldown.breath_of_sindragosa.duration%trinket.t1.cooldown.duration=0))'.\nLine 2: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 2: Converted operations in 'trinket.t2.has_use_buff&(talent.pillar_of_frost.enabled&!talent.breath_of_sindragosa.enabled&(trinket.t2.cooldown.duration%%cooldown.pillar_of_frost.duration=0)||talent.breath_of_sindragosa.enabled&(cooldown.breath_of_sindragosa.duration%%trinket.t2.cooldown.duration=0))' to 'trinket.t2.has_use_buff&(talent.pillar_of_frost.enabled&!talent.breath_of_sindragosa.enabled&(trinket.t2.cooldown.duration%cooldown.pillar_of_frost.duration=0)||talent.breath_of_sindragosa.enabled&(cooldown.breath_of_sindragosa.duration%trinket.t2.cooldown.duration=0))'.\nLine 3: Converted 'trinket.1.has_cooldown' to 'trinket.t1.has_cooldown' (1x).\nLine 3: Converted 'trinket.1.is.improvised_seaforium_pacemaker' to 'trinket.t1.is.improvised_seaforium_pacemaker' (1x).\nLine 3: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'trinket.1.has_buff.strength' to 'trinket.t1.has_buff.strength' (1x).\nLine 3: Converted 'trinket.1.has_buff.strength' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'trinket.1.has_buff.mastery' to 'trinket.t1.has_buff.mastery' (1x).\nLine 3: Converted 'trinket.1.has_buff.mastery' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'trinket.1.has_buff.versatility' to 'trinket.t1.has_buff.versatility' (1x).\nLine 3: Converted 'trinket.1.has_buff.versatility' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'trinket.1.has_buff.haste' to 'trinket.t1.has_buff.haste' (1x).\nLine 3: Converted 'trinket.1.has_buff.haste' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'trinket.1.has_buff.crit' to 'trinket.t1.has_buff.crit' (1x).\nLine 3: Converted 'trinket.1.has_buff.crit' to 'trinket.t1.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.has_cooldown' to 'trinket.t2.has_cooldown' (1x).\nLine 4: Converted 'trinket.2.is.improvised_seaforium_pacemaker' to 'trinket.t2.is.improvised_seaforium_pacemaker' (1x).\nLine 4: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.has_buff.strength' to 'trinket.t2.has_buff.strength' (1x).\nLine 4: Converted 'trinket.2.has_buff.strength' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.has_buff.mastery' to 'trinket.t2.has_buff.mastery' (1x).\nLine 4: Converted 'trinket.2.has_buff.mastery' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.has_buff.versatility' to 'trinket.t2.has_buff.versatility' (1x).\nLine 4: Converted 'trinket.2.has_buff.versatility' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.has_buff.haste' to 'trinket.t2.has_buff.haste' (1x).\nLine 4: Converted 'trinket.2.has_buff.haste' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.has_buff.crit' to 'trinket.t2.has_buff.crit' (1x).\nLine 4: Converted 'trinket.2.has_buff.crit' to 'trinket.t2.has_use_buff' (1x).\nLine 5: Converted 'trinket.1.proc.any_dps.duration' to 'trinket.t1.proc.any_dps.duration' (1x).\nLine 5: Converted 'trinket.1.proc.any_dps.duration' to 'trinket.t1.buff_duration' (1x).\nLine 6: Converted 'trinket.2.proc.any_dps.duration' to 'trinket.t2.proc.any_dps.duration' (1x).\nLine 6: Converted 'trinket.2.proc.any_dps.duration' to 'trinket.t2.buff_duration' (1x).\nLine 7: Converted 'trinket.2.has_cooldown' to 'trinket.t2.has_cooldown' (1x).\nLine 7: Converted 'trinket.1.has_cooldown' to 'trinket.t1.has_cooldown' (1x).\nLine 7: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 7: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 7: Converted 'trinket.2.has_buff.strength' to 'trinket.t2.has_buff.strength' (1x).\nLine 7: Converted 'trinket.2.has_buff.strength' to 'trinket.t2.has_use_buff' (1x).\nLine 7: Converted 'trinket.2.ilvl' to 'trinket.t2.ilvl' (1x).\nLine 7: Converted 'trinket.1.ilvl' to 'trinket.t1.ilvl' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 7: Converted 'trinket.1.has_buff.strength' to 'trinket.t1.has_buff.strength' (1x).\nLine 7: Converted 'trinket.1.has_buff.strength' to 'trinket.t1.has_use_buff' (1x).\nLine 7: Converted 'trinket.1.ilvl' to 'trinket.t1.ilvl' (1x).\nLine 7: Converted 'trinket.2.ilvl' to 'trinket.t2.ilvl' (1x).\nLine 7: Converted operations in '!variable.trinket_1_buffs&variable.trinket_2_buffs&(trinket.t2.has_cooldown||!trinket.t1.has_cooldown)||variable.trinket_2_buffs&((trinket.t2.cooldown.duration%variable.trinket_2_duration)*(1.5+trinket.t2.has_use_buff)*(variable.trinket_2_sync)*(1+((trinket.t2.ilvl-trinket.t1.ilvl)%100)))>((trinket.t1.cooldown.duration%variable.trinket_1_duration)*(1.5+trinket.t1.has_use_buff)*(variable.trinket_1_sync)*(1+((trinket.t1.ilvl-trinket.t2.ilvl)%100)))' to '!variable.trinket_1_buffs&variable.trinket_2_buffs&(trinket.t2.has_cooldown||!trinket.t1.has_cooldown)||variable.trinket_2_buffs&((trinket.t2.cooldown.duration/variable.trinket_2_duration)*(1.5+trinket.t2.has_use_buff)*(variable.trinket_2_sync)*(1+((trinket.t2.ilvl-trinket.t1.ilvl)/100)))>((trinket.t1.cooldown.duration/variable.trinket_1_duration)*(1.5+trinket.t1.has_use_buff)*(variable.trinket_1_sync)*(1+((trinket.t1.ilvl-trinket.t2.ilvl)/100)))'.\nLine 8: Converted 'trinket.2.ilvl' to 'trinket.t2.ilvl' (1x).\nLine 8: Converted 'trinket.1.ilvl' to 'trinket.t1.ilvl' (1x).\nLine 9: Converted 'trinket.1.is.unyielding_netherprism' to 'trinket.t1.is.unyielding_netherprism' (1x).\nLine 10: Converted 'trinket.2.is.unyielding_netherprism' to 'trinket.t2.is.unyielding_netherprism' (1x).\nThe following auras were used in the action list but were not found in the addon database:\n - crit\n\nImported 4 action lists.\n",
["spec"] = 251,
["profile"] = "## https://github.com/simulationcraft/simc/blob/thewarwithin/ActionPriorityLists/default/deathknight_frost.simc\n## SimulationCraft Commit Sync: 8aa4db9\n## Date: 2025-08-26\n\n## Executed before combat begins. Accepts non-harmful actions only.\n## Evaluates a trinkets cooldown, divided by pillar of frost, empower rune weapon, or breath of sindragosa's cooldown. If it's value has no remainder return 1, else return 0.5.\nactions.precombat+=/variable,name=trinket_1_sync,op=setif,value=1,value_else=0.5,condition=trinket.1.has_use_buff&(talent.pillar_of_frost&!talent.breath_of_sindragosa&(trinket.1.cooldown.duration%%cooldown.pillar_of_frost.duration=0)||talent.breath_of_sindragosa&(cooldown.breath_of_sindragosa.duration%%trinket.1.cooldown.duration=0))\nactions.precombat+=/variable,name=trinket_2_sync,op=setif,value=1,value_else=0.5,condition=trinket.2.has_use_buff&(talent.pillar_of_frost&!talent.breath_of_sindragosa&(trinket.2.cooldown.duration%%cooldown.pillar_of_frost.duration=0)||talent.breath_of_sindragosa&(cooldown.breath_of_sindragosa.duration%%trinket.2.cooldown.duration=0))\nactions.precombat+=/variable,name=trinket_1_buffs,value=trinket.1.has_cooldown&!trinket.1.is.improvised_seaforium_pacemaker&(trinket.1.has_use_buff||trinket.1.has_buff.strength||trinket.1.has_buff.mastery||trinket.1.has_buff.versatility||trinket.1.has_buff.haste||trinket.1.has_buff.crit)\nactions.precombat+=/variable,name=trinket_2_buffs,value=trinket.2.has_cooldown&!trinket.2.is.improvised_seaforium_pacemaker&(trinket.2.has_use_buff||trinket.2.has_buff.strength||trinket.2.has_buff.mastery||trinket.2.has_buff.versatility||trinket.2.has_buff.haste||trinket.2.has_buff.crit)\nactions.precombat+=/variable,name=trinket_1_duration,value=trinket.1.proc.any_dps.duration\nactions.precombat+=/variable,name=trinket_2_duration,value=trinket.2.proc.any_dps.duration,\nactions.precombat+=/variable,name=trinket_priority,op=setif,value=2,value_else=1,condition=!variable.trinket_1_buffs&variable.trinket_2_buffs&(trinket.2.has_cooldown||!trinket.1.has_cooldown)||variable.trinket_2_buffs&((trinket.2.cooldown.duration%variable.trinket_2_duration)*(1.5+trinket.2.has_buff.strength)*(variable.trinket_2_sync)*(1+((trinket.2.ilvl-trinket.1.ilvl)%100)))>((trinket.1.cooldown.duration%variable.trinket_1_duration)*(1.5+trinket.1.has_buff.strength)*(variable.trinket_1_sync)*(1+((trinket.1.ilvl-trinket.2.ilvl)%100)))\nactions.precombat+=/variable,name=damage_trinket_priority,op=setif,value=2,value_else=1,condition=!variable.trinket_1_buffs&!variable.trinket_2_buffs&trinket.2.ilvl>=trinket.1.ilvl\nactions.precombat+=/variable,name=trinket_1_manual,value=trinket.1.is.unyielding_netherprism\nactions.precombat+=/variable,name=trinket_2_manual,value=trinket.2.is.unyielding_netherprism\n\n## Executed every time the actor is available.\nactions=mind_freeze\n## Choose Action list to run\n## [Hekili] Remove unnecessary conditionless branches to save CPU time.\n## actions+=/call_action_list,name=variables\n## [Hekili] This is always 'true' because the addon doesn't predict raid events.\n## actions=variable,name=st_planning,op=setif,value=1,value_else=0,condition=active_enemies=1&(!raid_event.adds.exists||!raid_event.adds.in||raid_event.adds.in>15)\n## [Hekili] This is also always true because the addon doesn't predict raid events.\n## actions+=/variable,name=adds_remain,value=active_enemies>=2&(!raid_event.adds.exists||!raid_event.pull.exists&raid_event.adds.remains>5||raid_event.pull.exists&raid_event.adds.in>20)\n## [Hekili] This is also always true because the addon doesn't predict raid events.\n## actions+=/variable,name=sending_cds,value=(variable.st_planning||variable.adds_remain)\nactions+=/variable,name=cooldown_check,value=(talent.pillar_of_frost&buff.pillar_of_frost.up)||!talent.pillar_of_frost||fight_remains<20\nactions+=/variable,name=fwf_buffs,value=(buff.pillar_of_frost.remains<gcd.max||(buff.unholy_strength.up&buff.unholy_strength.remains<gcd.max)||(talent.bonegrinder.rank=2&buff.bonegrinder_frost.up&buff.bonegrinder_frost.remains<gcd.max))&(active_enemies>1||debuff.razorice.stack=5||talent.shattering_blade)\n## actions+=/variable,name=rune_pooling,value=hero_tree.deathbringer&cooldown.reapers_mark.remains<6&rune<3&variable.sending_cds\nactions+=/variable,name=rune_pooling,value=hero_tree.deathbringer&cooldown.reapers_mark.remains<6&rune<3\n## actions+=/variable,name=rp_pooling,value=talent.breath_of_sindragosa&cooldown.breath_of_sindragosa.remains<4*gcd.max&runic_power<60+(35+5*buff.icy_onslaught.up)-(10*rune)&variable.sending_cds\nactions+=/variable,name=rp_pooling,value=talent.breath_of_sindragosa&cooldown.breath_of_sindragosa.remains<4*gcd.max&runic_power<60+(35+5*buff.icy_onslaught.up)-(10*rune)\n# Frostscythe is equal at 3 targets, except with Rider 4pc which brings Obliterate higher at 3, unless cleaving strikes is up\n## [Hekili] Revised to fix target count based on 4pc.\n## actions+=/variable,name=frostscythe_prio,value=3+(1*(set_bonus.tww3_rider_of_the_apocalypse_4pc&!(talent.cleaving_strikes&buff.remorseless_winter.up)))\nactions+=/variable,name=frostscythe_prio,value=4,value_else=3,condition=set_bonus.tww3_rider_of_the_apocalypse_4pc>0&!(talent.cleaving_strikes&buff.remorseless_winter.up)\nactions+=/variable,name=breath_of_sindragosa_check,value=talent.breath_of_sindragosa&(cooldown.breath_of_sindragosa.remains>20||(cooldown.breath_of_sindragosa.up&runic_power>=(60-20*hero_tree.deathbringer)))\n\n## actions+=/call_action_list,name=trinkets\nactions=use_item,name=unyielding_netherprism,if=buff.latent_energy.stack>8&buff.pillar_of_frost.remains&(!talent.breath_of_sindragosa||buff.breath_of_sindragosa.remains)\nactions+=/use_item,slot=trinket1,if=!trinket.1.cast_time>0&variable.trinket_1_buffs&!variable.trinket_1_manual&buff.pillar_of_frost.remains&(!trinket.2.has_cooldown||trinket.2.cooldown.remains||variable.trinket_priority=1)\nactions+=/use_item,slot=trinket2,if=!trinket.2.cast_time>0&variable.trinket_2_buffs&!variable.trinket_2_manual&buff.pillar_of_frost.remains&(!trinket.1.has_cooldown||trinket.1.cooldown.remains||variable.trinket_priority=2)\n# Channeled buff trinkets will be used before cooldowns\n## actions+=/use_item,slot=trinket1,use_off_gcd=1,if=trinket.1.cast_time>0&(!hero_tree.rider_of_the_apocalypse||cooldown.frostwyrms_fury.remains)&variable.trinket_1_buffs&!variable.trinket_1_manual&cooldown.pillar_of_frost.remains<trinket.1.cast_time&(!talent.breath_of_sindragosa||variable.breath_of_sindragosa_check)&variable.sending_cds&(!trinket.2.has_cooldown||trinket.2.cooldown.remains||variable.trinket_priority=1)||variable.trinket_1_duration>=fight_remains\nactions+=/use_item,slot=trinket1,if=trinket.1.cast_time>0&(!trinket.2.is.unyielding_netherprism||buff.latent_energy.stack<8)&(!hero_tree.rider_of_the_apocalypse||cooldown.frostwyrms_fury.remains)&variable.trinket_1_buffs&!variable.trinket_1_manual&cooldown.pillar_of_frost.remains<trinket.1.cast_time&(!talent.breath_of_sindragosa||variable.breath_of_sindragosa_check)&(!trinket.2.has_cooldown||trinket.2.cooldown.remains||variable.trinket_priority=1)||variable.trinket_1_duration>=fight_remains\n## actions+=/use_item,slot=trinket2,use_off_gcd=1,if=trinket.2.cast_time>0&(!hero_tree.rider_of_the_apocalypse||cooldown.frostwyrms_fury.remains)&variable.trinket_2_buffs&!variable.trinket_2_manual&cooldown.pillar_of_frost.remains<trinket.2.cast_time&(!talent.breath_of_sindragosa||variable.breath_of_sindragosa_check)&variable.sending_cds&(!trinket.1.has_cooldown||trinket.1.cooldown.remains||variable.trinket_priority=2)||variable.trinket_2_duration>=fight_remains\nactions+=/use_item,slot=trinket2,if=trinket.2.cast_time>0&(!trinket.1.is.unyielding_netherprism||buff.latent_energy.stack<8)&(!hero_tree.rider_of_the_apocalypse||cooldown.frostwyrms_fury.remains)&variable.trinket_2_buffs&!variable.trinket_2_manual&cooldown.pillar_of_frost.remains<trinket.2.cast_time&(!talent.breath_of_sindragosa||variable.breath_of_sindragosa_check)&(!trinket.1.has_cooldown||trinket.1.cooldown.remains||variable.trinket_priority=2)||variable.trinket_2_duration>=fight_remains\n# If only one on use trinket provides a buff, use the other on cooldown. Or if neither trinket provides a buff, use both on cooldown.\nactions+=/use_item,slot=trinket1,if=!variable.trinket_1_buffs&!variable.trinket_1_manual&(variable.damage_trinket_priority=1||(!trinket.2.has_cooldown||trinket.2.cooldown.remains))&((trinket.1.cast_time>0&(!talent.breath_of_sindragosa||!buff.breath_of_sindragosa.up)&!buff.pillar_of_frost.up||!trinket.1.cast_time>0)&(!variable.trinket_2_buffs||cooldown.pillar_of_frost.remains>20)||!talent.pillar_of_frost)||fight_remains<15\nactions+=/use_item,slot=trinket2,if=!variable.trinket_2_buffs&!variable.trinket_2_manual&(variable.damage_trinket_priority=2||(!trinket.1.has_cooldown||trinket.1.cooldown.remains))&((trinket.2.cast_time>0&(!talent.breath_of_sindragosa||!buff.breath_of_sindragosa.up)&!buff.pillar_of_frost.up||!trinket.2.cast_time>0)&(!variable.trinket_1_buffs||cooldown.pillar_of_frost.remains>20)||!talent.pillar_of_frost)||fight_remains<15\nactions+=/use_item,slot=main_hand,if=buff.pillar_of_frost.up||(buff.breath_of_sindragosa.up&cooldown.pillar_of_frost.remains)||(variable.trinket_1_buffs&variable.trinket_2_buffs&(trinket.1.cooldown.remains<cooldown.pillar_of_frost.remains||trinket.2.cooldown.remains<cooldown.pillar_of_frost.remains)&cooldown.pillar_of_frost.remains>20)||fight_remains<15\n\n## actions+=/call_action_list,name=high_prio_actions\n## actions=mind_freeze,if=target.debuff.casting.up\n## Use <a href='https://www.wowhead.com/spell=10060/power-infusion'>Power Infusion</a> while <a href='https://www.wowhead.com/spell=51271/pillar-of-frost'>Pillar of Frost</a> is up\n## actions+=/invoke_external_buff,name=power_infusion,if=variable.cooldown_check\n## [Hekili] Recheck AMS logic.\n## actions+=/antimagic_shell,if=runic_power.deficit>40&death_knight.first_ams_cast<time\n\n## actions+=/call_action_list,name=cooldowns\nactions=potion,use_off_gcd=1,if=variable.cooldown_check||fight_remains<25\n## actions+=/remorseless_winter,if=variable.sending_cds&(active_enemies>1||talent.gathering_storm)||(buff.gathering_storm.stack=10&buff.remorseless_winter.remains<gcd.max)&fight_remains>10\nactions+=/remorseless_winter,if=(active_enemies>1||talent.gathering_storm)||(buff.gathering_storm.stack=10&buff.remorseless_winter.remains<gcd.max)&fight_remains>10\n## actions+=/frostwyrms_fury,if=hero_tree.rider_of_the_apocalypse&talent.apocalypse_now&variable.sending_cds&(cooldown.pillar_of_frost.remains<gcd.max||fight_remains<20)&!talent.breath_of_sindragosa\nactions+=/frostwyrms_fury,if=hero_tree.rider_of_the_apocalypse&talent.apocalypse_now&(cooldown.pillar_of_frost.remains<gcd.max||fight_remains<20)&!talent.breath_of_sindragosa\n## actions+=/frostwyrms_fury,if=hero_tree.rider_of_the_apocalypse&talent.apocalypse_now&variable.sending_cds&(cooldown.pillar_of_frost.remains<gcd.max||fight_remains<20)&talent.breath_of_sindragosa&runic_power>=60\nactions+=/frostwyrms_fury,if=hero_tree.rider_of_the_apocalypse&talent.apocalypse_now&(cooldown.pillar_of_frost.remains<gcd.max||fight_remains<20)&talent.breath_of_sindragosa&runic_power>=60\n## actions+=/pillar_of_frost,if=!talent.breath_of_sindragosa&variable.sending_cds&(!hero_tree.deathbringer||rune>=2)||fight_remains<20\nactions+=/pillar_of_frost,if=!talent.breath_of_sindragosa&(!hero_tree.deathbringer||rune>=2)||fight_remains<20\n## actions+=/pillar_of_frost,if=talent.breath_of_sindragosa&variable.sending_cds&variable.breath_of_sindragosa_check&(!hero_tree.deathbringer||rune>=2)\nactions+=/pillar_of_frost,if=talent.breath_of_sindragosa&variable.breath_of_sindragosa_check&(!hero_tree.deathbringer||rune>=2)\nactions+=/breath_of_sindragosa,use_off_gcd=1,if=!buff.breath_of_sindragosa.up&(buff.pillar_of_frost.up||fight_remains<20)\nactions+=/reapers_mark,cycle_targets=1,if=buff.pillar_of_frost.up||cooldown.pillar_of_frost.remains>5||fight_remains<20\nactions+=/frostwyrms_fury,if=!talent.apocalypse_now&active_enemies=1&(talent.pillar_of_frost&buff.pillar_of_frost.up&!talent.obliteration||!talent.pillar_of_frost)&(!raid_event.adds.exists||raid_event.adds.in>cooldown.frostwyrms_fury.duration+raid_event.adds.duration)&variable.fwf_buffs||fight_remains<3\nactions+=/frostwyrms_fury,if=!talent.apocalypse_now&active_enemies>=2&(talent.pillar_of_frost&buff.pillar_of_frost.up||raid_event.adds.exists&raid_event.adds.up&raid_event.adds.in<cooldown.pillar_of_frost.remains-raid_event.adds.in-raid_event.adds.duration)&variable.fwf_buffs\nactions+=/frostwyrms_fury,if=!talent.apocalypse_now&talent.obliteration&(talent.pillar_of_frost&buff.pillar_of_frost.up&!main_hand.2h||!buff.pillar_of_frost.up&main_hand.2h&cooldown.pillar_of_frost.remains||!talent.pillar_of_frost)&variable.fwf_buffs&(!raid_event.adds.exists||raid_event.adds.in>cooldown.frostwyrms_fury.duration+raid_event.adds.duration)\nactions+=/raise_dead,use_off_gcd=1\nactions+=/soul_reaper,if=talent.reaper_of_souls&buff.reaper_of_souls.up&buff.killing_machine.stack<2\nactions+=/empower_rune_weapon,use_off_gcd=1,if=(rune<2||!buff.killing_machine.up)&runic_power<35+(talent.icy_onslaught*buff.icy_onslaught.stack*5)&gcd.remains<0.5\nactions+=/empower_rune_weapon,use_off_gcd=1,if=cooldown.empower_rune_weapon.full_recharge_time<=6&buff.killing_machine.stack<1+(1*talent.killing_streak)&gcd.remains<0.5\n\n## actions+=/call_action_list,name=racials\nactions=blood_fury,use_off_gcd=1,if=variable.cooldown_check\nactions+=/berserking,use_off_gcd=1,if=variable.cooldown_check\nactions+=/arcane_pulse,if=variable.cooldown_check\nactions+=/lights_judgment,if=variable.cooldown_check\nactions+=/ancestral_call,use_off_gcd=1,if=variable.cooldown_check\nactions+=/fireblood,use_off_gcd=1,if=variable.cooldown_check\nactions+=/bag_of_tricks,if=talent.obliteration&!buff.pillar_of_frost.up&buff.unholy_strength.up\nactions+=/bag_of_tricks,if=!talent.obliteration&buff.pillar_of_frost.up&(buff.unholy_strength.up&buff.unholy_strength.remains<gcd*3||buff.pillar_of_frost.remains<gcd*3)\n\nactions+=/run_action_list,name=aoe,strict=1,if=active_enemies>=3\nactions+=/run_action_list,name=single_target\n\n# Aoe Rotation\nactions.aoe=frostscythe,if=(buff.killing_machine.stack=2||(buff.killing_machine.up&rune>=3))&active_enemies>=variable.frostscythe_prio\n## actions.aoe+=/obliterate,target_if=max:(hero_tree.rider_of_the_apocalypse&debuff.chains_of_ice_trollbane_slow.up),if=buff.killing_machine.stack=2||(buff.killing_machine.up&rune>=3)\nactions.aoe+=/obliterate,cycle_targets=1,if=buff.killing_machine.stack=2||(buff.killing_machine.up&rune>=3)\nactions.aoe+=/howling_blast,if=buff.rime.up&talent.frostbound_will||!dot.frost_fever.ticking\n## actions.aoe+=/frost_strike,target_if=max:(talent.shattering_blade&debuff.razorice.stack=5),if=debuff.razorice.stack=5&buff.frostbane.up\nactions.aoe+=/frost_strike,cycle_targets=1,if=debuff.razorice.stack=5&buff.frostbane.up\nactions.aoe+=/frost_strike,cycle_targets=1,if=debuff.razorice.stack=5&talent.shattering_blade&active_enemies<5&!variable.rp_pooling&!talent.frostbane\nactions.aoe+=/frostscythe,if=buff.killing_machine.up&!variable.rune_pooling&active_enemies>=variable.frostscythe_prio\n## actions.aoe+=/obliterate,target_if=max:(hero_tree.rider_of_the_apocalypse&debuff.chains_of_ice_trollbane_slow.up),if=buff.killing_machine.up&!variable.rune_pooling\nactions.aoe+=/obliterate,cycle_targets=1,if=buff.killing_machine.up&!variable.rune_pooling\nactions.aoe+=/howling_blast,if=buff.rime.up\nactions.aoe+=/glacial_advance,if=!variable.rp_pooling\nactions.aoe+=/frostscythe,if=!variable.rune_pooling&!(talent.obliteration&buff.pillar_of_frost.up)&active_enemies>=variable.frostscythe_prio\n## actions.aoe+=/obliterate,target_if=max:(hero_tree.rider_of_the_apocalypse&debuff.chains_of_ice_trollbane_slow.up),if=!variable.rune_pooling&!(talent.obliteration&buff.pillar_of_frost.up)\nactions.aoe+=/obliterate,cycle_targets=1,if=!variable.rune_pooling&!(talent.obliteration&buff.pillar_of_frost.up)\nactions.aoe+=/howling_blast,if=!buff.killing_machine.up&(talent.obliteration&buff.pillar_of_frost.up)\n\n# Single Target Rotation\nactions.single_target=obliterate,if=buff.killing_machine.stack=2||(buff.killing_machine.up&rune>=3)\nactions.single_target+=/howling_blast,if=buff.rime.up&talent.frostbound_will\nactions.single_target+=/frost_strike,cycle_targets=1,if=debuff.razorice.stack=5&talent.shattering_blade&!variable.rp_pooling\nactions.single_target+=/howling_blast,if=buff.rime.up\nactions.single_target+=/frost_strike,if=!talent.shattering_blade&!variable.rp_pooling&runic_power.deficit<30\nactions.single_target+=/obliterate,if=buff.killing_machine.up&!variable.rune_pooling\nactions.single_target+=/frost_strike,if=!variable.rp_pooling\nactions.single_target+=/obliterate,if=!variable.rune_pooling&!(talent.obliteration&buff.pillar_of_frost.up)\nactions.single_target+=/howling_blast,if=!buff.killing_machine.up&(talent.obliteration&buff.pillar_of_frost.up)",
},
["Brewmaster"] = {
["source"] = "https://github.com/simulationcraft/simc/",
["builtIn"] = true,
["date"] = 20250812,
["author"] = "SimC",
["desc"] = "-- The War Within Season 3\n2025-08-12: APL Sync - 14cbb0c\n2025-08-11: Celestial Infusion Support\n\n-- The War Within Season 2\n2024-10-21: Babyproof Blackout Combo\n2024-10-11: Aspect of Harmony accumulator and SimC update\n2024-09-22: Consume Blackout Combo with Tiger Palm\n2024-09-05: Avoid double-CB\n2024-08-22: Avoid nonsensical Purifying Brews\n2024-07-26: The War Within",
["lists"] = {
["default"] = {
{
["action"] = "spear_hand_strike",
["enabled"] = true,
},
{
["action"] = "diffuse_magic",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "health.pct <= settings.vivify_percent & buff.vivacious_vivification.up",
["action"] = "vivify",
},
{
["enabled"] = true,
["criteria"] = "tanking & settings.purify_for_celestial & ( time_to_max_charges < gcd.max || buff.purified_chi.up & buff.purified_chi.remains < 1.5 * gcd.max ) || cooldown.celestial_brew.remains < 2 * gcd.max & charges_fractional > 1.5",
["action"] = "purifying_brew",
},
{
["enabled"] = true,
["criteria"] = "tanking & ( buff.celestial_brew.down & buff.celestial_infusion.down ) & ( ! talent.improved_celestial_brew.enabled || buff.purified_chi.up ) & ( ! settings.max_damage || buff.blackout_combo.down )",
["action"] = "celestial_brew",
},
{
["enabled"] = true,
["criteria"] = "group & ( ! settings.max_damage || buff.blackout_combo.down ) & settings.purify_stagger_currhp > 0 & stagger.pct >= settings.purify_stagger_currhp",
["action"] = "purifying_brew",
},
{
["enabled"] = true,
["criteria"] = "solo & ( ! settings.max_damage || buff.blackout_combo.down ) & settings.purify_stagger_currhp > 0 & stagger.pct >= settings.purify_stagger_currhp * 0.5",
["action"] = "purifying_brew",
},
{
["enabled"] = true,
["criteria"] = "group & ( settings.max_damage & buff.blackout_combo.down ) & settings.purify_stagger_maxhp > 0 & stagger.pct >= settings.purify_stagger_maxhp",
["action"] = "purifying_brew",
},
{
["enabled"] = true,
["criteria"] = "solo & ( ! settings.max_damage || buff.blackout_combo.down ) & settings.purify_stagger_maxhp > 0 & stagger.pct >= settings.purify_stagger_maxhp * 0.5",
["action"] = "purifying_brew",
},
{
["enabled"] = true,
["criteria"] = "group & ( ! settings.max_damage || buff.blackout_combo.down ) & settings.purify_stagger_currhp = 0 & settings.purify_stagger_maxhp = 0 & stagger.pct > 20",
["action"] = "purifying_brew",
},
{
["enabled"] = true,
["criteria"] = "solo & ( ! settings.max_damage || buff.blackout_combo.down ) & settings.purify_stagger_currhp = 0 & settings.purify_stagger_maxhp = 0 & stagger.pct > 10",
["action"] = "purifying_brew",
},
{
["enabled"] = true,
["criteria"] = "health.pct < 75 & incoming_damage_3s > health.max * ( 0.2 + ( 0.2 * group ) ) & buff.fortifying_brew.down",
["action"] = "dampen_harm",
},
{
["enabled"] = true,
["criteria"] = "health.pct < 50 & incoming_damage_3s > health.max * ( 0.2 + ( 0.2 * group ) ) & ( buff.dampen_harm.down )",
["action"] = "fortifying_brew",
},
{
["action"] = "touch_of_death",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "buff.gift_of_the_ox.stack > 4 & health.pct < settings.eh_percent",
["action"] = "expel_harm",
},
{
["action"] = "potion",
["enabled"] = true,
},
{
["action"] = "blood_fury",
["enabled"] = true,
},
{
["action"] = "berserking",
["enabled"] = true,
},
{
["action"] = "arcane_torrent",
["enabled"] = true,
},
{
["action"] = "lights_judgment",
["enabled"] = true,
},
{
["action"] = "fireblood",
["enabled"] = true,
},
{
["action"] = "ancestral_call",
["enabled"] = true,
},
{
["action"] = "bag_of_tricks",
["enabled"] = true,
},
{
["enabled"] = true,
["action"] = "tome_of_lights_devotion",
["criteria"] = "buff.inner_resilience.up",
["name"] = "tome_of_lights_devotion",
},
{
["enabled"] = false,
["criteria"] = "buff.weapons_of_order.up & debuff.weapons_of_order_debuff.stack = 4",
["name"] = "unyielding_netherprism",
},
{
["enabled"] = false,
["criteria"] = "! talent.weapons_of_order.enabled",
["name"] = "unyielding_netherprism",
},
{
["enabled"] = false,
["criteria"] = "buff.weapons_of_order.up & debuff.weapons_of_order_debuff.stack = 4",
["name"] = "lily_of_the_eternal_weave",
},
{
["enabled"] = false,
["criteria"] = "! talent.weapons_of_order.enabled",
["name"] = "lily_of_the_eternal_weave",
},
{
["enabled"] = true,
["action"] = "signet_of_the_priory",
["criteria"] = "buff.weapons_of_order.up & debuff.weapons_of_order_debuff.stack = 4",
["name"] = "signet_of_the_priory",
},
{
["enabled"] = true,
["action"] = "signet_of_the_priory",
["criteria"] = "! talent.weapons_of_order.enabled",
["name"] = "signet_of_the_priory",
},
{
["enabled"] = true,
["action"] = "trinket1",
["slot"] = "trinket1",
},
{
["enabled"] = true,
["action"] = "trinket2",
["slot"] = "trinket2",
},
{
["enabled"] = true,
["criteria"] = "energy < 40 & ( ! talent.aspect_of_harmony.enabled || cooldown.celestial_brew.charges_fractional < 1 )",
["action"] = "black_ox_brew",
},
{
["enabled"] = true,
["criteria"] = "( ! settings.max_damage || buff.blackout_combo.down ) & buff.aspect_of_harmony_accumulator.value > 0.3 * health.max & buff.weapons_of_order.up & ! dot.aspect_of_harmony_damage.ticking",
["action"] = "celestial_brew",
},
{
["enabled"] = true,
["criteria"] = "( ! settings.max_damage || buff.blackout_combo.down ) & buff.aspect_of_harmony_accumulator.value > 0.3 * health.max & ! talent.weapons_of_order.enabled & ! dot.aspect_of_harmony_damage.ticking",
["action"] = "celestial_brew",
},
{
["enabled"] = true,
["criteria"] = "( ! settings.max_damage || buff.blackout_combo.down ) & fight_remains < 20 & fight_remains > 14 & buff.aspect_of_harmony_accumulator.value > 0.2 * health.max",
["action"] = "celestial_brew",
},
{
["enabled"] = true,
["criteria"] = "( ! settings.max_damage || buff.blackout_combo.down ) & buff.aspect_of_harmony_accumulator.value > 0.3 * health.max & cooldown.weapons_of_order.remains > 20 & ! dot.aspect_of_harmony_damage.ticking",
["action"] = "celestial_brew",
},
{
["enabled"] = true,
["criteria"] = "( ! settings.max_damage || buff.blackout_combo.down ) & ( cooldown.celestial_brew.charges_fractional > 1.8 || ( cooldown.celestial_brew.charges_fractional > 1.2 & cooldown.black_ox_brew.up ) )",
["action"] = "celestial_brew",
},
{
["action"] = "blackout_kick",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "! talent.aspect_of_harmony.enabled || buff.balanced_stratagem_magic.stack > 3",
["action"] = "chi_burst",
},
{
["action"] = "weapons_of_order",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "! talent.call_to_arms.enabled",
["action"] = "invoke_niuzao",
},
{
["enabled"] = true,
["criteria"] = "talent.call_to_arms.enabled & buff.call_to_arms_invoke_niuzao.down & buff.weapons_of_order.remains < 16",
["action"] = "invoke_niuzao",
},
{
["enabled"] = true,
["criteria"] = "! talent.fluidity_of_motion.enabled",
["action"] = "rising_sun_kick",
},
{
["enabled"] = true,
["criteria"] = "buff.weapons_of_order.up & ( debuff.weapons_of_order_debuff.remains < 1.8 || debuff.weapons_of_order_debuff.stack < 3 - buff.blackout_combo.up || ( buff.weapons_of_order.remains < 3 - buff.blackout_combo.up & buff.weapons_of_order.remains < 1 + cooldown.rising_sun_kick.remains ) )",
["action"] = "keg_smash",
},
{
["enabled"] = true,
["criteria"] = "buff.blackout_combo.up",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["criteria"] = "talent.scalding_brew.enabled",
["action"] = "keg_smash",
},
{
["enabled"] = true,
["criteria"] = "talent.charred_passions.enabled & talent.scalding_brew.enabled & buff.charred_passions.up & buff.charred_passions.remains < 3 & dot.breath_of_fire.remains < 9 & active_enemies > 4",
["action"] = "spinning_crane_kick",
},
{
["enabled"] = true,
["criteria"] = "talent.fluidity_of_motion.enabled",
["action"] = "rising_sun_kick",
},
{
["enabled"] = true,
["criteria"] = "buff.blackout_combo.down & ! ( talent.call_to_arms.enabled || talent.invoke_niuzao_the_black_ox.enabled )",
["action"] = "purifying_brew",
},
{
["enabled"] = true,
["criteria"] = "buff.blackout_combo.down & ( talent.call_to_arms.enabled || talent.invoke_niuzao_the_black_ox.enabled ) & ( buff.invoke_niuzao_the_black_ox.up || buff.call_to_arms_invoke_niuzao.up )",
["action"] = "purifying_brew",
},
{
["enabled"] = true,
["criteria"] = "buff.blackout_combo.down & ( talent.call_to_arms.enabled || talent.invoke_niuzao_the_black_ox.enabled ) & cooldown.weapons_of_order.remains > 10 & cooldown.invoke_niuzao_the_black_ox.remains > 10",
["action"] = "purifying_brew",
},
{
["enabled"] = true,
["criteria"] = "( buff.charred_passions.down & ( ! talent.scalding_brew.enabled || active_enemies < 5 ) ) || ! talent.charred_passions.enabled || ( dot.breath_of_fire.remains < 3 & talent.scalding_brew.enabled )",
["action"] = "breath_of_fire",
},
{
["enabled"] = true,
["criteria"] = "! talent.rushing_jade_wind.enabled || buff.rushing_jade_wind.up",
["action"] = "exploding_keg",
},
{
["enabled"] = true,
["criteria"] = "talent.aspect_of_harmony.enabled & ( ( buff.rushing_jade_wind.remains < 2.5 & buff.rushing_jade_wind.up ) || ! buff.rushing_jade_wind.up )",
["action"] = "rushing_jade_wind",
},
{
["action"] = "keg_smash",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "! talent.aspect_of_harmony.enabled & ( ( buff.rushing_jade_wind.remains < 2.5 & buff.rushing_jade_wind.up ) || ! buff.rushing_jade_wind.up )",
["action"] = "rushing_jade_wind",
},
{
["enabled"] = true,
["criteria"] = "energy > 40 - cooldown.keg_smash.remains * energy.regen",
["action"] = "tiger_palm",
},
{
["enabled"] = true,
["criteria"] = "energy > 40 - cooldown.keg_smash.remains * energy.regen",
["action"] = "spinning_crane_kick",
},
},
["precombat"] = {
{
["action"] = "potion",
["enabled"] = true,
},
},
},
["version"] = 20250812,
["warnings"] = "The import for 'default' required some automated changes.\nLine 25: Unsupported use_item action [ unyielding_netherprism]; entry disabled.\nLine 26: Unsupported use_item action [ unyielding_netherprism]; entry disabled.\nLine 27: Unsupported use_item action [ lily_of_the_eternal_weave]; entry disabled.\nLine 28: Unsupported use_item action [ lily_of_the_eternal_weave]; entry disabled.\n\nImported 2 action lists.\n",
["spec"] = 268,
["profile"] = "## https://github.com/simulationcraft/simc/blob/thewarwithin/ActionPriorityLists/default/monk_brewmaster.simc\n## SimulationCraft Commit Sync: 14cbb0c\n## Date: 2025-08-12\n\n## TODO - squish the celestial brew entries\n\nactions.precombat+=/potion\n\nactions+=/spear_hand_strike\nactions+=/diffuse_magic\nactions+=/vivify,if=health.pct<=settings.vivify_percent&buff.vivacious_vivification.up\nactions+=/purifying_brew,if=tanking&settings.purify_for_celestial&(time_to_max_charges<gcd.max||buff.purified_chi.up&buff.purified_chi.remains<1.5*gcd.max)||cooldown.celestial_brew.remains<2*gcd.max&charges_fractional>1.5\nactions+=/celestial_brew,if=tanking&(buff.celestial_brew.down&buff.celestial_infusion.down)&(!talent.improved_celestial_brew||buff.purified_chi.up)&(!settings.max_damage||buff.blackout_combo.down)\n## actions+=/purifying_brew,line_cd=5,if=talent.improved_invoke_niuzao_the_black_ox&settings.purify_for_niuzao&pet.niuzao_the_black_ox.active\nactions+=/purifying_brew,if=group&(!settings.max_damage||buff.blackout_combo.down)&settings.purify_stagger_currhp>0&stagger.pct>=settings.purify_stagger_currhp\nactions+=/purifying_brew,if=solo&(!settings.max_damage||buff.blackout_combo.down)&settings.purify_stagger_currhp>0&stagger.pct>=settings.purify_stagger_currhp*0.5\nactions+=/purifying_brew,if=group&(settings.max_damage&buff.blackout_combo.down)&settings.purify_stagger_maxhp>0&stagger.pct>=settings.purify_stagger_maxhp\nactions+=/purifying_brew,if=solo&(!settings.max_damage||buff.blackout_combo.down)&settings.purify_stagger_maxhp>0&stagger.pct>=settings.purify_stagger_maxhp*0.5\nactions+=/purifying_brew,if=group&(!settings.max_damage||buff.blackout_combo.down)&settings.purify_stagger_currhp=0&settings.purify_stagger_maxhp=0&stagger.pct>20\nactions+=/purifying_brew,if=solo&(!settings.max_damage||buff.blackout_combo.down)&settings.purify_stagger_currhp=0&settings.purify_stagger_maxhp=0&stagger.pct>10\nactions+=/dampen_harm,if=health.pct<75&incoming_damage_3s>health.max*(0.2+(0.2*group))&buff.fortifying_brew.down\nactions+=/fortifying_brew,if=health.pct<50&incoming_damage_3s>health.max*(0.2+(0.2*group))&(buff.dampen_harm.down)\nactions+=/touch_of_death\nactions+=/expel_harm,if=buff.gift_of_the_ox.stack>4&health.pct<settings.eh_percent\nactions+=/potion\nactions+=/blood_fury\nactions+=/berserking\nactions+=/arcane_torrent\nactions+=/lights_judgment\nactions+=/fireblood\nactions+=/ancestral_call\nactions+=/bag_of_tricks\nactions+=/use_item,name=tome_of_lights_devotion,if=buff.inner_resilience.up\nactions+=/use_item,name=unyielding_netherprism,if=buff.weapons_of_order.up&debuff.weapons_of_order_debuff.stack=4\nactions+=/use_item,name=unyielding_netherprism,if=!talent.weapons_of_order.enabled\nactions+=/use_item,name=lily_of_the_eternal_weave,if=buff.weapons_of_order.up&debuff.weapons_of_order_debuff.stack=4\nactions+=/use_item,name=lily_of_the_eternal_weave,if=!talent.weapons_of_order.enabled\nactions+=/use_item,name=signet_of_the_priory,if=buff.weapons_of_order.up&debuff.weapons_of_order_debuff.stack=4\nactions+=/use_item,name=signet_of_the_priory,if=!talent.weapons_of_order.enabled\nactions+=/use_item,slot=trinket1\nactions+=/use_item,slot=trinket2\nactions+=/black_ox_brew,if=energy<40&(!talent.aspect_of_harmony.enabled||cooldown.celestial_brew.charges_fractional<1)\nactions+=/celestial_brew,if=(!settings.max_damage||buff.blackout_combo.down)&buff.aspect_of_harmony_accumulator.value>0.3*health.max&buff.weapons_of_order.up&!dot.aspect_of_harmony_damage.ticking\nactions+=/celestial_brew,if=(!settings.max_damage||buff.blackout_combo.down)&buff.aspect_of_harmony_accumulator.value>0.3*health.max&!talent.weapons_of_order.enabled&!dot.aspect_of_harmony_damage.ticking\nactions+=/celestial_brew,if=(!settings.max_damage||buff.blackout_combo.down)&fight_remains<20&fight_remains>14&buff.aspect_of_harmony_accumulator.value>0.2*health.max\nactions+=/celestial_brew,if=(!settings.max_damage||buff.blackout_combo.down)&buff.aspect_of_harmony_accumulator.value>0.3*health.max&cooldown.weapons_of_order.remains>20&!dot.aspect_of_harmony_damage.ticking\nactions+=/celestial_brew,if=(!settings.max_damage||buff.blackout_combo.down)&(cooldown.celestial_brew.charges_fractional>1.8||(cooldown.celestial_brew.charges_fractional>1.2&cooldown.black_ox_brew.up))\nactions+=/blackout_kick\nactions+=/chi_burst,if=!talent.aspect_of_harmony.enabled||buff.balanced_stratagem_magic.stack>3\nactions+=/weapons_of_order\nactions+=/invoke_niuzao,if=!talent.call_to_arms.enabled\nactions+=/invoke_niuzao,if=talent.call_to_arms.enabled&buff.call_to_arms_invoke_niuzao.down&buff.weapons_of_order.remains<16\nactions+=/rising_sun_kick,if=!talent.fluidity_of_motion.enabled\nactions+=/keg_smash,if=buff.weapons_of_order.up&(debuff.weapons_of_order_debuff.remains<1.8||debuff.weapons_of_order_debuff.stack<3-buff.blackout_combo.up||(buff.weapons_of_order.remains<3-buff.blackout_combo.up&buff.weapons_of_order.remains<1+cooldown.rising_sun_kick.remains))\nactions+=/tiger_palm,if=buff.blackout_combo.up\nactions+=/keg_smash,if=talent.scalding_brew.enabled\nactions+=/spinning_crane_kick,if=talent.charred_passions.enabled&talent.scalding_brew.enabled&buff.charred_passions.up&buff.charred_passions.remains<3&dot.breath_of_fire.remains<9&active_enemies>4\nactions+=/rising_sun_kick,if=talent.fluidity_of_motion.enabled\nactions+=/purifying_brew,if=buff.blackout_combo.down&!(talent.call_to_arms.enabled||talent.invoke_niuzao_the_black_ox.enabled)\nactions+=/purifying_brew,if=buff.blackout_combo.down&(talent.call_to_arms.enabled||talent.invoke_niuzao_the_black_ox.enabled)&(buff.invoke_niuzao_the_black_ox.up||buff.call_to_arms_invoke_niuzao.up)\nactions+=/purifying_brew,if=buff.blackout_combo.down&(talent.call_to_arms.enabled||talent.invoke_niuzao_the_black_ox.enabled)&cooldown.weapons_of_order.remains>10&cooldown.invoke_niuzao_the_black_ox.remains>10\nactions+=/breath_of_fire,if=(buff.charred_passions.down&(!talent.scalding_brew.enabled||active_enemies<5))||!talent.charred_passions.enabled||(dot.breath_of_fire.remains<3&talent.scalding_brew.enabled)\nactions+=/exploding_keg,if=!talent.rushing_jade_wind.enabled||buff.rushing_jade_wind.up\nactions+=/rushing_jade_wind,if=talent.aspect_of_harmony.enabled&((buff.rushing_jade_wind.remains<2.5&buff.rushing_jade_wind.up)||!buff.rushing_jade_wind.up)\nactions+=/keg_smash\nactions+=/rushing_jade_wind,if=!talent.aspect_of_harmony.enabled&((buff.rushing_jade_wind.remains<2.5&buff.rushing_jade_wind.up)||!buff.rushing_jade_wind.up)\nactions+=/tiger_palm,if=energy>40-cooldown.keg_smash.remains*energy.regen\nactions+=/spinning_crane_kick,if=energy>40-cooldown.keg_smash.remains*energy.regen",
},
["Restoration Shaman"] = {
["builtIn"] = true,
["date"] = 20241020,
["spec"] = 264,
["desc"] = "2024-07-30: The War Within",
["profile"] = "actions.precombat+=/earthliving_weapon\nactions.precombat+=/tidecallers_guard\nactions.precombat+=/water_shield,if=buff.water_shield.up+buff.earth_shield.up+buff.lightning_shield.up<1+talent.elemental_orbit.rank||(!buff.water_shield.up&settings.healing_mode)\nactions.precombat+=/lightning_shield,if=(buff.water_shield.up+buff.earth_shield.up+buff.lightning_shield.up<1+talent.elemental_orbit.rank)&settings.second_shield=lightning_shield\nactions.precombat+=/earth_shield,if=(buff.water_shield.up+buff.earth_shield.up+buff.lightning_shield.up<1+talent.elemental_orbit.rank)&settings.second_shield=earth_shield\nactions.precombat+=/earth_elemental\nactions.precombat+=/potion\n\nactions+=/spiritwalkers_grace,moving=1,if=movement.distance>6\n# Interrupt of casts.\nactions+=/wind_shear\nactions+=/call_action_list,name=healing,strict=1,if=settings.healing_mode\nactions+=/potion\nactions+=/use_items\nactions+=/blood_fury\nactions+=/berserking\nactions+=/fireblood\nactions+=/ancestral_call\nactions+=/bag_of_tricks\nactions+=/surging_totem,if=talent.acid_rain\nactions+=/healing_rain,if=!moving&talent.acid_rain\nactions+=/flame_shock,cycle_targets=1,if=active_enemies<3&refreshable\n# actions+=/primordial_wave\nactions+=/lava_burst,if=(active_enemies=1||active_enemies=2&buff.lava_surge.up)&dot.flame_shock.remains>cast_time&cooldown_react\nactions+=/earth_elemental\nactions+=/lightning_bolt,if=spell_targets.chain_lightning<2||!talent.chain_lightning\nactions+=/chain_lightning,if=spell_targets.chain_lightning>1\nactions+=/flame_shock,moving=1\nactions+=/frost_shock,moving=1\n\nactions.healing+=/downpour,if=buff.unleash_life.up||buff.downpour.up&buff.downpour.remains<2\nactions.healing+=/mana_tide_totem,if=mana.pct<85\nactions.healing+=/totemic_recall,if=prev_gcd.earthen_wall_totem\nactions.healing+=/earthen_wall_totem\nactions.healing+=/chain_heal,if=buff.high_tide.up\nactions.healing+=/call_action_list,strict=1,name=unleash,if=buff.unleash_life.up\nactions.healing+=/surging_totem\nactions.healing+=/healing_rain\nactions.healing+=/earth_shield,if=active_dot.earth_shield<1+talent.elemental_orbit.rank&buff.earth_shield.up\nactions.healing+=/earth_shield,if=(!buff.earth_shield.up&settings.second_shield=earth_shield&talent.elemental_orbit.enabled)\nactions.healing+=/healing_stream_totem,if=totem.surging_totem.up&!totem.healing_stream_totem.up\nactions.healing+=/riptide,if=cooldown.riptide.charges=cooldown.riptide.charges_max\nactions.healing+=/unleash_life,if=talent.call_of_the_ancestors.enabled||cooldown.wellspring.remains<2||(cooldown.surging_totem.remains<3||buff.downpour.up&buff.downpour.remains>3)\nactions.healing+=/wellspring\n\nactions.unleash+=/downpour\nactions.unleash+=/wellspring\nactions.unleash+=/riptide",
["version"] = 20241020,
["warnings"] = "The import for 'default' required some automated changes.\nLine 11: Converted 'talent.acid_rain' to 'talent.acid_rain.enabled' (1x).\nLine 12: Converted 'talent.acid_rain' to 'talent.acid_rain.enabled' (1x).\nLine 16: Converted 'talent.chain_lightning' to 'talent.chain_lightning.enabled' (1x).\n\nImported 4 action lists.\n",
["lists"] = {
["precombat"] = {
{
["action"] = "earthliving_weapon",
["enabled"] = true,
},
{
["action"] = "tidecallers_guard",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "buff.water_shield.up + buff.earth_shield.up + buff.lightning_shield.up < 1 + talent.elemental_orbit.rank || ( ! buff.water_shield.up & settings.healing_mode )",
["action"] = "water_shield",
},
{
["enabled"] = true,
["criteria"] = "( buff.water_shield.up + buff.earth_shield.up + buff.lightning_shield.up < 1 + talent.elemental_orbit.rank ) & settings.second_shield = lightning_shield",
["action"] = "lightning_shield",
},
{
["enabled"] = true,
["criteria"] = "( buff.water_shield.up + buff.earth_shield.up + buff.lightning_shield.up < 1 + talent.elemental_orbit.rank ) & settings.second_shield = earth_shield",
["action"] = "earth_shield",
},
{
["action"] = "earth_elemental",
["enabled"] = true,
},
{
["action"] = "potion",
["enabled"] = true,
},
},
["healing"] = {
{
["enabled"] = true,
["criteria"] = "buff.unleash_life.up || buff.downpour.up & buff.downpour.remains < 2",
["action"] = "downpour",
},
{
["enabled"] = true,
["criteria"] = "mana.pct < 85",
["action"] = "mana_tide_totem",
},
{
["enabled"] = true,
["criteria"] = "prev_gcd.earthen_wall_totem",
["action"] = "totemic_recall",
},
{
["action"] = "earthen_wall_totem",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "buff.high_tide.up",
["action"] = "chain_heal",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "buff.unleash_life.up",
["list_name"] = "unleash",
},
{
["action"] = "surging_totem",
["enabled"] = true,
},
{
["action"] = "healing_rain",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "active_dot.earth_shield < 1 + talent.elemental_orbit.rank & buff.earth_shield.up",
["action"] = "earth_shield",
},
{
["enabled"] = true,
["criteria"] = "( ! buff.earth_shield.up & settings.second_shield = earth_shield & talent.elemental_orbit.enabled )",
["action"] = "earth_shield",
},
{
["enabled"] = true,
["criteria"] = "totem.surging_totem.up & ! totem.healing_stream_totem.up",
["action"] = "healing_stream_totem",
},
{
["enabled"] = true,
["criteria"] = "cooldown.riptide.charges = cooldown.riptide.charges_max",
["action"] = "riptide",
},
{
["enabled"] = true,
["criteria"] = "talent.call_of_the_ancestors.enabled || cooldown.wellspring.remains < 2 || ( cooldown.surging_totem.remains < 3 || buff.downpour.up & buff.downpour.remains > 3 )",
["action"] = "unleash_life",
},
{
["action"] = "wellspring",
["enabled"] = true,
},
},
["default"] = {
{
["enabled"] = true,
["enable_moving"] = true,
["action"] = "spiritwalkers_grace",
["criteria"] = "movement.distance > 6",
["moving"] = 1,
},
{
["enabled"] = true,
["description"] = "Interrupt of casts.",
["action"] = "wind_shear",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "settings.healing_mode",
["list_name"] = "healing",
},
{
["action"] = "potion",
["enabled"] = true,
},
{
["action"] = "use_items",
["enabled"] = true,
},
{
["action"] = "blood_fury",
["enabled"] = true,
},
{
["action"] = "berserking",
["enabled"] = true,
},
{
["action"] = "fireblood",
["enabled"] = true,
},
{
["action"] = "ancestral_call",
["enabled"] = true,
},
{
["action"] = "bag_of_tricks",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "talent.acid_rain.enabled",
["action"] = "surging_totem",
},
{
["enabled"] = true,
["criteria"] = "! moving & talent.acid_rain.enabled",
["action"] = "healing_rain",
},
{
["enabled"] = true,
["action"] = "flame_shock",
["criteria"] = "active_enemies < 3 & refreshable",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "( active_enemies = 1 || active_enemies = 2 & buff.lava_surge.up ) & dot.flame_shock.remains > cast_time & cooldown_react",
["action"] = "lava_burst",
["description"] = "actions.default+=/primordial_wave",
},
{
["action"] = "earth_elemental",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "spell_targets.chain_lightning < 2 || ! talent.chain_lightning.enabled",
["action"] = "lightning_bolt",
},
{
["enabled"] = true,
["criteria"] = "spell_targets.chain_lightning > 1",
["action"] = "chain_lightning",
},
{
["moving"] = 1,
["enable_moving"] = true,
["action"] = "flame_shock",
["enabled"] = true,
},
{
["moving"] = 1,
["enable_moving"] = true,
["action"] = "frost_shock",
["enabled"] = true,
},
},
["unleash"] = {
{
["action"] = "downpour",
["enabled"] = true,
},
{
["action"] = "wellspring",
["enabled"] = true,
},
{
["action"] = "riptide",
["enabled"] = true,
},
},
},
["author"] = "Hekili",
},
["Discipline"] = {
["source"] = "https://github.com/simulationcraft/simc/",
["builtIn"] = true,
["date"] = 20250810,
["author"] = "SimC",
["desc"] = "Healer priorities are DPS-focused only\n\n2025-04-23: Remove PTW\n\n2024-07-30: The War Within",
["lists"] = {
["default"] = {
{
["enabled"] = true,
["action"] = "call_action_list",
["list_name"] = "cooldowns",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "! buff.twilight_equilibrium_holy_amp.up & ! buff.twilight_equilibrium_shadow_amp.up",
["var_name"] = "te_none",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "buff.twilight_equilibrium_shadow_amp.up || variable.te_none",
["var_name"] = "te_shadow",
["description"] = "Twilight Equilibrium is buffing shadow damage",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "buff.twilight_equilibrium_holy_amp.up || variable.te_none",
["var_name"] = "te_holy",
["description"] = "Twilight Equilibrium is buffing holy damage",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "talent.shadow_covenant.enabled",
["var_name"] = "long_scov",
["description"] = "Long Shadow covenant is enabled",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "cooldown.shadowfiend.up || buff.shadow_covenant.up",
["var_name"] = "can_enter_scov",
["description"] = "Ready to start shadow covenant phase",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "0",
["var_name"] = "shadow_spells_duration_max",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["value"] = "2",
["var_name"] = "shadow_spells_duration_max",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["value"] = "action.mind_blast.execute_time",
["var_name"] = "shadow_spells_duration_max",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "shadow_spells_duration_max",
["value"] = "action.mind_blast.execute_time",
["description"] = "penance",
["criteria"] = "talent.dark_indulgence.enabled",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["value"] = "action.shadow_word_death.execute_time",
["var_name"] = "shadow_spells_duration_max",
["criteria"] = "talent.shadow_word_death.enabled",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["value"] = "action.shadow_word_death.execute_time",
["var_name"] = "shadow_spells_duration_max",
["criteria"] = "talent.shadow_word_death.enabled & talent.death_and_madness.enabled & target.health.pct < 20",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["value"] = "action.mindgames.execute_time",
["var_name"] = "shadow_spells_duration_max",
["criteria"] = "talent.mindgames.enabled",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["value"] = "action.divine_star.execute_time",
["var_name"] = "shadow_spells_duration_max",
["criteria"] = "talent.divine_star.enabled",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["value"] = "action.halo.execute_time",
["var_name"] = "shadow_spells_duration_max",
["criteria"] = "talent.halo.enabled",
},
{
["enabled"] = true,
["op"] = "floor",
["action"] = "variable",
["value"] = "( buff.shadow_covenant.duration - variable.shadow_spells_duration_max ) / gcd.max",
["var_name"] = "max_te_holy",
["description"] = "(scov duration - shadow spells duration) / GCD time = estimate of holy spells we should need to use during the next scov window  Long scov example: (15 - 12) / 1.5 = 2 GCDs to spend on holy spells  Short scov example: (7 - 12) / 1.5 = -3.3 GCDs to spend on holy spells (none)",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "0",
["var_name"] = "remaining_te_holy",
["description"] = "Counting variable, the number of non-fractional remaining holy casts available",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["value"] = "variable.max_te_holy",
["var_name"] = "remaining_te_holy",
},
{
["enabled"] = true,
["op"] = "setif",
["description"] = "TODO: duration_expected is buggy on penance/dark reprimand, using a static reduction as a stand-in for now",
["value"] = "2",
["var_name"] = "expected_penance_reduction",
["action"] = "variable",
["value_else"] = "0",
["criteria"] = "talent.train_of_thought.enabled",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "0",
["var_name"] = "shadow_spells_duration",
["description"] = "Calculate how much cast time worth of shadow spells we have currently available. We use shadow_spells_duration to determine if we have time to weave in any holy spells to proc twilight equilibrium.",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "shadow_spells_duration",
["value"] = "2",
["description"] = "Schism Penance",
["criteria"] = "cooldown.penance.up || ( ( cooldown.penance.remains - variable.expected_penance_reduction ) < buff.shadow_covenant.remains )",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "shadow_spells_duration",
["value"] = "action.mindgames.execute_time",
["description"] = "Mindgames",
["criteria"] = "cooldown.mindgames.up || ( cooldown.mindgames.remains_expected < buff.shadow_covenant.remains )",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "shadow_spells_duration",
["value"] = "action.shadow_word_death.execute_time",
["description"] = "We always get the first SW:D",
["criteria"] = "cooldown.shadow_word_death.up || ( cooldown.shadow_word_death.remains < buff.shadow_covenant.remains )",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "shadow_spells_duration",
["value"] = "action.shadow_word_death.execute_time",
["description"] = "Second SW:D only when talented and target health in execute range",
["criteria"] = "( cooldown.shadow_word_death.up || ( cooldown.shadow_word_death.remains < buff.shadow_covenant.remains ) ) & ( target.health.pct < 20 || target.time_to_pct_20 < cooldown.shadow_word_death.remains ) & talent.death_and_madness.enabled",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "shadow_spells_duration",
["value"] = "action.mind_blast.charges * action.mind_blast.execute_time",
["description"] = "Add any whole charges of mind blast",
["criteria"] = "action.mind_blast.charges >= 1",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "shadow_spells_duration",
["value"] = "action.mind_blast.execute_time",
["description"] = "Add any fractional charges of mindblast that will recharge in time",
["criteria"] = "( ( action.mind_blast.charges_fractional >= 1 & action.mind_blast.charges_fractional < 2 ) & ( ( ( 1 - ( action.mind_blast.charges_fractional - 1 ) ) * action.mind_blast.recharge_time ) < buff.shadow_covenant.remains ) ) || ( ( action.mind_blast.charges_fractional < 1 ) & ( ( ( 1 - action.mind_blast.charges_fractional ) * action.mind_blast.recharge_time ) < buff.shadow_covenant.remains ) )",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "shadow_spells_duration",
["value"] = "action.divine_star.execute_time",
["description"] = "Divine Star",
["criteria"] = "cooldown.divine_star.up || ( cooldown.divine_star.remains < buff.shadow_covenant.remains )",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "shadow_spells_duration",
["value"] = "action.halo.execute_time",
["description"] = "Halo",
["criteria"] = "cooldown.halo.up || ( cooldown.halo.remains < buff.shadow_covenant.remains )",
},
{
["enabled"] = true,
["op"] = "setif",
["description"] = "Determine if we have enough scov time remaining to weave in a twilight equilibrium activation. If we don't have TE talented, always false. Using smite's execution time to represent a worst-case scenario.",
["value"] = "( buff.shadow_covenant.remains - variable.shadow_spells_duration ) > action.smite.execute_time",
["var_name"] = "should_te",
["action"] = "variable",
["value_else"] = "0",
["criteria"] = "talent.twilight_equilibrium.enabled",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "cooldown.shadowfiend.remains + action.shadowfiend.execute_time",
["var_name"] = "next_penance_time",
["description"] = "First casts should always be HD prep->covenant->schism->HD dark reprimand",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "next_penance_time",
["value"] = "gcd.max",
["description"] = "If we have enough scov duration, add a holy cast to proc twilight equilibrium",
["criteria"] = "variable.remaining_te_holy > 0",
},
{
["enabled"] = true,
["op"] = "sub",
["action"] = "variable",
["value"] = "1",
["var_name"] = "remaining_te_holy",
["description"] = "Reduce our counting variable",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "( cooldown.penance.duration - variable.expected_penance_reduction ) < variable.next_penance_time",
["var_name"] = "can_penance",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "variable.next_penance_time + 2",
["var_name"] = "next_swd_time",
["description"] = "Shadow Word: Death  SW:D is better than other spells if we are in execute phase.",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "next_swd_time",
["value"] = "gcd.max",
["description"] = "If we have enough scov duration, add a holy cast to proc twilight equilibrium",
["criteria"] = "variable.remaining_te_holy > 0",
},
{
["enabled"] = true,
["op"] = "sub",
["action"] = "variable",
["value"] = "1",
["var_name"] = "remaining_te_holy",
["description"] = "Reduce our counting variable",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "next_swd_time",
["value"] = "action.mindgames.execute_time",
["description"] = "indgame  ette ha W:   ren'  xecut has n  av hattere erception  on' av xpiatio",
["criteria"] = "( ( talent.mindgames.enabled & talent.shattered_perceptions.enabled ) || ( talent.mindgames.enabled & ! talent.expiation.enabled ) ) & target.health.pct >= 20",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "next_swd_time",
["value"] = "action.mind_blast.execute_time",
["description"] = "Mind blast is better than SW:D if we aren't in execute",
["criteria"] = "target.health.pct >= 20",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "next_swd_time",
["value"] = "action.mind_blast.execute_time",
["description"] = "Second mindblast when talented",
["criteria"] = "target.health.pct >= 20 & talent.dark_indulgence.enabled",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "next_swd_time",
["value"] = "action.divine_star.execute_time",
["description"] = "Divine Star and halo are better than SW:D if we aren't in execute and don't have expiation",
["criteria"] = "talent.divine_star.enabled & target.health.pct >= 20 & ! talent.expiation.enabled",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["value"] = "action.halo.execute_time",
["var_name"] = "next_swd_time",
["criteria"] = "talent.halo.enabled & target.health.pct >= 20 & ! talent.expiation.enabled",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "cooldown.shadow_word_death.duration_expected < variable.next_swd_time",
["var_name"] = "can_swd",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "variable.next_penance_time + 2",
["var_name"] = "next_mind_blast_time",
["description"] = "Mindblast  Mindblast is better than other spells if we aren't in execute phase",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "next_mind_blast_time",
["value"] = "gcd.max",
["description"] = "If we have enough scov duration, add a holy cast to proc twilight equilibrium",
["criteria"] = "variable.remaining_te_holy > 0",
},
{
["enabled"] = true,
["op"] = "sub",
["action"] = "variable",
["value"] = "1",
["var_name"] = "remaining_te_holy",
["description"] = "Reduce our counting variable",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "next_mind_blast_time",
["value"] = "action.shadow_word_death.execute_time",
["description"] = "Add SW:D if we're in execute phase",
["criteria"] = "target.health.pct < 20",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "next_mind_blast_time",
["value"] = "action.shadow_word_death.execute_time",
["description"] = "Add a second SW:D if we have death and madness",
["criteria"] = "talent.death_and_madness.enabled & target.health.pct < 20",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "next_mind_blast_time",
["value"] = "action.mindgames.execute_time",
["description"] = "Add mindgames if we have it talented and don't have expiation",
["criteria"] = "talent.mindgames.enabled & ! talent.expiation.enabled",
},
{
["enabled"] = true,
["op"] = "setif",
["description"] = "TODO: This is a little bit simplistic, requiring both charges of mindblast to be available at the moment the first charge needs to be used. Slight optimization should be possible.",
["value"] = "( ( action.mind_blast.max_charges - ( action.mind_blast.charges_fractional - 1 ) ) * action.mind_blast.recharge_time ) < variable.next_mind_blast_time",
["var_name"] = "can_mind_blast",
["action"] = "variable",
["value_else"] = "0",
["criteria"] = "action.mind_blast.charges_fractional >= 1",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "variable.next_penance_time + 2",
["var_name"] = "next_mindgames_time",
["description"] = "Mindgames  Mindgames is a better option than other spells if we aren't in execute and don't have expiation",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "next_mindgames_time",
["value"] = "gcd.max",
["description"] = "If we have enough scov duration, add a holy cast to proc twilight equilibrium",
["criteria"] = "variable.remaining_te_holy > 0",
},
{
["enabled"] = true,
["op"] = "sub",
["action"] = "variable",
["value"] = "1",
["var_name"] = "remaining_te_holy",
["description"] = "Reduce our counting variable",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "next_mindgames_time",
["value"] = "action.shadow_word_death.execute_time",
["description"] = "SW:D is better than mindgames in execute phase, or outside of execute phase if we don't have shattered perceptions but do have expiation",
["criteria"] = "target.health.pct < 20 || ( talent.expiation.enabled & ! talent.shattered_perceptions.enabled )",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "next_mindgames_time",
["value"] = "action.shadow_word_death.execute_time",
["description"] = "Add a second SW:D if we have death and madness",
["criteria"] = "target.health.pct < 20 & talent.death_and_madness.enabled",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "next_mindgames_time",
["value"] = "action.mind_blast.execute_time",
["description"] = "Mind blast is better than mindgames if we have expiation",
["criteria"] = "talent.expiation.enabled",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "next_mindgames_time",
["value"] = "action.mind_blast.execute_time",
["description"] = "Second mindblast when talented",
["criteria"] = "talent.expiation.enabled & talent.dark_indulgence.enabled",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "cooldown.mindgames.duration_expected < variable.next_mindgames_time",
["var_name"] = "can_mindgames",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "variable.next_penance_time + 2",
["var_name"] = "next_divine_star_time",
["description"] = "Divine Star",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "next_divine_star_time",
["value"] = "gcd.max",
["description"] = "If we have enough scov duration, add a holy cast to proc twilight equilibrium",
["criteria"] = "variable.remaining_te_holy > 0",
},
{
["enabled"] = true,
["op"] = "sub",
["action"] = "variable",
["value"] = "1",
["var_name"] = "remaining_te_holy",
["description"] = "Reduce our counting variable",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "next_divine_star_time",
["value"] = "action.shadow_word_death.execute_time",
["description"] = "SW:D is better unless outside of execute phase when expiation is untalented",
["criteria"] = "target.health.pct < 20 || talent.expiation.enabled",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "next_divine_star_time",
["value"] = "action.shadow_word_death.execute_time",
["description"] = "Add a second SW:D if we have death and madness",
["criteria"] = "target.health.pct < 20 & talent.death_and_madness.enabled",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "next_divine_star_time",
["value"] = "action.mind_blast.execute_time",
["description"] = "Mind blast is always better",
["criteria"] = "talent.expiation.enabled",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "next_divine_star_time",
["value"] = "action.mind_blast.execute_time",
["description"] = "Second mindblast when talented",
["criteria"] = "talent.dark_indulgence.enabled",
},
{
["enabled"] = true,
["op"] = "add",
["action"] = "variable",
["var_name"] = "next_divine_star_time",
["value"] = "action.mindgames.execute_time",
["description"] = "Mindgames is always better",
["criteria"] = "talent.mindgames.enabled",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "cooldown.divine_star.duration < variable.next_divine_star_time",
["var_name"] = "can_divine_star",
},
{
["enabled"] = true,
["action"] = "run_action_list",
["criteria"] = "talent.shadow_covenant.enabled & cooldown.mindbender.up",
["list_name"] = "scov_prep",
},
{
["enabled"] = true,
["action"] = "run_action_list",
["criteria"] = "variable.long_scov & variable.can_enter_scov",
["list_name"] = "long_scov",
},
{
["enabled"] = true,
["criteria"] = "( target.time_to_die > ( 0.3 * dot.shadow_word_pain.duration ) ) & ( ! ticking || ( refreshable & ( ! talent.painful_punishment.enabled || ( talent.painful_punishment.enabled & ( dot.shadow_word_pain.remains < ( cooldown.penance.remains - variable.expected_penance_reduction ) ) ) ) ) )",
["action"] = "shadow_word_pain",
},
{
["enabled"] = true,
["criteria"] = "( ! talent.shadow_covenant.enabled || variable.can_swd ) & target.health.pct < 20",
["action"] = "shadow_word_death",
},
{
["enabled"] = true,
["criteria"] = "talent.dark_indulgence.enabled & buff.power_of_the_dark_side.down & cooldown.penance.remains < gcd.max",
["action"] = "mind_blast",
},
{
["enabled"] = true,
["criteria"] = "( ! talent.shadow_covenant.enabled || variable.can_penance )",
["action"] = "penance",
},
{
["enabled"] = true,
["criteria"] = "! talent.shadow_covenant.enabled || variable.can_mind_blast",
["action"] = "mind_blast",
},
{
["enabled"] = true,
["criteria"] = "( ! talent.shadow_covenant.enabled || variable.can_mindgames ) & talent.shattered_perceptions.enabled",
["action"] = "mindgames",
},
{
["enabled"] = true,
["criteria"] = "( ! talent.shadow_covenant.enabled || variable.can_swd ) & talent.expiation.enabled & ( target.time_to_pct_20 > ( 0.5 * cooldown.shadow_word_death.duration ) )",
["action"] = "shadow_word_death",
},
{
["enabled"] = true,
["criteria"] = "( ! talent.shadow_covenant.enabled || variable.can_mindgames ) & ! talent.shattered_perceptions.enabled",
["action"] = "mindgames",
},
{
["enabled"] = true,
["criteria"] = "! talent.shadow_covenant.enabled",
["action"] = "halo",
},
{
["enabled"] = true,
["criteria"] = "( ! talent.shadow_covenant.enabled || variable.can_divine_star )",
["action"] = "divine_star",
},
{
["enabled"] = true,
["criteria"] = "( ! talent.shadow_covenant.enabled || variable.can_swd ) & ( target.time_to_pct_20 > ( 0.5 * cooldown.shadow_word_death.duration ) )",
["action"] = "shadow_word_death",
},
{
["action"] = "smite",
["enabled"] = true,
},
},
["precombat"] = {
{
["action"] = "power_word_fortitude",
["enabled"] = true,
},
},
["cooldowns"] = {
{
["enabled"] = true,
["criteria"] = "! buff.shadow_covenant.up",
["action"] = "shadowfiend",
["description"] = "Don't use pets during shadow covenant windows, wasting GCDs -- is this even possible anymore?",
},
{
["enabled"] = true,
["criteria"] = "! talent.shadow_covenant.enabled || ( talent.shadow_covenant.enabled & ( cooldown.shadowfiend.up || buff.shadow_covenant.up ) )",
["action"] = "power_infusion",
["description"] = "hold PI to use with shadow covenant if we have it",
},
{
["enabled"] = true,
["criteria"] = "buff.power_infusion.up",
["action"] = "potion",
["description"] = "sync potion with PI",
},
{
["enabled"] = true,
["criteria"] = "buff.power_infusion.up || cooldown.power_infusion.remains >= action_cooldown",
["action"] = "use_items",
["description"] = "sync trinkets with PI",
},
},
["scov_prep"] = {
{
["enabled"] = true,
["criteria"] = "cooldown.shadowfiend.remains < cast_time",
["action"] = "power_word_radiance",
["description"] = "Prepare to enter shadow covenant",
},
},
["long_scov"] = {
{
["enabled"] = true,
["description"] = "Long Shadow Covenant",
["action"] = "mindbender",
},
{
["enabled"] = true,
["criteria"] = "( ! variable.should_te || ( variable.should_te & variable.te_shadow ) ) & spell_targets.halo >= 3",
["action"] = "halo",
},
{
["enabled"] = true,
["criteria"] = "( ! variable.should_te || ( variable.should_te & variable.te_shadow ) ) & spell_targets.divine_star >= 3",
["action"] = "divine_star",
},
{
["enabled"] = true,
["criteria"] = "target.health.pct < 20 & talent.expiation.enabled & ( ! variable.should_te || ( variable.should_te & variable.te_shadow ) )",
["action"] = "shadow_word_death",
},
{
["enabled"] = true,
["criteria"] = "( ! variable.should_te || ( variable.should_te & variable.te_shadow ) )",
["action"] = "penance",
},
{
["enabled"] = true,
["criteria"] = "( ! variable.should_te || ( variable.should_te & variable.te_shadow ) ) & spell_targets.halo >= 2",
["action"] = "halo",
},
{
["enabled"] = true,
["criteria"] = "( ! variable.should_te || ( variable.should_te & variable.te_shadow ) ) & spell_targets.divine_star >= 2",
["action"] = "divine_star",
},
{
["enabled"] = true,
["criteria"] = "target.health.pct < 20 & ( ! variable.should_te || ( variable.should_te & variable.te_shadow ) )",
["action"] = "shadow_word_death",
},
{
["enabled"] = true,
["criteria"] = "talent.expiation.enabled & ( ! variable.should_te || ( variable.should_te & variable.te_shadow ) )",
["action"] = "mind_blast",
},
{
["enabled"] = true,
["criteria"] = "talent.shattered_perceptions.enabled & ( ! variable.should_te || ( variable.should_te & variable.te_shadow ) )",
["action"] = "mindgames",
},
{
["enabled"] = true,
["criteria"] = "talent.expiation.enabled & ( ! variable.should_te || ( variable.should_te & variable.te_shadow ) ) & ( target.time_to_pct_20 > buff.shadow_covenant.remains )",
["action"] = "shadow_word_death",
},
{
["enabled"] = true,
["criteria"] = "( ! variable.should_te || ( variable.should_te & variable.te_shadow ) )",
["action"] = "mindgames",
},
{
["enabled"] = true,
["criteria"] = "( ! variable.should_te || ( variable.should_te & variable.te_shadow ) )",
["action"] = "mind_blast",
},
{
["enabled"] = true,
["criteria"] = "( ! variable.should_te || ( variable.should_te & variable.te_shadow ) )",
["action"] = "halo",
},
{
["enabled"] = true,
["criteria"] = "( ! variable.should_te || ( variable.should_te & variable.te_shadow ) )",
["action"] = "divine_star",
},
{
["enabled"] = true,
["criteria"] = "( ! variable.should_te || ( variable.should_te & variable.te_shadow ) ) & ( target.time_to_pct_20 > buff.shadow_covenant.remains )",
["action"] = "shadow_word_death",
},
{
["enabled"] = true,
["criteria"] = "( ! variable.should_te || ( variable.should_te & variable.te_holy ) )",
["action"] = "smite",
},
{
["enabled"] = true,
["description"] = "just in case we run out of shadow spells with the above conditions",
["action"] = "penance",
},
{
["action"] = "mindgames",
["enabled"] = true,
},
{
["action"] = "mind_blast",
["enabled"] = true,
},
{
["action"] = "shadow_word_death",
["enabled"] = true,
},
{
["action"] = "divine_star",
["enabled"] = true,
},
{
["action"] = "halo",
["enabled"] = true,
},
{
["action"] = "smite",
["enabled"] = true,
},
},
},
["version"] = 20250810,
["warnings"] = "The import for 'default' required some automated changes.\nLine 16: Converted operations in '(buff.shadow_covenant.duration-variable.shadow_spells_duration_max)%gcd.max' to '(buff.shadow_covenant.duration-variable.shadow_spells_duration_max)/gcd.max'.\n\nImported 5 action lists.\n",
["profile"] = "actions.precombat+=/power_word_fortitude\n\nactions+=/call_action_list,name=cooldowns\nactions+=/variable,name=te_none,op=set,value=!buff.twilight_equilibrium_holy_amp.up&!buff.twilight_equilibrium_shadow_amp.up\n# Twilight Equilibrium is buffing shadow damage\nactions+=/variable,name=te_shadow,op=set,value=buff.twilight_equilibrium_shadow_amp.up||variable.te_none\n# Twilight Equilibrium is buffing holy damage\nactions+=/variable,name=te_holy,op=set,value=buff.twilight_equilibrium_holy_amp.up||variable.te_none\n# Long Shadow covenant is enabled\nactions+=/variable,name=long_scov,op=set,value=talent.shadow_covenant\n# Ready to start shadow covenant phase\nactions+=/variable,name=can_enter_scov,op=set,value=cooldown.shadowfiend.up||buff.shadow_covenant.up\nactions+=/variable,name=shadow_spells_duration_max,op=set,value=0\n## actions+=/variable,name=shadow_spells_duration_max,op=add,value=action.schism.execute_time,if=talent.schism\nactions+=/variable,name=shadow_spells_duration_max,op=add,value=2\nactions+=/variable,name=shadow_spells_duration_max,op=add,value=action.mind_blast.execute_time\n# penance\nactions+=/variable,name=shadow_spells_duration_max,op=add,value=action.mind_blast.execute_time,if=talent.dark_indulgence\nactions+=/variable,name=shadow_spells_duration_max,op=add,value=action.shadow_word_death.execute_time,if=talent.shadow_word_death\nactions+=/variable,name=shadow_spells_duration_max,op=add,value=action.shadow_word_death.execute_time,if=talent.shadow_word_death&talent.death_and_madness&target.health.pct<20\nactions+=/variable,name=shadow_spells_duration_max,op=add,value=action.mindgames.execute_time,if=talent.mindgames\nactions+=/variable,name=shadow_spells_duration_max,op=add,value=action.divine_star.execute_time,if=talent.divine_star\nactions+=/variable,name=shadow_spells_duration_max,op=add,value=action.halo.execute_time,if=talent.halo\n# (scov duration - shadow spells duration) / GCD time = estimate of holy spells we should need to use during the next scov window  Long scov example: (15 - 12) / 1.5 = 2 GCDs to spend on holy spells  Short scov example: (7 - 12) / 1.5 = -3.3 GCDs to spend on holy spells (none)\nactions+=/variable,name=max_te_holy,op=floor,value=(buff.shadow_covenant.duration-variable.shadow_spells_duration_max)%gcd.max\n# Counting variable, the number of non-fractional remaining holy casts available\nactions+=/variable,name=remaining_te_holy,op=set,value=0\nactions+=/variable,name=remaining_te_holy,op=add,value=variable.max_te_holy\n# TODO: duration_expected is buggy on penance/dark reprimand, using a static reduction as a stand-in for now\nactions+=/variable,name=expected_penance_reduction,op=setif,condition=talent.train_of_thought,value=2,value_else=0\n# Calculate how much cast time worth of shadow spells we have currently available. We use shadow_spells_duration to determine if we have time to weave in any holy spells to proc twilight equilibrium.\nactions+=/variable,name=shadow_spells_duration,op=set,value=0\n# Schism\n## actions+=/variable,name=shadow_spells_duration,op=add,value=action.schism.execute_time,if=cooldown.schism.up||(cooldown.schism.remains<buff.shadow_covenant.remains)\n# Penance\nactions+=/variable,name=shadow_spells_duration,op=add,value=2,if=cooldown.penance.up||((cooldown.penance.remains-variable.expected_penance_reduction)<buff.shadow_covenant.remains)\n# Mindgames\nactions+=/variable,name=shadow_spells_duration,op=add,value=action.mindgames.execute_time,if=cooldown.mindgames.up||(cooldown.mindgames.remains_expected<buff.shadow_covenant.remains)\n# We always get the first SW:D\nactions+=/variable,name=shadow_spells_duration,op=add,value=action.shadow_word_death.execute_time,if=cooldown.shadow_word_death.up||(cooldown.shadow_word_death.remains<buff.shadow_covenant.remains)\n# Second SW:D only when talented and target health in execute range\nactions+=/variable,name=shadow_spells_duration,op=add,value=action.shadow_word_death.execute_time,if=(cooldown.shadow_word_death.up||(cooldown.shadow_word_death.remains<buff.shadow_covenant.remains))&(target.health.pct<20||target.time_to_pct_20<cooldown.shadow_word_death.remains)&talent.death_and_madness\n# Add any whole charges of mind blast\nactions+=/variable,name=shadow_spells_duration,op=add,value=action.mind_blast.charges*action.mind_blast.execute_time,if=action.mind_blast.charges>=1\n# Add any fractional charges of mindblast that will recharge in time\nactions+=/variable,name=shadow_spells_duration,op=add,value=action.mind_blast.execute_time,if=((action.mind_blast.charges_fractional>=1&action.mind_blast.charges_fractional<2)&(((1-(action.mind_blast.charges_fractional-1))*action.mind_blast.recharge_time)<buff.shadow_covenant.remains))||((action.mind_blast.charges_fractional<1)&(((1-action.mind_blast.charges_fractional)*action.mind_blast.recharge_time)<buff.shadow_covenant.remains))\n# Divine Star\nactions+=/variable,name=shadow_spells_duration,op=add,value=action.divine_star.execute_time,if=cooldown.divine_star.up||(cooldown.divine_star.remains<buff.shadow_covenant.remains)\n# Halo\nactions+=/variable,name=shadow_spells_duration,op=add,value=action.halo.execute_time,if=cooldown.halo.up||(cooldown.halo.remains<buff.shadow_covenant.remains)\n# Determine if we have enough scov time remaining to weave in a twilight equilibrium activation. If we don't have TE talented, always false. Using smite's execution time to represent a worst-case scenario.\nactions+=/variable,name=should_te,op=setif,condition=talent.twilight_equilibrium,value=(buff.shadow_covenant.remains-variable.shadow_spells_duration)>action.smite.execute_time,value_else=0\n\n# First casts should always be HD prep->covenant->schism->HD dark reprimand\nactions+=/variable,name=next_penance_time,op=set,value=cooldown.shadowfiend.remains+action.shadowfiend.execute_time\n# If we have enough scov duration, add a holy cast to proc twilight equilibrium\nactions+=/variable,name=next_penance_time,op=add,value=gcd.max,if=variable.remaining_te_holy>0\n# Reduce our counting variable\nactions+=/variable,name=remaining_te_holy,op=sub,value=1\nactions+=/variable,name=can_penance,op=set,value=(cooldown.penance.duration-variable.expected_penance_reduction)<variable.next_penance_time\n# Shadow Word: Death  SW:D is better than other spells if we are in execute phase.\nactions+=/variable,name=next_swd_time,op=set,value=variable.next_penance_time+2\n# If we have enough scov duration, add a holy cast to proc twilight equilibrium\nactions+=/variable,name=next_swd_time,op=add,value=gcd.max,if=variable.remaining_te_holy>0\n# Reduce our counting variable\nactions+=/variable,name=remaining_te_holy,op=sub,value=1\n# indgame  ette ha W:   ren'  xecut has n  av hattere erception  on' av xpiatio\nactions+=/variable,name=next_swd_time,op=add,value=action.mindgames.execute_time,if=((talent.mindgames&talent.shattered_perceptions)||(talent.mindgames&!talent.expiation))&target.health.pct>=20\n# Mind blast is better than SW:D if we aren't in execute\nactions+=/variable,name=next_swd_time,op=add,value=action.mind_blast.execute_time,if=target.health.pct>=20\n# Second mindblast when talented\nactions+=/variable,name=next_swd_time,op=add,value=action.mind_blast.execute_time,if=target.health.pct>=20&talent.dark_indulgence\n# Divine Star and halo are better than SW:D if we aren't in execute and don't have expiation\nactions+=/variable,name=next_swd_time,op=add,value=action.divine_star.execute_time,if=talent.divine_star&target.health.pct>=20&!talent.expiation\nactions+=/variable,name=next_swd_time,op=add,value=action.halo.execute_time,if=talent.halo&target.health.pct>=20&!talent.expiation\nactions+=/variable,name=can_swd,op=set,value=cooldown.shadow_word_death.duration_expected<variable.next_swd_time\n# Mindblast  Mindblast is better than other spells if we aren't in execute phase\nactions+=/variable,name=next_mind_blast_time,op=set,value=variable.next_penance_time+2\n# If we have enough scov duration, add a holy cast to proc twilight equilibrium\nactions+=/variable,name=next_mind_blast_time,op=add,value=gcd.max,if=variable.remaining_te_holy>0\n# Reduce our counting variable\nactions+=/variable,name=remaining_te_holy,op=sub,value=1\n# Add SW:D if we're in execute phase\nactions+=/variable,name=next_mind_blast_time,op=add,value=action.shadow_word_death.execute_time,if=target.health.pct<20\n# Add a second SW:D if we have death and madness\nactions+=/variable,name=next_mind_blast_time,op=add,value=action.shadow_word_death.execute_time,if=talent.death_and_madness&target.health.pct<20\n# Add mindgames if we have it talented and don't have expiation\nactions+=/variable,name=next_mind_blast_time,op=add,value=action.mindgames.execute_time,if=talent.mindgames&!talent.expiation\n# TODO: This is a little bit simplistic, requiring both charges of mindblast to be available at the moment the first charge needs to be used. Slight optimization should be possible.\nactions+=/variable,name=can_mind_blast,op=setif,condition=action.mind_blast.charges_fractional>=1,value=((action.mind_blast.max_charges-(action.mind_blast.charges_fractional-1))*action.mind_blast.recharge_time)<variable.next_mind_blast_time,value_else=0\n# Mindgames  Mindgames is a better option than other spells if we aren't in execute and don't have expiation\nactions+=/variable,name=next_mindgames_time,op=set,value=variable.next_penance_time+2\n# If we have enough scov duration, add a holy cast to proc twilight equilibrium\nactions+=/variable,name=next_mindgames_time,op=add,value=gcd.max,if=variable.remaining_te_holy>0\n# Reduce our counting variable\nactions+=/variable,name=remaining_te_holy,op=sub,value=1\n# SW:D is better than mindgames in execute phase, or outside of execute phase if we don't have shattered perceptions but do have expiation\nactions+=/variable,name=next_mindgames_time,op=add,value=action.shadow_word_death.execute_time,if=target.health.pct<20||(talent.expiation&!talent.shattered_perceptions)\n# Add a second SW:D if we have death and madness\nactions+=/variable,name=next_mindgames_time,op=add,value=action.shadow_word_death.execute_time,if=target.health.pct<20&talent.death_and_madness\n# Mind blast is better than mindgames if we have expiation\nactions+=/variable,name=next_mindgames_time,op=add,value=action.mind_blast.execute_time,if=talent.expiation\n# Second mindblast when talented\nactions+=/variable,name=next_mindgames_time,op=add,value=action.mind_blast.execute_time,if=talent.expiation&talent.dark_indulgence\nactions+=/variable,name=can_mindgames,op=set,value=cooldown.mindgames.duration_expected<variable.next_mindgames_time\n# Divine Star\nactions+=/variable,name=next_divine_star_time,op=set,value=variable.next_penance_time+2\n# If we have enough scov duration, add a holy cast to proc twilight equilibrium\nactions+=/variable,name=next_divine_star_time,op=add,value=gcd.max,if=variable.remaining_te_holy>0\n# Reduce our counting variable\nactions+=/variable,name=remaining_te_holy,op=sub,value=1\n# SW:D is better unless outside of execute phase when expiation is untalented\nactions+=/variable,name=next_divine_star_time,op=add,value=action.shadow_word_death.execute_time,if=target.health.pct<20||talent.expiation\n# Add a second SW:D if we have death and madness\nactions+=/variable,name=next_divine_star_time,op=add,value=action.shadow_word_death.execute_time,if=target.health.pct<20&talent.death_and_madness\n# Mind blast is always better\nactions+=/variable,name=next_divine_star_time,op=add,value=action.mind_blast.execute_time,if=talent.expiation\n# Second mindblast when talented\nactions+=/variable,name=next_divine_star_time,op=add,value=action.mind_blast.execute_time,if=talent.dark_indulgence\n# Mindgames is always better\nactions+=/variable,name=next_divine_star_time,op=add,value=action.mindgames.execute_time,if=talent.mindgames\nactions+=/variable,name=can_divine_star,op=set,value=cooldown.divine_star.duration<variable.next_divine_star_time\nactions+=/run_action_list,name=scov_prep,if=talent.shadow_covenant&cooldown.mindbender.up\n## actions+=/run_action_list,name=short_scov,if=variable.short_scov&variable.can_enter_scov\nactions+=/run_action_list,name=long_scov,if=variable.long_scov&variable.can_enter_scov\nactions+=/shadow_word_pain,if=(target.time_to_die>(0.3*dot.shadow_word_pain.duration))&(!ticking||(refreshable&(!talent.painful_punishment||(talent.painful_punishment&(dot.shadow_word_pain.remains<(cooldown.penance.remains-variable.expected_penance_reduction))))))\n## actions+=/schism,if=!talent.shadow_covenant\nactions+=/shadow_word_death,if=(!talent.shadow_covenant||variable.can_swd)&target.health.pct<20\nactions+=/mind_blast,if=talent.dark_indulgence&buff.power_of_the_dark_side.down&cooldown.penance.remains<gcd.max\nactions+=/penance,if=(!talent.shadow_covenant||variable.can_penance)\n## # For DPS, Lights wrath should always be used outside of scov when you take wrath unleashed to maximize the number of smites it buffs. In a real raid setting, you may want to cast it at the beginning of a scov cycle for additional healing.\n## actions+=/lights_wrath,if=talent.wrath_unleashed\nactions+=/mind_blast,if=!talent.shadow_covenant||variable.can_mind_blast\nactions+=/mindgames,if=(!talent.shadow_covenant||variable.can_mindgames)&talent.shattered_perceptions\nactions+=/shadow_word_death,if=(!talent.shadow_covenant||variable.can_swd)&talent.expiation&(target.time_to_pct_20>(0.5*cooldown.shadow_word_death.duration))\nactions+=/mindgames,if=(!talent.shadow_covenant||variable.can_mindgames)&!talent.shattered_perceptions\nactions+=/halo,if=!talent.shadow_covenant\nactions+=/divine_star,if=(!talent.shadow_covenant||variable.can_divine_star)\n## actions+=/power_word_solace\nactions+=/shadow_word_death,if=(!talent.shadow_covenant||variable.can_swd)&(target.time_to_pct_20>(0.5*cooldown.shadow_word_death.duration))\nactions+=/smite\n\n# Prepare to enter shadow covenant\nactions.scov_prep+=/power_word_radiance,if=cooldown.shadowfiend.remains<cast_time\n\n# Long Shadow Covenant\nactions.long_scov+=/mindbender\n## actions.long_scov+=/schism\nactions.long_scov+=/halo,if=(!variable.should_te||(variable.should_te&variable.te_shadow))&spell_targets.halo>=3\nactions.long_scov+=/divine_star,if=(!variable.should_te||(variable.should_te&variable.te_shadow))&spell_targets.divine_star>=3\nactions.long_scov+=/shadow_word_death,if=target.health.pct<20&talent.expiation&(!variable.should_te||(variable.should_te&variable.te_shadow))\nactions.long_scov+=/penance,if=(!variable.should_te||(variable.should_te&variable.te_shadow))\nactions.long_scov+=/halo,if=(!variable.should_te||(variable.should_te&variable.te_shadow))&spell_targets.halo>=2\nactions.long_scov+=/divine_star,if=(!variable.should_te||(variable.should_te&variable.te_shadow))&spell_targets.divine_star>=2\nactions.long_scov+=/shadow_word_death,if=target.health.pct<20&(!variable.should_te||(variable.should_te&variable.te_shadow))\nactions.long_scov+=/mind_blast,if=talent.expiation&(!variable.should_te||(variable.should_te&variable.te_shadow))\nactions.long_scov+=/mindgames,if=talent.shattered_perceptions&(!variable.should_te||(variable.should_te&variable.te_shadow))\nactions.long_scov+=/shadow_word_death,if=talent.expiation&(!variable.should_te||(variable.should_te&variable.te_shadow))&(target.time_to_pct_20>buff.shadow_covenant.remains)\nactions.long_scov+=/mindgames,if=(!variable.should_te||(variable.should_te&variable.te_shadow))\nactions.long_scov+=/mind_blast,if=(!variable.should_te||(variable.should_te&variable.te_shadow))\nactions.long_scov+=/halo,if=(!variable.should_te||(variable.should_te&variable.te_shadow))\nactions.long_scov+=/divine_star,if=(!variable.should_te||(variable.should_te&variable.te_shadow))\nactions.long_scov+=/shadow_word_death,if=(!variable.should_te||(variable.should_te&variable.te_shadow))&(target.time_to_pct_20>buff.shadow_covenant.remains)\n## actions.long_scov+=/lights_wrath,if=(!variable.should_te||(variable.should_te&variable.te_holy))\nactions.long_scov+=/smite,if=(!variable.should_te||(variable.should_te&variable.te_holy))\n# just in case we run out of shadow spells with the above conditions\nactions.long_scov+=/penance\nactions.long_scov+=/mindgames\nactions.long_scov+=/mind_blast\nactions.long_scov+=/shadow_word_death\nactions.long_scov+=/divine_star\nactions.long_scov+=/halo\nactions.long_scov+=/smite\n\n## Cooldowns\n# Don't use pets during shadow covenant windows, wasting GCDs -- is this even possible anymore?\nactions.cooldowns+=/shadowfiend,if=!buff.shadow_covenant.up\n# hold PI to use with shadow covenant if we have it\nactions.cooldowns+=/power_infusion,if=!talent.shadow_covenant.enabled||(talent.shadow_covenant.enabled&(cooldown.shadowfiend.up||buff.shadow_covenant.up))\n# sync potion with PI\nactions.cooldowns+=/potion,if=buff.power_infusion.up\n# sync trinkets with PI\nactions.cooldowns+=/use_items,if=buff.power_infusion.up||cooldown.power_infusion.remains>=cooldown",
["spec"] = 256,
},
["Holy Priest"] = {
["builtIn"] = true,
["date"] = 20240828,
["spec"] = 257,
["desc"] = "Healer priorities are DPS-focused only\n\n2024-08-28: Use cooldowns action list\n\n2024-07-30: The War Within",
["profile"] = "actions.precombat+=/power_word_fortitude\n\nactions+=/call_action_list,name=cooldowns\n# Always use HF if we have empyreal blaze (dot extension) or harmonious apparatus (cd reduction) or if it's not currently ticking. Otherwise, only use when refreshable to be sure we get the longest duration possible. It's worth it to cast even when the target will die soon based on just the initial hit damage. We also don't want to cast immediately once empyreal blaze is up when we are prepping divine word\nactions+=/holy_fire,cycle_targets=1,if=(talent.empyreal_blaze||talent.harmonious_apparatus||!ticking||refreshable)&!(buff.empyreal_blaze.up&(cooldown.divine_word.up||buff.divine_word.up)&cooldown.holy_word_chastise.up)\n# Don't cast SW:P during apotheosis or divine favor: chastise. We also don't cycle targets because it isn't worth the GCDs, since Smite deals slightly more damage than a full SW:P.\nactions+=/shadow_word_pain,if=(refreshable||!ticking)&(target.time_to_die>=dot.shadow_word_pain.duration)&!buff.divine_favor_chastise.up&!buff.apotheosis.up\n# Prepare to enter divine favor: chastise\nactions+=/call_action_list,name=divine_favor_chastise_prep,if=talent.divine_word&talent.holy_word_chastise&buff.divine_favor_chastise.down\n# Enter Divine Favor rotation with divine favor: chastise buff up\nactions+=/run_action_list,name=divine_favor_chastise_active,strict=1,if=buff.divine_favor_chastise.up\n# Run divine favor fillers rotation with buff down\nactions+=/run_action_list,name=divine_favor_filler,if=talent.divine_word&talent.holy_word_chastise&buff.divine_favor_chastise.down\n# Run divine image rotation with divine image talented\nactions+=/run_action_list,name=divine_image,strict=1,if=talent.divine_image\n# Otherwise generic rotation\nactions+=/run_action_list,name=generic\n\nactions.divine_favor_chastise_prep+=/variable,name=empyreal_exec_time,op=set,value=0\n# apotheosis_exec_time: Store how long Apotheosis will take to execute\nactions.divine_favor_chastise_prep+=/variable,name=apotheosis_exec_time,op=setif,condition=talent.apotheosis,value=action.apotheosis.execute_time,value_else=0\n# Use apotheosis to get Chastise back if its on cooldown and Divine Word will be up soon. We can use Apotheosis (2min CD) to reset Chastise for every other Divine Word (1min CD).\nactions.divine_favor_chastise_prep+=/apotheosis,if=(cooldown.holy_word_chastise.remains>cooldown.divine_word.remains)&(cooldown.divine_word.remains<=(variable.empyreal_exec_time+variable.apotheosis_exec_time))\n# Divine Word only if we can sync with Chastise and (if talented) Empyreal Blaze\nactions.divine_favor_chastise_prep+=/divine_word,if=cooldown.holy_word_chastise.up&(!talent.empyreal_blaze||buff.empyreal_blaze.up)\n# Holy word chastise to trigger divine favor: chastise\nactions.divine_favor_chastise_prep+=/holy_word_chastise,if=!talent.empyreal_blaze&buff.divine_word.up||talent.empyreal_blaze&buff.empyreal_blaze.down\n\nactions.divine_favor_chastise_active+=/halo,if=spell_targets.halo>=2\nactions.divine_favor_chastise_active+=/divine_star,if=spell_targets.divine_star>=2\n# There are particular breakpoints combinations of rhapsody and spell targets beyond which holy nova beats everything else we can do\nactions.divine_favor_chastise_active+=/holy_nova,if=(spell_targets.holy_nova>=2&buff.rhapsody.stack>=18)||(spell_targets.holy_nova>=3&buff.rhapsody.stack>=9)||(spell_targets.holy_nova>=4&buff.rhapsody.stack>=4)||spell_targets.holy_nova>=5\nactions.divine_favor_chastise_active+=/mindgames\nactions.divine_favor_chastise_active+=/shadow_word_death,if=target.health.pct<20\nactions.divine_favor_chastise_active+=/holy_word_chastise\n# We want to cycle smite to different targets to spread holy fire dots in AOE situations, this will buff holy nova's damage\nactions.divine_favor_chastise_active+=/smite,cycle_targets=1,if=spell_targets.holy_nova>=2\nactions.divine_favor_chastise_active+=/smite\n\nactions.divine_favor_filler+=/halo,if=spell_targets.halo>=2\nactions.divine_favor_filler+=/divine_star,if=spell_targets.divine_star>=2\n# There are particular breakpoints combinations of rhapsody and spell targets beyond which holy nova beats everything else we can do\nactions.divine_favor_filler+=/holy_nova,if=(spell_targets.holy_nova>=2&buff.rhapsody.stack>=18)||(spell_targets.holy_nova>=3&buff.rhapsody.stack>=9)||(spell_targets.holy_nova>=4&buff.rhapsody.stack>=4)||spell_targets.holy_nova>=5\nactions.divine_favor_filler+=/mindgames\nactions.divine_favor_filler+=/shadow_word_death,if=target.health.pct<20\n# We can use chastise for damage as long as we will have apotheosis available before the next divine word, otherwise only use it when it will be back up at the same time as divine word\nactions.divine_favor_filler+=/holy_word_chastise,if=(cooldown.apotheosis.remains<cooldown.divine_word.remains)||(cooldown.holy_word_chastise.duration_expected<=cooldown.divine_word.remains)\nactions.divine_favor_filler+=/smite\n\nactions.divine_image+=/apotheosis,if=buff.answered_prayers.down&!(cooldown.holy_word_sanctify.up||cooldown.holy_word_serenity.up||cooldown.holy_word_chastise.up)\n# line_cd prevents re-casting sanctify and serenity right away, wasting GCDs that could be used to proc divine image damage. In testing, the sweet spot balance between adding more divine images, triggering apotheosis, and casting damage CDs was to let the image from each healing holy word expire before re-casting\nactions.divine_image+=/holy_word_sanctify,line_cd=9\nactions.divine_image+=/holy_word_serenity,line_cd=9\nactions.divine_image+=/holy_word_chastise\nactions.divine_image+=/halo,if=spell_targets.halo>=2\nactions.divine_image+=/divine_star,if=spell_targets.divine_star>=2\n# There are particular breakpoints combinations of rhapsody and spell targets beyond which holy nova beats everything else we can do\nactions.divine_image+=/holy_nova,if=(spell_targets.holy_nova>=2&buff.rhapsody.stack>=18)||(spell_targets.holy_nova>=3&buff.rhapsody.stack>=9)||(spell_targets.holy_nova>=4&buff.rhapsody.stack>=4)||spell_targets.holy_nova>=5\nactions.divine_image+=/mindgames\nactions.divine_image+=/shadow_word_death,if=target.health.pct<20\nactions.divine_image+=/smite\n\nactions.generic+=/holy_word_chastise\n# Hold Apotheosis if chastise will be up soon\nactions.generic+=/apotheosis,if=cooldown.holy_word_chastise.remains>(gcd.max*3)\nactions.generic+=/halo,if=spell_targets.halo>=2\nactions.generic+=/divine_star,if=spell_targets.divine_star>=2\n# There are particular breakpoints combinations of rhapsody and spell targets beyond which holy nova beats everything else we can do\nactions.generic+=/holy_nova,if=(spell_targets.holy_nova>=2&buff.rhapsody.stack>=18)||(spell_targets.holy_nova>=3&buff.rhapsody.stack>=9)||(spell_targets.holy_nova>=4&buff.rhapsody.stack>=4)||spell_targets.holy_nova>=5\nactions.generic+=/mindgames\nactions.generic+=/shadow_word_death,if=target.health.pct<20\nactions.generic+=/smite\n\nactions.cooldowns+=/shadowfiend\n# Sync PI with divine favor: chastise if we took divine word\nactions.cooldowns+=/power_infusion,if=(!talent.divine_word||(cooldown.divine_word.up&cooldown.holy_word_chastise.up))\n# Only potion in sync with power infusion\nactions.cooldowns+=/potion,if=buff.power_infusion.up\n# hold trinkets to use with PI\nactions.cooldowns+=/use_items,if=buff.power_infusion.up",
["version"] = 20240828,
["warnings"] = "The import for 'cooldowns' required some automated changes.\nLine 2: Converted 'talent.divine_word' to 'talent.divine_word.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 2: Converted 'talent.empyreal_blaze' to 'talent.empyreal_blaze.enabled' (1x).\nLine 2: Converted 'talent.harmonious_apparatus' to 'talent.harmonious_apparatus.enabled' (1x).\nLine 4: Converted 'talent.divine_word' to 'talent.divine_word.enabled' (1x).\nLine 4: Converted 'talent.holy_word_chastise' to 'talent.holy_word_chastise.enabled' (1x).\nLine 6: Converted 'talent.divine_word' to 'talent.divine_word.enabled' (1x).\nLine 6: Converted 'talent.holy_word_chastise' to 'talent.holy_word_chastise.enabled' (1x).\nLine 7: Converted 'talent.divine_image' to 'talent.divine_image.enabled' (1x).\n\nThe import for 'divine_favor_chastise_prep' required some automated changes.\nLine 2: Converted 'talent.apotheosis' to 'talent.apotheosis.enabled' (1x).\nLine 4: Converted 'talent.empyreal_blaze' to 'talent.empyreal_blaze.enabled' (1x).\nLine 5: Converted 'talent.empyreal_blaze' to 'talent.empyreal_blaze.enabled' (1x).\nLine 5: Converted 'talent.empyreal_blaze' to 'talent.empyreal_blaze.enabled' (1x).\n\nImported 8 action lists.\n",
["author"] = "Kapulani",
["lists"] = {
["divine_favor_chastise_active"] = {
{
["enabled"] = true,
["criteria"] = "spell_targets.halo >= 2",
["action"] = "halo",
},
{
["enabled"] = true,
["criteria"] = "spell_targets.divine_star >= 2",
["action"] = "divine_star",
},
{
["enabled"] = true,
["criteria"] = "( spell_targets.holy_nova >= 2 & buff.rhapsody.stack >= 18 ) || ( spell_targets.holy_nova >= 3 & buff.rhapsody.stack >= 9 ) || ( spell_targets.holy_nova >= 4 & buff.rhapsody.stack >= 4 ) || spell_targets.holy_nova >= 5",
["action"] = "holy_nova",
["description"] = "There are particular breakpoints combinations of rhapsody and spell targets beyond which holy nova beats everything else we can do",
},
{
["action"] = "mindgames",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "target.health.pct < 20",
["action"] = "shadow_word_death",
},
{
["action"] = "holy_word_chastise",
["enabled"] = true,
},
{
["enabled"] = true,
["action"] = "smite",
["cycle_targets"] = 1,
["description"] = "We want to cycle smite to different targets to spread holy fire dots in AOE situations, this will buff holy nova's damage",
["criteria"] = "spell_targets.holy_nova >= 2",
},
{
["action"] = "smite",
["enabled"] = true,
},
},
["divine_image"] = {
{
["enabled"] = true,
["criteria"] = "buff.answered_prayers.down & ! ( cooldown.holy_word_sanctify.up || cooldown.holy_word_serenity.up || cooldown.holy_word_chastise.up )",
["action"] = "apotheosis",
},
{
["enabled"] = true,
["description"] = "line_cd prevents re-casting sanctify and serenity right away, wasting GCDs that could be used to proc divine image damage. In testing, the sweet spot balance between adding more divine images, triggering apotheosis, and casting damage CDs was to let the image from each healing holy word expire before re-casting",
["action"] = "holy_word_sanctify",
["line_cd"] = "9",
},
{
["enabled"] = true,
["action"] = "holy_word_serenity",
["line_cd"] = "9",
},
{
["action"] = "holy_word_chastise",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "spell_targets.halo >= 2",
["action"] = "halo",
},
{
["enabled"] = true,
["criteria"] = "spell_targets.divine_star >= 2",
["action"] = "divine_star",
},
{
["enabled"] = true,
["criteria"] = "( spell_targets.holy_nova >= 2 & buff.rhapsody.stack >= 18 ) || ( spell_targets.holy_nova >= 3 & buff.rhapsody.stack >= 9 ) || ( spell_targets.holy_nova >= 4 & buff.rhapsody.stack >= 4 ) || spell_targets.holy_nova >= 5",
["action"] = "holy_nova",
["description"] = "There are particular breakpoints combinations of rhapsody and spell targets beyond which holy nova beats everything else we can do",
},
{
["action"] = "mindgames",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "target.health.pct < 20",
["action"] = "shadow_word_death",
},
{
["action"] = "smite",
["enabled"] = true,
},
},
["divine_favor_filler"] = {
{
["enabled"] = true,
["criteria"] = "spell_targets.halo >= 2",
["action"] = "halo",
},
{
["enabled"] = true,
["criteria"] = "spell_targets.divine_star >= 2",
["action"] = "divine_star",
},
{
["enabled"] = true,
["criteria"] = "( spell_targets.holy_nova >= 2 & buff.rhapsody.stack >= 18 ) || ( spell_targets.holy_nova >= 3 & buff.rhapsody.stack >= 9 ) || ( spell_targets.holy_nova >= 4 & buff.rhapsody.stack >= 4 ) || spell_targets.holy_nova >= 5",
["action"] = "holy_nova",
["description"] = "There are particular breakpoints combinations of rhapsody and spell targets beyond which holy nova beats everything else we can do",
},
{
["action"] = "mindgames",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "target.health.pct < 20",
["action"] = "shadow_word_death",
},
{
["enabled"] = true,
["criteria"] = "( cooldown.apotheosis.remains < cooldown.divine_word.remains ) || ( cooldown.holy_word_chastise.duration_expected <= cooldown.divine_word.remains )",
["action"] = "holy_word_chastise",
["description"] = "We can use chastise for damage as long as we will have apotheosis available before the next divine word, otherwise only use it when it will be back up at the same time as divine word",
},
{
["action"] = "smite",
["enabled"] = true,
},
},
["precombat"] = {
{
["action"] = "power_word_fortitude",
["enabled"] = true,
},
},
["divine_favor_chastise_prep"] = {
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "0",
["var_name"] = "empyreal_exec_time",
},
{
["enabled"] = true,
["op"] = "setif",
["description"] = "apotheosis_exec_time: Store how long Apotheosis will take to execute",
["value"] = "action.apotheosis.execute_time",
["var_name"] = "apotheosis_exec_time",
["action"] = "variable",
["value_else"] = "0",
["criteria"] = "talent.apotheosis.enabled",
},
{
["enabled"] = true,
["criteria"] = "( cooldown.holy_word_chastise.remains > cooldown.divine_word.remains ) & ( cooldown.divine_word.remains <= ( variable.empyreal_exec_time + variable.apotheosis_exec_time ) )",
["action"] = "apotheosis",
["description"] = "Use apotheosis to get Chastise back if its on cooldown and Divine Word will be up soon. We can use Apotheosis (2min CD) to reset Chastise for every other Divine Word (1min CD).",
},
{
["enabled"] = true,
["criteria"] = "cooldown.holy_word_chastise.up & ( ! talent.empyreal_blaze.enabled || buff.empyreal_blaze.up )",
["action"] = "divine_word",
["description"] = "Divine Word only if we can sync with Chastise and (if talented) Empyreal Blaze",
},
{
["enabled"] = true,
["criteria"] = "! talent.empyreal_blaze.enabled & buff.divine_word.up || talent.empyreal_blaze.enabled & buff.empyreal_blaze.down",
["action"] = "holy_word_chastise",
["description"] = "Holy word chastise to trigger divine favor: chastise",
},
},
["cooldowns"] = {
{
["action"] = "mindbender",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "( ! talent.divine_word.enabled || ( cooldown.divine_word.up & cooldown.holy_word_chastise.up ) )",
["action"] = "power_infusion",
["description"] = "Sync PI with divine favor: chastise if we took divine word",
},
{
["enabled"] = true,
["criteria"] = "buff.power_infusion.up",
["action"] = "potion",
["description"] = "Only potion in sync with power infusion",
},
{
["enabled"] = true,
["criteria"] = "buff.power_infusion.up",
["action"] = "use_items",
["description"] = "hold trinkets to use with PI",
},
},
["generic"] = {
{
["action"] = "holy_word_chastise",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "cooldown.holy_word_chastise.remains > ( gcd.max * 3 )",
["action"] = "apotheosis",
["description"] = "Hold Apotheosis if chastise will be up soon",
},
{
["enabled"] = true,
["criteria"] = "spell_targets.halo >= 2",
["action"] = "halo",
},
{
["enabled"] = true,
["criteria"] = "spell_targets.divine_star >= 2",
["action"] = "divine_star",
},
{
["enabled"] = true,
["criteria"] = "( spell_targets.holy_nova >= 2 & buff.rhapsody.stack >= 18 ) || ( spell_targets.holy_nova >= 3 & buff.rhapsody.stack >= 9 ) || ( spell_targets.holy_nova >= 4 & buff.rhapsody.stack >= 4 ) || spell_targets.holy_nova >= 5",
["action"] = "holy_nova",
["description"] = "There are particular breakpoints combinations of rhapsody and spell targets beyond which holy nova beats everything else we can do",
},
{
["action"] = "mindgames",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "target.health.pct < 20",
["action"] = "shadow_word_death",
},
{
["action"] = "smite",
["enabled"] = true,
},
},
["default"] = {
{
["enabled"] = true,
["action"] = "call_action_list",
["list_name"] = "cooldowns",
},
{
["enabled"] = true,
["action"] = "holy_fire",
["cycle_targets"] = 1,
["description"] = "Always use HF if we have empyreal blaze (dot extension) or harmonious apparatus (cd reduction) or if it's not currently ticking. Otherwise, only use when refreshable to be sure we get the longest duration possible. It's worth it to cast even when the target will die soon based on just the initial hit damage. We also don't want to cast immediately once empyreal blaze is up when we are prepping divine word",
["criteria"] = "( talent.empyreal_blaze.enabled || talent.harmonious_apparatus.enabled || ! ticking || refreshable ) & ! ( buff.empyreal_blaze.up & ( cooldown.divine_word.up || buff.divine_word.up ) & cooldown.holy_word_chastise.up )",
},
{
["enabled"] = true,
["criteria"] = "( refreshable || ! ticking ) & ( target.time_to_die >= dot.shadow_word_pain.duration ) & ! buff.divine_favor_chastise.up & ! buff.apotheosis.up",
["action"] = "shadow_word_pain",
["description"] = "Don't cast SW:P during apotheosis or divine favor: chastise. We also don't cycle targets because it isn't worth the GCDs, since Smite deals slightly more damage than a full SW:P.",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["description"] = "Prepare to enter divine favor: chastise",
["criteria"] = "talent.divine_word.enabled & talent.holy_word_chastise.enabled & buff.divine_favor_chastise.down",
["list_name"] = "divine_favor_chastise_prep",
},
{
["enabled"] = true,
["action"] = "run_action_list",
["description"] = "Enter Divine Favor rotation with divine favor: chastise buff up",
["strict"] = 1,
["criteria"] = "buff.divine_favor_chastise.up",
["list_name"] = "divine_favor_chastise_active",
},
{
["enabled"] = true,
["action"] = "run_action_list",
["description"] = "Run divine favor fillers rotation with buff down",
["criteria"] = "talent.divine_word.enabled & talent.holy_word_chastise.enabled & buff.divine_favor_chastise.down",
["list_name"] = "divine_favor_filler",
},
{
["enabled"] = true,
["action"] = "run_action_list",
["description"] = "Run divine image rotation with divine image talented",
["strict"] = 1,
["criteria"] = "talent.divine_image.enabled",
["list_name"] = "divine_image",
},
{
["enabled"] = true,
["action"] = "run_action_list",
["description"] = "Otherwise generic rotation",
["list_name"] = "generic",
},
},
},
},
["Enhancement"] = {
["source"] = "https://github.com/simulationcraft/simc/blob/thewarwithin/ActionPriorityLists/default/shaman_enhancement.simc",
["builtIn"] = true,
["date"] = 20250823,
["spec"] = 263,
["desc"] = "-- The War Within Season 3\n2025-08-23: APL Sync\n2025-08-06: Initial APL\n\n-- The War Within Season 2\n2025-05-05: SimC Update\n2025-04-17: Tweak/fix AOE MW spenders\n2025-04-16: Use upcoming priority; tweak Primordial Storm\n2025-04-15: Improve efficiency\n2025-04-13: Implement (some) Ashen Catalyst CDR\n + Add (disabled) utility entries to default\n2025-04-10: Use Primordial Storm before the buff falls off, even without Maelstrom/Legacy of the Frost Witch\n2025-03-10: SimC update\n2025-02-28: SimC  update\n2025-02-26: Voltaic Blaze is fully distinct from Flame Shock\n + Revised Primordial Storm check for Elemental Blast / Totemic ST\n2025-02-25: Resync with SimC",
["lists"] = {
["single"] = {
{
["enabled"] = true,
["action"] = "call_action_list",
["description"] = "Single target action priority list",
["strict_if"] = "time <= 18",
["criteria"] = "time <= 18 & ( cooldown.doom_winds.remains = 0 || cooldown.sundering.remains = 0 || ! buff.hot_hand.up )",
["list_name"] = "single_open",
},
{
["enabled"] = true,
["criteria"] = "( buff.maelstrom_weapon.stack >= 10 || buff.primordial_storm.remains <= 4 & buff.maelstrom_weapon.stack >= 5 )",
["action"] = "primordial_storm",
},
{
["enabled"] = true,
["criteria"] = "( cooldown.doom_winds.remains > 25 || cooldown.doom_winds.remains <= 5 )",
["action"] = "feral_spirit",
},
{
["enabled"] = true,
["criteria"] = "( ! buff.ascendance.up || ( buff.tempest.up & buff.ascendance.remains > 1 * gcd.max & buff.maelstrom_weapon.stack <= 9 ) ) & set_bonus.tww3_4pc",
["action"] = "doom_winds",
},
{
["enabled"] = true,
["criteria"] = "buff.tempest.up & buff.ascendance.remains > 5 * gcd.max & buff.maelstrom_weapon.stack <= 1",
["action"] = "ice_strike",
},
{
["enabled"] = true,
["criteria"] = "( buff.hot_hand.up & buff.ashen_catalyst.stack = buff.ashen_catalyst.max_stack ) & ( buff.tempest.up & buff.ascendance.remains > 5 * gcd.max & buff.maelstrom_weapon.stack <= 1 )",
["action"] = "lava_lash",
},
{
["enabled"] = true,
["criteria"] = "! ticking & ( talent.ashen_catalyst.enabled || talent.primordial_wave.enabled || talent.lashing_flames.enabled ) & ! buff.ascendance.up & ! talent.voltaic_blaze.enabled",
["action"] = "flame_shock",
},
{
["enabled"] = true,
["criteria"] = "talent.thorims_invocation.enabled & buff.maelstrom_weapon.stack > 0 & ti_lightning_bolt",
["action"] = "windstrike",
},
{
["action"] = "doom_winds",
["enabled"] = true,
},
{
["action"] = "primordial_wave",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "buff.tempest.up & tww3_procs_to_asc = 1 & buff.maelstrom_weapon.stack <= 8",
["action"] = "ice_strike",
},
{
["enabled"] = true,
["criteria"] = "buff.tempest.up & tww3_procs_to_asc = 1 & buff.maelstrom_weapon.stack <= 6",
["action"] = "voltaic_blaze",
},
{
["enabled"] = true,
["criteria"] = "buff.tempest.up & tww3_procs_to_asc = 1 & buff.maelstrom_weapon.stack <= 6 & buff.hailstorm.stack = 10 & buff.ice_strike.up & talent.swirling_maelstrom.enabled",
["action"] = "frost_shock",
},
{
["enabled"] = true,
["criteria"] = "buff.tempest.up & tww3_procs_to_asc = 1 & buff.maelstrom_weapon.stack <= 4",
["action"] = "natures_swiftness",
},
{
["enabled"] = true,
["criteria"] = "( buff.maelstrom_weapon.stack >= 5 || buff.natures_swiftness.up ) & ( buff.tempest.up & tww3_procs_to_asc = 1 || buff.tempest.max_stack & cooldown.ascendance.remains <= 2 & talent.ascendance.enabled ) & set_bonus.tww3_4pc",
["action"] = "tempest",
},
{
["enabled"] = true,
["criteria"] = "( dot.flame_shock.ticking || ! talent.primordial_wave.enabled || ! talent.ashen_catalyst.enabled )",
["action"] = "ascendance",
},
{
["enabled"] = true,
["criteria"] = "( ( buff.maelstrom_weapon.stack >= 5 ) || ( talent.deeply_rooted_elements.enabled & buff.maelstrom_weapon.stack >= 5 ) ) & ( buff.tempest.stack = buff.tempest.max_stack & ( tempest_mael_count > 30 || buff.awakening_storms.stack = 3 ) )",
["action"] = "tempest",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack >= 5 & tww3_procs_to_asc = 1 & ( ( tempest_mael_count + buff.maelstrom_weapon.stack ) >= 40 ) & ! buff.tempest.up",
["action"] = "elemental_blast",
},
{
["enabled"] = true,
["criteria"] = "( ( ! talent.overflowing_maelstrom.enabled & buff.maelstrom_weapon.stack >= 5 ) || ( buff.maelstrom_weapon.stack >= 9 & talent.ascendance.enabled ) || ( talent.deeply_rooted_elements.enabled & buff.maelstrom_weapon.stack >= 8 ) ) & ( charges_fractional >= 1.6 || set_bonus.tww2_4pc )",
["action"] = "elemental_blast",
},
{
["enabled"] = true,
["criteria"] = "charges_fractional >= 2 & ( buff.maelstrom_weapon.stack <= 6 ) & ! buff.tempest.up & tww3_procs_to_asc = 1",
["action"] = "stormstrike",
},
{
["enabled"] = true,
["criteria"] = "( buff.maelstrom_weapon.stack >= 9 & talent.ascendance.enabled ) || ( talent.deeply_rooted_elements.enabled & buff.maelstrom_weapon.stack >= 8 )",
["action"] = "tempest",
},
{
["enabled"] = true,
["criteria"] = "( ( ! talent.overflowing_maelstrom.enabled & buff.maelstrom_weapon.stack >= 5 ) || ( buff.maelstrom_weapon.stack >= 9 & talent.ascendance.enabled ) || ( talent.deeply_rooted_elements.enabled & buff.maelstrom_weapon.stack >= 8 ) ) & ! buff.arc_discharge.up",
["action"] = "elemental_blast",
},
{
["enabled"] = true,
["criteria"] = "( buff.maelstrom_weapon.stack >= 9 & talent.ascendance.enabled ) || ( talent.deeply_rooted_elements.enabled & buff.maelstrom_weapon.stack >= 8 )",
["action"] = "lightning_bolt",
},
{
["enabled"] = true,
["criteria"] = "! talent.thorims_invocation.enabled",
["action"] = "windstrike",
},
{
["enabled"] = true,
["criteria"] = "! buff.tempest.up & tww3_procs_to_asc = 1",
["action"] = "stormstrike",
},
{
["enabled"] = true,
["criteria"] = "( buff.doom_winds.up & buff.electrostatic_wager.stack > 1 ) || buff.electrostatic_wager.stack > 8",
["action"] = "crash_lightning",
},
{
["enabled"] = true,
["criteria"] = "( buff.tempest.up || ( tempest_mael_count >= 30 & buff.tempest.up ) ) & tww3_procs_to_asc = 1",
["action"] = "ice_strike",
},
{
["enabled"] = true,
["criteria"] = "tempest_mael_count >= 30 & tww3_procs_to_asc = 1",
["action"] = "voltaic_blaze",
},
{
["enabled"] = true,
["criteria"] = "buff.doom_winds.up || buff.stormblast.stack > 0",
["action"] = "stormstrike",
},
{
["enabled"] = true,
["criteria"] = "( talent.unrelenting_storms.enabled & talent.alpha_wolf.enabled & alpha_wolf_min_remains = 0 ) || set_bonus.tww2_4pc",
["action"] = "crash_lightning",
},
{
["enabled"] = true,
["criteria"] = "dot.flame_shock.remains <= 4",
["action"] = "voltaic_blaze",
},
{
["action"] = "ice_strike",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "charges_fractional >= 1.8",
["action"] = "stormstrike",
},
{
["enabled"] = true,
["criteria"] = "( talent.lashing_flames.enabled & ( debuff.lashing_flames.remains < 2 ) )",
["action"] = "lava_lash",
},
{
["action"] = "voltaic_blaze",
["enabled"] = true,
},
{
["action"] = "stormstrike",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "talent.unrelenting_storms.enabled",
["action"] = "crash_lightning",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack >= 5 & ! buff.primordial_storm.up",
["action"] = "elemental_blast",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack >= 5 & ! buff.primordial_storm.up",
["action"] = "lightning_bolt",
},
{
["enabled"] = true,
["criteria"] = "talent.elemental_assault.enabled & talent.molten_assault.enabled & dot.flame_shock.ticking",
["action"] = "lava_lash",
},
{
["action"] = "sundering",
["enabled"] = true,
},
{
["action"] = "lava_lash",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "buff.hailstorm.up",
["action"] = "frost_shock",
},
{
["enabled"] = true,
["criteria"] = "! ticking",
["action"] = "flame_shock",
},
{
["enabled"] = true,
["criteria"] = "raid_event.adds.in >= action.sundering.cooldown",
["action"] = "sundering",
},
{
["action"] = "crash_lightning",
["enabled"] = true,
},
{
["action"] = "frost_shock",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "active_dot.flame_shock",
["action"] = "fire_nova",
},
{
["action"] = "earth_elemental",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "settings.filler_shock",
["action"] = "flame_shock",
},
},
["funnel"] = {
{
["enabled"] = true,
["criteria"] = "talent.elemental_spirits.enabled",
["action"] = "feral_spirit",
},
{
["action"] = "surging_totem",
["enabled"] = true,
},
{
["action"] = "ascendance",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "( talent.thorims_invocation.enabled & buff.maelstrom_weapon.stack > 0 ) || buff.converging_storms.stack = buff.converging_storms.max_stack",
["action"] = "windstrike",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack || ( buff.maelstrom_weapon.stack >= 5 & ( tempest_mael_count > 30 || buff.awakening_storms.stack = 2 ) )",
["action"] = "tempest",
},
{
["enabled"] = true,
["criteria"] = "variable.flame_shock_saturated & buff.primordial_wave.up & buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack & ( ! buff.splintered_elements.up || fight_remains <= 12 || raid_event.adds.remains <= gcd.max )",
["action"] = "lightning_bolt",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack >= 5 & talent.elemental_spirits.enabled & feral_spirit.active >= 4",
["action"] = "elemental_blast",
},
{
["enabled"] = true,
["criteria"] = "talent.supercharge.enabled & buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack & ( variable.expected_lb_funnel > variable.expected_cl_funnel )",
["action"] = "lightning_bolt",
},
{
["enabled"] = true,
["criteria"] = "( talent.supercharge.enabled & buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack ) || buff.arc_discharge.up & buff.maelstrom_weapon.stack >= 5",
["action"] = "chain_lightning",
},
{
["enabled"] = true,
["criteria"] = "( talent.molten_assault.enabled & dot.flame_shock.ticking & ! variable.flame_shock_saturated ) || ( talent.ashen_catalyst.enabled & buff.ashen_catalyst.stack = buff.ashen_catalyst.max_stack )",
["action"] = "lava_lash",
},
{
["enabled"] = true,
["action"] = "primordial_wave",
["criteria"] = "! buff.primordial_wave.up",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "( ! talent.elemental_spirits.enabled || ( talent.elemental_spirits.enabled & ( charges = max_charges || buff.feral_spirit.up ) ) ) & buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack",
["action"] = "elemental_blast",
},
{
["action"] = "feral_spirit",
["enabled"] = true,
},
{
["action"] = "doom_winds",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "buff.converging_storms.stack = buff.converging_storms.max_stack",
["action"] = "stormstrike",
},
{
["enabled"] = true,
["criteria"] = "( buff.molten_weapon.stack > buff.crackling_surge.stack ) & buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack",
["action"] = "lava_burst",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack & ( variable.expected_lb_funnel > variable.expected_cl_funnel )",
["action"] = "lightning_bolt",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack",
["action"] = "chain_lightning",
},
{
["enabled"] = true,
["criteria"] = "buff.doom_winds.up || ! buff.crash_lightning.up || ( talent.alpha_wolf.enabled & feral_spirit.active & alpha_wolf_min_remains = 0 ) || ( talent.converging_storms.enabled & buff.converging_storms.stack < buff.converging_storms.max_stack )",
["action"] = "crash_lightning",
},
{
["enabled"] = true,
["criteria"] = "buff.doom_winds.up || talent.earthsurge.enabled",
["action"] = "sundering",
},
{
["enabled"] = true,
["criteria"] = "variable.flame_shock_saturated & active_enemies >= 4",
["action"] = "fire_nova",
},
{
["enabled"] = true,
["criteria"] = "talent.hailstorm.enabled & ! buff.ice_strike.up",
["action"] = "ice_strike",
},
{
["enabled"] = true,
["criteria"] = "talent.hailstorm.enabled & buff.hailstorm.up",
["action"] = "frost_shock",
},
{
["action"] = "sundering",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "talent.molten_assault.enabled & ! ticking",
["action"] = "flame_shock",
},
{
["enabled"] = true,
["action"] = "flame_shock",
["criteria"] = "( talent.fire_nova.enabled || talent.primordial_wave.enabled ) & ( active_dot.flame_shock < active_enemies ) & active_dot.flame_shock < 6",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "active_dot.flame_shock >= 3",
["action"] = "fire_nova",
},
{
["enabled"] = true,
["criteria"] = "buff.crash_lightning.up & talent.deeply_rooted_elements.enabled",
["action"] = "stormstrike",
},
{
["enabled"] = true,
["criteria"] = "talent.crashing_storms.enabled & buff.cl_crash_lightning.up & active_enemies >= 4",
["action"] = "crash_lightning",
},
{
["action"] = "windstrike",
["enabled"] = true,
},
{
["action"] = "stormstrike",
["enabled"] = true,
},
{
["action"] = "ice_strike",
["enabled"] = true,
},
{
["action"] = "lava_lash",
["enabled"] = true,
},
{
["action"] = "crash_lightning",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "active_dot.flame_shock >= 2",
["action"] = "fire_nova",
},
{
["enabled"] = true,
["criteria"] = "( ! talent.elemental_spirits.enabled || ( talent.elemental_spirits.enabled & ( charges = max_charges || buff.feral_spirit.up ) ) ) & buff.maelstrom_weapon.stack >= 5",
["action"] = "elemental_blast",
},
{
["enabled"] = true,
["criteria"] = "( buff.molten_weapon.stack > buff.crackling_surge.stack ) & buff.maelstrom_weapon.stack >= 5",
["action"] = "lava_burst",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack >= 5 & ( variable.expected_lb_funnel > variable.expected_cl_funnel )",
["action"] = "lightning_bolt",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack >= 5",
["action"] = "chain_lightning",
},
{
["enabled"] = true,
["criteria"] = "! ticking",
["action"] = "flame_shock",
},
{
["enabled"] = true,
["criteria"] = "! talent.hailstorm.enabled",
["action"] = "frost_shock",
},
},
["single_totemic_open"] = {
{
["enabled"] = true,
["criteria"] = "! ticking",
["action"] = "flame_shock",
["description"] = "Single target opener priority list for the Totemic hero talent tree",
},
{
["enabled"] = true,
["criteria"] = "! pet.surging_totem.active & talent.lashing_flames.enabled & debuff.lashing_flames.down",
["action"] = "lava_lash",
},
{
["enabled"] = true,
["criteria"] = "! buff.whirling_air.up & ! buff.whirling_fire.up & ! buff.whirling_earth.up",
["action"] = "surging_totem",
},
{
["action"] = "totemic_recall",
["enabled"] = true,
},
{
["action"] = "primordial_wave",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "! talent.legacy_of_the_frost_witch.enabled || buff.legacy_of_the_frost_witch.up || fight_remains < 16",
["action"] = "feral_spirit",
},
{
["enabled"] = true,
["criteria"] = "! talent.legacy_of_the_frost_witch.enabled || buff.legacy_of_the_frost_witch.up || boss & fight_remains < 9",
["action"] = "doom_winds",
},
{
["enabled"] = true,
["criteria"] = "( buff.maelstrom_weapon.stack >= 10 ) & ( buff.legacy_of_the_frost_witch.up || ! talent.legacy_of_the_frost_witch.enabled )",
["action"] = "primordial_storm",
},
{
["enabled"] = true,
["criteria"] = "buff.hot_hand.up",
["action"] = "lava_lash",
},
{
["enabled"] = true,
["criteria"] = "buff.doom_winds.up & buff.legacy_of_the_frost_witch.up",
["action"] = "stormstrike",
},
{
["enabled"] = true,
["criteria"] = "buff.legacy_of_the_frost_witch.up",
["action"] = "sundering",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack = 10",
["action"] = "elemental_blast",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack = 10",
["action"] = "lightning_bolt",
},
{
["action"] = "stormstrike",
["enabled"] = true,
},
{
["action"] = "lava_lash",
["enabled"] = true,
},
},
["aoe_totemic_open"] = {
{
["enabled"] = true,
["criteria"] = "! ticking & ! variable.flame_shock_saturated",
["action"] = "flame_shock",
},
{
["enabled"] = true,
["criteria"] = "! pet.surging_totem.active & ! variable.flame_shock_saturated",
["action"] = "lava_lash",
},
{
["enabled"] = true,
["criteria"] = "! buff.whirling_air.up & ! buff.whirling_fire.up & ! buff.whirling_earth.up",
["action"] = "surging_totem",
},
{
["action"] = "totemic_recall",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "! ticking",
["action"] = "flame_shock",
},
{
["enabled"] = true,
["criteria"] = "talent.swirling_maelstrom.enabled & dot.flame_shock.ticking & variable.flame_shock_saturated",
["action"] = "fire_nova",
},
{
["enabled"] = true,
["criteria"] = "variable.flame_shock_saturated",
["action"] = "primordial_wave",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack >= 10 & ! buff.legacy_of_the_frost_witch.up & cooldown.doom_winds.remains = 0",
["action"] = "elemental_blast",
},
{
["enabled"] = true,
["criteria"] = "buff.legacy_of_the_frost_witch.up",
["action"] = "doom_winds",
},
{
["enabled"] = true,
["criteria"] = "( buff.electrostatic_wager.stack > 9 & buff.doom_winds.up ) || ! buff.crash_lightning.up",
["action"] = "crash_lightning",
},
{
["enabled"] = true,
["criteria"] = "( buff.maelstrom_weapon.stack >= 10 ) & ( buff.doom_winds.remains <= gcd.max || ! buff.doom_winds.up & cooldown.doom_winds.remains > buff.primordial_storm.remains )",
["action"] = "primordial_storm",
},
{
["enabled"] = true,
["criteria"] = "buff.hot_hand.up",
["action"] = "lava_lash",
},
{
["enabled"] = true,
["criteria"] = "buff.legacy_of_the_frost_witch.up || ( buff.earthen_weapon.stack >= 2 & buff.primordial_storm.up )",
["action"] = "sundering",
},
{
["enabled"] = true,
["criteria"] = "( buff.legacy_of_the_frost_witch.up & buff.whirling_fire.up )",
["action"] = "lava_lash",
},
{
["enabled"] = true,
["criteria"] = "( buff.earthen_weapon.stack >= 2 & buff.primordial_storm.up & buff.doom_winds.up )",
["action"] = "crash_lightning",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack >= 10",
["action"] = "elemental_blast",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack >= 10",
["action"] = "chain_lightning",
},
{
["enabled"] = true,
["criteria"] = "talent.hailstorm.enabled & buff.hailstorm.up & pet.searing_totem.active",
["action"] = "frost_shock",
},
{
["enabled"] = true,
["criteria"] = "pet.searing_totem.active & dot.flame_shock.ticking & variable.flame_shock_saturated",
["action"] = "fire_nova",
},
{
["action"] = "ice_strike",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack < 10 & ! buff.legacy_of_the_frost_witch.up",
["action"] = "stormstrike",
},
{
["action"] = "lava_lash",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "talent.hailstorm.enabled & buff.hailstorm.up & pet.searing_totem.active",
["action"] = "frost_shock",
},
{
["enabled"] = true,
["criteria"] = "talent.crashing_storms.enabled",
["action"] = "crash_lightning",
},
{
["enabled"] = true,
["criteria"] = "dot.flame_shock.ticking & variable.flame_shock_saturated",
["action"] = "fire_nova",
},
{
["enabled"] = true,
["criteria"] = "talent.hailstorm.enabled & buff.hailstorm.up",
["action"] = "frost_shock",
},
{
["action"] = "crash_lightning",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "talent.hailstorm.enabled & ! buff.ice_strike.up",
["action"] = "ice_strike",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack >= 5 & ! buff.primordial_storm.up",
["action"] = "elemental_blast",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack >= 5 & ! buff.primordial_storm.up",
["action"] = "chain_lightning",
},
{
["action"] = "stormstrike",
["enabled"] = true,
},
},
["precombat"] = {
{
["action"] = "windfury_weapon",
["enabled"] = true,
},
{
["action"] = "flametongue_weapon",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "buff.skyfury.down || active_dot.skyfury < group_members",
["action"] = "skyfury",
},
{
["action"] = "lightning_shield",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "talent.elemental_orbit.enabled & buff.earth_shield.down",
["action"] = "earth_shield",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "trinket.t1.is.algethar_puzzle_box || trinket.t1.is.manic_grieftorch || trinket.t1.is.elementium_pocket_anvil || trinket.t1.is.beacon_to_the_beyond",
["var_name"] = "trinket1_is_weird",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "trinket.t2.is.algethar_puzzle_box || trinket.t2.is.manic_grieftorch || trinket.t2.is.elementium_pocket_anvil || trinket.t2.is.beacon_to_the_beyond",
["var_name"] = "trinket2_is_weird",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "( ( cooldown.feral_spirit.remains / ( 4 * talent.witch_doctors_ancestry.enabled ) ) + 1000 * ! talent.feral_spirit.enabled ) >? ( cooldown.doom_winds.remains + 1000 * ! talent.doom_winds.enabled ) >? ( cooldown.ascendance.remains + 1000 * ! talent.ascendance.enabled )",
["var_name"] = "min_talented_cd_remains",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "( 1 + debuff.chaos_brand.up * debuff.chaos_brand.value ) * ( 1 + ( debuff.hunters_mark.up * target.health.pct >= 80 ) * debuff.hunters_mark.value )",
["var_name"] = "target_nature_mod",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "action.lightning_bolt.damage * ( 1 + debuff.lightning_rod.up * variable.target_nature_mod * ( 1 + buff.primordial_wave.up * active_dot.flame_shock * buff.primordial_wave.value ) * debuff.lightning_rod.value )",
["var_name"] = "expected_lb_funnel",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "action.chain_lightning.damage * ( 1 + debuff.lightning_rod.up * variable.target_nature_mod * ( active_enemies >? ( 3 + 2 * talent.crashing_storms.enabled ) ) * debuff.lightning_rod.value )",
["var_name"] = "expected_cl_funnel",
},
{
["enabled"] = true,
["op"] = "set",
["action"] = "variable",
["value"] = "( ( active_dot.flame_shock >= active_enemies ) || ( active_dot.flame_shock = 6 ) )",
["var_name"] = "flame_shock_saturated",
},
},
["default"] = {
{
["enabled"] = true,
["criteria"] = "( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || boss & ( fight_remains % 300 <= 30 ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
["action"] = "potion",
},
{
["enabled"] = true,
["description"] = "Interrupt of casts.",
["action"] = "wind_shear",
},
{
["enabled"] = false,
["action"] = "lightning_lasso",
["criteria"] = "! target.is_boss & debuff.casting.up & debuff.casting.v2 = 0 & debuff.casting.remains > gcd.remains & debuff.casting.remains < gcd.remains + gcd.max",
},
{
["enabled"] = false,
["action"] = "thunderstorm",
["criteria"] = "talent.thundershock.enabled & ! target.is_boss & debuff.casting.up & debuff.casting.v2 = 0 & debuff.casting.remains > gcd.remains & debuff.casting.remains < gcd.remains + gcd.max",
},
{
["enabled"] = false,
["action"] = "capacitor_totem",
["criteria"] = "! target.is_boss & debuff.casting.up & debuff.casting.v2 = 0 & debuff.casting.remains > gcd.remains & debuff.casting.remains < gcd.remains + gcd.max",
},
{
["enabled"] = true,
["action"] = "purge",
["criteria"] = "buff.dispellable_magic.up",
["line_cd"] = "settings.purge_icd",
},
{
["enabled"] = true,
["criteria"] = "buff.dispellable_magic.up",
["action"] = "greater_purge",
},
{
["enabled"] = false,
["action"] = "poison_cleansing_totem",
["criteria"] = "buff.dispellable_poison.up",
},
{
["enabled"] = true,
["name"] = "elementium_pocket_anvil",
["action"] = "elementium_pocket_anvil",
["use_off_gcd"] = 1,
},
{
["enabled"] = true,
["action"] = "algethar_puzzle_box",
["use_off_gcd"] = 1,
["name"] = "algethar_puzzle_box",
["criteria"] = "( ! buff.ascendance.up & ! buff.feral_spirit.up & ! buff.doom_winds.up ) || ( talent.ascendance.enabled & ( cooldown.ascendance.remains < 2 * action.stormstrike.gcd ) ) || ( fight_remains % 180 <= 30 )",
},
{
["enabled"] = true,
["action"] = "trinket1",
["criteria"] = "! variable.trinket1_is_weird & ( ( talent.ascendance.enabled & ( buff.ascendance.remains > 12.5 || cooldown.ascendance.remains > fight_remains ) ) || ( talent.deeply_rooted_elements.enabled & ( buff.ascendance.up || trinket.t1.has_use_buff & fight_remains = 20 ) ) )",
["slot"] = "trinket1",
},
{
["enabled"] = true,
["action"] = "trinket2",
["criteria"] = "! variable.trinket2_is_weird & ( ( talent.ascendance.enabled & ( buff.ascendance.remains > 12.5 || cooldown.ascendance.remains > fight_remains ) ) || ( talent.deeply_rooted_elements.enabled & ( buff.ascendance.up || trinket.t2.has_use_buff & fight_remains = 20 ) ) )",
["slot"] = "trinket2",
},
{
["enabled"] = true,
["action"] = "trinket1",
["criteria"] = "! variable.trinket1_is_weird & ( ! talent.ascendance.enabled & ! talent.deeply_rooted_elements.enabled ) & ( ( trinket.t1.has_use_buff & fight_remains <= 20 ) || ( buff.splintered_elements.up || buff.doom_winds.up || buff.feral_spirit.up || ( ! talent.splintered_elements.enabled & ! talent.doom_winds.enabled & ! talent.feral_spirit.enabled ) ) || ( variable.min_talented_cd_remains >= trinket.t1.cooldown.duration ) )",
["slot"] = "trinket1",
},
{
["enabled"] = true,
["action"] = "trinket2",
["criteria"] = "! variable.trinket2_is_weird & ( ! talent.ascendance.enabled & ! talent.deeply_rooted_elements.enabled ) & ( ( trinket.t2.has_use_buff & fight_remains <= 20 ) || ( buff.splintered_elements.up || buff.doom_winds.up || buff.feral_spirit.up || ( ! talent.splintered_elements.enabled & ! talent.doom_winds.enabled & ! talent.feral_spirit.enabled ) ) || ( variable.min_talented_cd_remains >= trinket.t2.cooldown.duration ) )",
["slot"] = "trinket2",
},
{
["enabled"] = true,
["action"] = "beacon_to_the_beyond",
["use_off_gcd"] = 1,
["name"] = "beacon_to_the_beyond",
["criteria"] = "( ! buff.ascendance.up & ! buff.feral_spirit.up & ! buff.doom_winds.up ) || ( fight_remains % 150 <= 5 )",
},
{
["enabled"] = true,
["action"] = "manic_grieftorch",
["use_off_gcd"] = 1,
["name"] = "manic_grieftorch",
["criteria"] = "( ! buff.ascendance.up & ! buff.feral_spirit.up & ! buff.doom_winds.up ) || ( fight_remains % 120 <= 5 )",
},
{
["enabled"] = true,
["action"] = "unyielding_netherprism",
["use_off_gcd"] = 1,
["name"] = "unyielding_netherprism",
["criteria"] = "( buff.ascendance.remains > 7.5 ) || ( fight_remains <= 20 )",
},
{
["enabled"] = true,
["action"] = "trinket1",
["criteria"] = "! variable.trinket1_is_weird & ! trinket.t1.has_use_buff",
["slot"] = "trinket1",
},
{
["enabled"] = true,
["action"] = "trinket2",
["criteria"] = "! variable.trinket2_is_weird & ! trinket.t2.has_use_buff",
["slot"] = "trinket2",
},
{
["enabled"] = true,
["criteria"] = "( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || boss & ( fight_remains % action.blood_fury.cooldown <= action.blood_fury.duration ) || ( variable.min_talented_cd_remains >= action.blood_fury.cooldown ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
["action"] = "blood_fury",
},
{
["enabled"] = true,
["criteria"] = "( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || boss & ( fight_remains % action.berserking.cooldown <= action.berserking.duration ) || ( variable.min_talented_cd_remains >= action.berserking.cooldown ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
["action"] = "berserking",
},
{
["enabled"] = true,
["criteria"] = "( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || ( boss & fight_remains % action.fireblood.cooldown <= action.fireblood.duration ) || ( variable.min_talented_cd_remains >= action.fireblood.cooldown ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
["action"] = "fireblood",
},
{
["enabled"] = true,
["criteria"] = "( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || boss & ( fight_remains % action.ancestral_call.cooldown <= action.ancestral_call.duration ) || ( variable.min_talented_cd_remains >= action.ancestral_call.cooldown ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
["action"] = "ancestral_call",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "active_enemies = 1 & ! talent.surging_totem.enabled",
["list_name"] = "single",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "active_enemies = 1 & talent.surging_totem.enabled",
["list_name"] = "single_totemic",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "active_enemies > 1 & ! toggle.funnel & ! talent.surging_totem.enabled",
["list_name"] = "aoe",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "active_enemies > 1 & ! toggle.funnel & talent.surging_totem.enabled",
["list_name"] = "aoe_totemic",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "active_enemies > 1 & toggle.funnel",
["list_name"] = "funnel",
},
},
["aoe_totemic"] = {
{
["enabled"] = true,
["action"] = "call_action_list",
["criteria"] = "time <= 16 & ( cooldown.doom_winds.remains = 0 || cooldown.sundering.remains = 0 || ! buff.hot_hand.up )",
["strict_if"] = "time <= 16",
["list_name"] = "aoe_totemic_open",
},
{
["action"] = "surging_totem",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "ti_chain_lightning",
["action"] = "ascendance",
},
{
["enabled"] = true,
["criteria"] = "talent.crashing_storms.enabled & ( active_enemies >= 15 - 5 * talent.unruly_winds.enabled )",
["action"] = "crash_lightning",
},
{
["enabled"] = true,
["criteria"] = "( cooldown.doom_winds.remains > 15 || cooldown.doom_winds.remains <= 7 ) || buff.earthen_weapon.stack >= 2 || fight_remains <= 16",
["action"] = "feral_spirit",
},
{
["enabled"] = true,
["criteria"] = "( buff.maelstrom_weapon.stack >= 10 ) & ( cooldown.doom_winds.remains > 3 ) & ( buff.doom_winds.remains <= 3 || ! buff.doom_winds.up & cooldown.doom_winds.remains > 15 || buff.earthen_weapon.stack >= 4 ) || buff.primordial_storm.remains < 3 * gcd.max",
["action"] = "primordial_storm",
},
{
["enabled"] = true,
["criteria"] = "! ticking & ( talent.ashen_catalyst.enabled || talent.primordial_wave.enabled ) & ! variable.flame_shock_saturated",
["action"] = "flame_shock",
},
{
["action"] = "doom_winds",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "dot.flame_shock.ticking & variable.flame_shock_saturated",
["action"] = "primordial_wave",
},
{
["action"] = "windstrike",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "buff.hot_hand.up",
["action"] = "lava_lash",
},
{
["enabled"] = true,
["criteria"] = "( ! buff.whirling_air.up & ! buff.whirling_fire.up & ! buff.whirling_earth.up ) & pet.surging_totem.remains >= 10",
["action"] = "totemic_recall",
},
{
["enabled"] = true,
["criteria"] = "buff.electrostatic_wager.stack > 8",
["action"] = "crash_lightning",
},
{
["enabled"] = true,
["criteria"] = "buff.doom_winds.up || talent.earthsurge.enabled & ( buff.legacy_of_the_frost_witch.up || ! talent.legacy_of_the_frost_witch.enabled ) & pet.surging_totem.active",
["action"] = "sundering",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack >= 10 & buff.electrostatic_wager.stack > 4 & ! buff.cl_crash_lightning.up & buff.doom_winds.up",
["action"] = "chain_lightning",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack >= 10",
["action"] = "elemental_blast",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack >= 10 & ( buff.primordial_storm.down || buff.primordial_storm.remains > gcd.max * 4 )",
["action"] = "chain_lightning",
},
{
["enabled"] = true,
["criteria"] = "buff.doom_winds.up || ! buff.crash_lightning.up || ( talent.alpha_wolf.enabled & feral_spirit.active & alpha_wolf_min_remains = 0 )",
["action"] = "crash_lightning",
},
{
["action"] = "voltaic_blaze",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "( dot.flame_shock.ticking & variable.flame_shock_saturated ) & pet.searing_totem.active",
["action"] = "fire_nova",
},
{
["enabled"] = true,
["criteria"] = "talent.molten_assault.enabled & dot.flame_shock.ticking",
["action"] = "lava_lash",
},
{
["enabled"] = true,
["criteria"] = "talent.hailstorm.enabled & buff.hailstorm.up & pet.searing_totem.active",
["action"] = "frost_shock",
},
{
["enabled"] = true,
["criteria"] = "talent.crashing_storms.enabled",
["action"] = "crash_lightning",
},
{
["enabled"] = true,
["criteria"] = "dot.flame_shock.ticking & variable.flame_shock_saturated",
["action"] = "fire_nova",
},
{
["enabled"] = true,
["criteria"] = "talent.hailstorm.enabled & buff.hailstorm.up",
["action"] = "frost_shock",
},
{
["action"] = "crash_lightning",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "talent.hailstorm.enabled & ! buff.ice_strike.up",
["action"] = "ice_strike",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack >= 5 & ( buff.primordial_storm.down || buff.primordial_storm.remains > gcd.max * 4 )",
["action"] = "elemental_blast",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack >= 5 & ( buff.primordial_storm.down || buff.primordial_storm.remains > gcd.max * 4 )",
["action"] = "chain_lightning",
},
{
["action"] = "stormstrike",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "buff.doom_winds.up || talent.earthsurge.enabled & ( buff.legacy_of_the_frost_witch.up || ! talent.legacy_of_the_frost_witch.enabled ) & pet.surging_totem.active",
["action"] = "sundering",
},
{
["enabled"] = true,
["criteria"] = "variable.flame_shock_saturated & active_enemies >= 4",
["action"] = "fire_nova",
},
{
["action"] = "voltaic_blaze",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "talent.hailstorm.enabled & ! buff.ice_strike.up",
["action"] = "ice_strike",
},
{
["enabled"] = true,
["criteria"] = "talent.hailstorm.enabled & buff.hailstorm.up",
["action"] = "frost_shock",
},
{
["enabled"] = true,
["criteria"] = "( buff.legacy_of_the_frost_witch.up || ! talent.legacy_of_the_frost_witch.enabled ) & pet.surging_totem.active",
["action"] = "sundering",
},
{
["enabled"] = true,
["criteria"] = "talent.molten_assault.enabled & ! ticking",
["action"] = "flame_shock",
},
{
["enabled"] = true,
["criteria"] = "active_dot.flame_shock >= 3",
["action"] = "fire_nova",
},
{
["action"] = "ice_strike",
["enabled"] = true,
},
{
["action"] = "lava_lash",
["enabled"] = true,
},
{
["action"] = "crash_lightning",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "! ticking",
["action"] = "flame_shock",
},
},
["aoe"] = {
{
["enabled"] = true,
["criteria"] = "talent.elemental_spirits.enabled || talent.alpha_wolf.enabled",
["action"] = "feral_spirit",
["description"] = "Multi target action priority list",
},
{
["enabled"] = true,
["action"] = "call_action_list",
["strict"] = 1,
["criteria"] = "time < 15",
["list_name"] = "aoe_open",
},
{
["enabled"] = true,
["criteria"] = "talent.molten_assault.enabled & ! ticking",
["action"] = "flame_shock",
},
{
["enabled"] = true,
["criteria"] = "dot.flame_shock.ticking & variable.flame_shock_saturated & ( buff.tempest.up || tempest_mael_count <= 35 )",
["action"] = "primordial_wave",
},
{
["enabled"] = true,
["criteria"] = "( dot.flame_shock.ticking || ! talent.molten_assault.enabled ) & ti_chain_lightning",
["action"] = "ascendance",
},
{
["enabled"] = true,
["action"] = "tempest",
["criteria"] = "buff.maelstrom_weapon.stack >= 9 & ! buff.ascendance.up & ( cooldown.primordial_wave.remains > 15 || buff.tempest.max_stack )",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "windstrike",
["criteria"] = "talent.thorims_invocation.enabled & buff.maelstrom_weapon.stack >= 10 & ti_chain_lightning & buff.tempest.up",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "( cooldown.doom_winds.remains > 30 || cooldown.doom_winds.remains < 7 )",
["action"] = "feral_spirit",
},
{
["action"] = "doom_winds",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "( buff.maelstrom_weapon.stack >= 10 ) & ( buff.doom_winds.up || ! talent.doom_winds.enabled || ( cooldown.doom_winds.remains > buff.primordial_storm.remains ) || ( buff.primordial_storm.remains < 2 * gcd.max ) )",
["action"] = "primordial_storm",
},
{
["enabled"] = true,
["criteria"] = "talent.converging_storms.enabled & buff.electrostatic_wager.stack > 6 || ! buff.crash_lightning.up || ( buff.maelstrom_weapon.stack < 2 & buff.ascendance.up & buff.tempest.up )",
["action"] = "crash_lightning",
},
{
["enabled"] = true,
["criteria"] = "( buff.maelstrom_weapon.stack < 6 & buff.ascendance.up & ( buff.ascendance.remains >= gcd.max * 2 ) & buff.tempest.up )",
["action"] = "voltaic_blaze",
},
{
["enabled"] = true,
["criteria"] = "( buff.maelstrom_weapon.stack < 6 & buff.ascendance.up & ( buff.ascendance.remains >= gcd.max * 2 ) & buff.tempest.up )",
["action"] = "sundering",
},
{
["enabled"] = true,
["action"] = "chain_lightning",
["criteria"] = "buff.maelstrom_weapon.stack >= 10 & buff.ascendance.up & ! buff.tempest.up",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "windstrike",
["criteria"] = "talent.thorims_invocation.enabled & buff.maelstrom_weapon.stack > 0 & ti_chain_lightning",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack >= 5 & ( ( buff.tempest.up & tww3_procs_to_asc <= 1 ) || ( buff.tempest.max_stack & cooldown.ascendance.remains <= 2 & talent.ascendance.enabled ) )",
["action"] = "tempest",
},
{
["enabled"] = true,
["criteria"] = "talent.converging_storms.enabled & talent.alpha_wolf.enabled",
["action"] = "crash_lightning",
},
{
["enabled"] = true,
["criteria"] = "buff.converging_storms.stack = 6 & buff.stormblast.stack > 0 & buff.legacy_of_the_frost_witch.up & buff.maelstrom_weapon.stack <= 8",
["action"] = "stormstrike",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack <= 8",
["action"] = "crash_lightning",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack <= 8",
["action"] = "voltaic_blaze",
},
{
["enabled"] = true,
["action"] = "chain_lightning",
["criteria"] = "buff.maelstrom_weapon.stack >= 7 & ! buff.primordial_storm.up",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "variable.flame_shock_saturated & active_enemies >= 4",
["action"] = "fire_nova",
},
{
["action"] = "sundering",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "talent.stormblast.enabled & talent.stormflurry.enabled",
["action"] = "stormstrike",
},
{
["action"] = "voltaic_blaze",
["enabled"] = true,
},
{
["enabled"] = true,
["action"] = "lava_lash",
["criteria"] = "talent.lashing_flames.enabled || talent.molten_assault.enabled & dot.flame_shock.ticking",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "talent.hailstorm.enabled & ! buff.ice_strike.up",
["action"] = "ice_strike",
},
{
["enabled"] = true,
["criteria"] = "talent.hailstorm.enabled & buff.hailstorm.up",
["action"] = "frost_shock",
},
{
["action"] = "sundering",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "talent.molten_assault.enabled & ! ticking",
["action"] = "flame_shock",
},
{
["enabled"] = true,
["action"] = "flame_shock",
["criteria"] = "( talent.fire_nova.enabled || talent.primordial_wave.enabled ) & ! variable.flame_shock_saturated",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "active_dot.flame_shock >= 3",
["action"] = "fire_nova",
},
{
["enabled"] = true,
["criteria"] = "buff.crash_lightning.up & ( talent.deeply_rooted_elements.enabled || buff.converging_storms.stack = buff.converging_storms.max_stack )",
["action"] = "stormstrike",
},
{
["enabled"] = true,
["criteria"] = "talent.crashing_storms.enabled & buff.cl_crash_lightning.up",
["action"] = "crash_lightning",
},
{
["action"] = "windstrike",
["enabled"] = true,
},
{
["action"] = "stormstrike",
["enabled"] = true,
},
{
["action"] = "ice_strike",
["enabled"] = true,
},
{
["action"] = "lava_lash",
["enabled"] = true,
},
{
["action"] = "crash_lightning",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "active_dot.flame_shock >= 2",
["action"] = "fire_nova",
},
{
["enabled"] = true,
["action"] = "chain_lightning",
["criteria"] = "buff.maelstrom_weapon.stack >= 5 & ! buff.primordial_storm.up",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "! ticking",
["action"] = "flame_shock",
},
{
["enabled"] = true,
["criteria"] = "! talent.hailstorm.enabled",
["action"] = "frost_shock",
},
},
["single_totemic"] = {
{
["enabled"] = true,
["action"] = "call_action_list",
["description"] = "Single target action priority list for the Totemic hero talent tree",
["strict_if"] = "time < 20",
["criteria"] = "time < 20 & ( cooldown.doom_winds.remains = 0 || cooldown.sundering.remains = 0 || ! buff.hot_hand.up )",
["list_name"] = "single_totemic_open",
},
{
["action"] = "surging_totem",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "ti_lightning_bolt & pet.surging_totem.remains > 4 & ( buff.totemic_rebound.stack >= 3 || buff.maelstrom_weapon.stack > 0 )",
["action"] = "ascendance",
},
{
["enabled"] = true,
["criteria"] = "! ticking & ( talent.ashen_catalyst.enabled || talent.primordial_wave.enabled )",
["action"] = "flame_shock",
},
{
["enabled"] = true,
["criteria"] = "buff.hot_hand.up",
["action"] = "lava_lash",
},
{
["enabled"] = true,
["criteria"] = "fight_remains < 16 || ( ( cooldown.doom_winds.remains > 23 || cooldown.doom_winds.remains < 7 || buff.winning_streak.stack = 1 & buff.maelstrom_weapon.stack > 7 ) & ( cooldown.primordial_wave.remains < 20 || buff.primordial_storm.up || ! talent.primordial_storm.enabled ) )",
["action"] = "feral_spirit",
},
{
["action"] = "primordial_wave",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "! talent.legacy_of_the_frost_witch.enabled || buff.legacy_of_the_frost_witch.up",
["action"] = "doom_winds",
},
{
["enabled"] = true,
["criteria"] = "( buff.maelstrom_weapon.stack >= 10 ) & ( ( cooldown.doom_winds.remains >= buff.primordial_storm.remains ) || buff.doom_winds.up || ! talent.doom_winds.enabled || ( buff.primordial_storm.remains < 2 * gcd.max ) )",
["action"] = "primordial_storm",
},
{
["enabled"] = true,
["criteria"] = "buff.ascendance.up & pet.surging_totem.active & talent.earthsurge.enabled & buff.legacy_of_the_frost_witch.up & buff.totemic_rebound.stack >= 5 & buff.earthen_weapon.stack >= 2",
["action"] = "sundering",
},
{
["enabled"] = true,
["criteria"] = "talent.thorims_invocation.enabled & buff.maelstrom_weapon.stack > 0 & ti_lightning_bolt",
["action"] = "windstrike",
},
{
["enabled"] = true,
["criteria"] = "buff.legacy_of_the_frost_witch.up & ( ( cooldown.ascendance.remains >= 10 & talent.ascendance.enabled ) || ! talent.ascendance.enabled ) & pet.surging_totem.active & buff.totemic_rebound.stack >= 3 & ! buff.ascendance.up",
["action"] = "sundering",
},
{
["enabled"] = true,
["criteria"] = "talent.unrelenting_storms.enabled & talent.alpha_wolf.enabled & alpha_wolf_min_remains = 0",
["action"] = "crash_lightning",
},
{
["enabled"] = true,
["criteria"] = "! talent.thorims_invocation.enabled & buff.maelstrom_weapon.stack >= 10 & buff.whirling_air.down",
["action"] = "lava_burst",
},
{
["enabled"] = true,
["criteria"] = "( buff.maelstrom_weapon.stack >= 10 ) & ( buff.primordial_storm.down || buff.primordial_storm.remains > 4 )",
["action"] = "elemental_blast",
},
{
["enabled"] = true,
["criteria"] = "buff.doom_winds.up & buff.legacy_of_the_frost_witch.up",
["action"] = "stormstrike",
},
{
["enabled"] = true,
["criteria"] = "( buff.maelstrom_weapon.stack >= 10 ) & ( buff.primordial_storm.down || buff.primordial_storm.remains > 4 )",
["action"] = "lightning_bolt",
},
{
["enabled"] = true,
["criteria"] = "buff.electrostatic_wager.stack > 4",
["action"] = "crash_lightning",
},
{
["enabled"] = true,
["criteria"] = "buff.doom_winds.up || buff.stormblast.stack > 1",
["action"] = "stormstrike",
},
{
["enabled"] = true,
["criteria"] = "buff.whirling_fire.up || buff.ashen_catalyst.stack >= 8",
["action"] = "lava_lash",
},
{
["action"] = "windstrike",
["enabled"] = true,
},
{
["action"] = "stormstrike",
["enabled"] = true,
},
{
["action"] = "lava_lash",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "set_bonus.tww2_4pc",
["action"] = "crash_lightning",
},
{
["action"] = "voltaic_blaze",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "talent.unrelenting_storms.enabled",
["action"] = "crash_lightning",
},
{
["enabled"] = true,
["criteria"] = "! buff.ice_strike.up",
["action"] = "ice_strike",
},
{
["action"] = "crash_lightning",
["enabled"] = true,
},
{
["action"] = "frost_shock",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "active_dot.flame_shock",
["action"] = "fire_nova",
},
{
["action"] = "earth_elemental",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "! talent.voltaic_blaze.enabled",
["action"] = "flame_shock",
},
},
["single_open"] = {
{
["enabled"] = true,
["criteria"] = "! ticking",
["action"] = "flame_shock",
["description"] = "Single target opener priority list",
},
{
["enabled"] = true,
["criteria"] = "active_dot.flame_shock < 3 & ! buff.ascendance.up",
["action"] = "voltaic_blaze",
},
{
["enabled"] = true,
["criteria"] = "buff.maelstrom_weapon.stack >= 4",
["action"] = "primordial_wave",
},
{
["enabled"] = true,
["criteria"] = "buff.legacy_of_the_frost_witch.up || ! talent.legacy_of_the_frost_witch.enabled",
["action"] = "feral_spirit",
},
{
["enabled"] = true,
["criteria"] = "buff.legacy_of_the_frost_witch.up || ! talent.legacy_of_the_frost_witch.enabled",
["action"] = "doom_winds",
},
{
["enabled"] = true,
["criteria"] = "( buff.legacy_of_the_frost_witch.up || ! talent.legacy_of_the_frost_witch.enabled ) & ( buff.maelstrom_weapon.stack >= 6 || ! set_bonus.tww3_4pc )",
["action"] = "ascendance",
},
{
["enabled"] = true,
["criteria"] = "( buff.maelstrom_weapon.stack >= 10 ) & ( buff.legacy_of_the_frost_witch.up || ! talent.legacy_of_the_frost_witch.enabled )",
["action"] = "primordial_storm",
},
{
["action"] = "windstrike",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "( ( buff.maelstrom_weapon.stack >= 5 & ! talent.deeply_rooted_elements.enabled ) || ( talent.deeply_rooted_elements.enabled & buff.maelstrom_weapon.stack >= 7 ) ) & ( ! buff.legacy_of_the_frost_witch.up || buff.ascendance.up || talent.deeply_rooted_elements.enabled )",
["action"] = "elemental_blast",
},
{
["enabled"] = true,
["criteria"] = "( ( buff.maelstrom_weapon.stack >= 5 & ! talent.deeply_rooted_elements.enabled ) || ( talent.deeply_rooted_elements.enabled & buff.maelstrom_weapon.stack >= 7 ) ) & ( ! buff.legacy_of_the_frost_witch.up || buff.ascendance.up || talent.deeply_rooted_elements.enabled )",
["action"] = "tempest",
},
{
["enabled"] = true,
["criteria"] = "( ( buff.maelstrom_weapon.stack >= 5 & ! talent.deeply_rooted_elements.enabled ) || ( talent.deeply_rooted_elements.enabled & buff.maelstrom_weapon.stack >= 7 ) ) & ( ! buff.legacy_of_the_frost_witch.up || buff.ascendance.up || talent.deeply_rooted_elements.enabled )",
["action"] = "lightning_bolt",
},
{
["action"] = "ice_strike",
["enabled"] = true,
},
{
["action"] = "stormstrike",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "set_bonus.tww2_4pc",
["action"] = "crash_lightning",
},
{
["action"] = "voltaic_blaze",
["enabled"] = true,
},
{
["action"] = "lava_lash",
["enabled"] = true,
},
},
["aoe_open"] = {
{
["enabled"] = true,
["criteria"] = "! ticking",
["action"] = "flame_shock",
["description"] = "Multi target opener priority list",
},
{
["enabled"] = true,
["criteria"] = "( buff.electrostatic_wager.stack > 9 & buff.doom_winds.up ) || ! buff.crash_lightning.up",
["action"] = "crash_lightning",
},
{
["enabled"] = true,
["criteria"] = "active_dot.flame_shock < active_enemies & active_dot.flame_shock < 3",
["action"] = "voltaic_blaze",
},
{
["enabled"] = true,
["criteria"] = "talent.molten_assault.enabled & ( talent.primordial_wave.enabled || talent.fire_nova.enabled ) & dot.flame_shock.ticking & ! variable.flame_shock_saturated & active_dot.flame_shock < 3",
["action"] = "lava_lash",
},
{
["enabled"] = true,
["criteria"] = "( buff.maelstrom_weapon.stack >= 4 ) & dot.flame_shock.ticking & variable.flame_shock_saturated",
["action"] = "primordial_wave",
},
{
["enabled"] = true,
["criteria"] = "fight_remains < 16 || buff.maelstrom_weapon.stack >= 9",
["action"] = "feral_spirit",
},
{
["enabled"] = true,
["criteria"] = "buff.legacy_of_the_frost_witch.up || boss & fight_remains < 9",
["action"] = "doom_winds",
},
{
["enabled"] = true,
["criteria"] = "( dot.flame_shock.ticking || ! talent.molten_assault.enabled ) & ti_chain_lightning & ( buff.legacy_of_the_frost_witch.up || ! talent.legacy_of_the_frost_witch.enabled ) & ! buff.doom_winds.up || boss & fight_remains < 16",
["action"] = "ascendance",
},
{
["enabled"] = true,
["criteria"] = "( buff.maelstrom_weapon.stack >= 10 ) & ( buff.legacy_of_the_frost_witch.up || ! talent.legacy_of_the_frost_witch.enabled )",
["action"] = "primordial_storm",
},
{
["enabled"] = true,
["action"] = "tempest",
["criteria"] = "buff.maelstrom_weapon.stack >= 9 & ! buff.ascendance.up",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "( buff.electrostatic_wager.stack > 4 ) || ! buff.crash_lightning.up || ( buff.maelstrom_weapon.stack < 2 & buff.ascendance.up & buff.tempest.up )",
["action"] = "crash_lightning",
},
{
["enabled"] = true,
["criteria"] = "( buff.maelstrom_weapon.stack < 6 & buff.ascendance.up & ( buff.ascendance.remains >= gcd.max * 2 ) & buff.tempest.up )",
["action"] = "voltaic_blaze",
},
{
["enabled"] = true,
["action"] = "windstrike",
["criteria"] = "talent.thorims_invocation.enabled & ti_chain_lightning",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "chain_lightning",
["criteria"] = "buff.maelstrom_weapon.stack >= 5 & ( ! buff.primordial_storm.up || ! buff.legacy_of_the_frost_witch.up ) & buff.doom_winds.up",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["action"] = "chain_lightning",
["criteria"] = "buff.maelstrom_weapon.stack >= 9 & ( ! buff.primordial_storm.up || ! buff.legacy_of_the_frost_witch.up )",
["cycle_targets"] = 1,
},
{
["enabled"] = true,
["criteria"] = "buff.converging_storms.stack = 6 & buff.stormblast.stack > 1",
["action"] = "stormstrike",
},
{
["enabled"] = true,
["criteria"] = "variable.flame_shock_saturated & active_enemies >= 4",
["action"] = "fire_nova",
},
{
["action"] = "crash_lightning",
["enabled"] = true,
},
{
["enabled"] = true,
["criteria"] = "buff.doom_winds.up",
["action"] = "sundering",
},
{
["action"] = "voltaic_blaze",
["enabled"] = true,
},
{
["action"] = "stormstrike",
["enabled"] = true,
},
},
},
["version"] = 20250823,
["warnings"] = "The import for 'precombat' required some automated changes.\nLine 6: Converted 'trinket.1.is.algethar_puzzle_box' to 'trinket.t1.is.algethar_puzzle_box' (1x).\nLine 6: Converted 'trinket.1.is.manic_grieftorch' to 'trinket.t1.is.manic_grieftorch' (1x).\nLine 6: Converted 'trinket.1.is.elementium_pocket_anvil' to 'trinket.t1.is.elementium_pocket_anvil' (1x).\nLine 6: Converted 'trinket.1.is.beacon_to_the_beyond' to 'trinket.t1.is.beacon_to_the_beyond' (1x).\nLine 7: Converted 'trinket.2.is.algethar_puzzle_box' to 'trinket.t2.is.algethar_puzzle_box' (1x).\nLine 7: Converted 'trinket.2.is.manic_grieftorch' to 'trinket.t2.is.manic_grieftorch' (1x).\nLine 7: Converted 'trinket.2.is.elementium_pocket_anvil' to 'trinket.t2.is.elementium_pocket_anvil' (1x).\nLine 7: Converted 'trinket.2.is.beacon_to_the_beyond' to 'trinket.t2.is.beacon_to_the_beyond' (1x).\nLine 8: Converted operations in '((cooldown.feral_spirit.remains%(4*talent.witch_doctors_ancestry.enabled))+1000*!talent.feral_spirit.enabled)>?(cooldown.doom_winds.remains+1000*!talent.doom_winds.enabled)>?(cooldown.ascendance.remains+1000*!talent.ascendance.enabled)' to '((cooldown.feral_spirit.remains/(4*talent.witch_doctors_ancestry.enabled))+1000*!talent.feral_spirit.enabled)>?(cooldown.doom_winds.remains+1000*!talent.doom_winds.enabled)>?(cooldown.ascendance.remains+1000*!talent.ascendance.enabled)'.\n\nThe import for 'default' required some automated changes.\nLine 1: Converted operations in '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%300<=30)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%300<=30)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\nLine 10: Converted operations in '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(talent.ascendance.enabled&(cooldown.ascendance.remains<2*action.stormstrike.gcd))||(fight_remains%%180<=30)' to '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(talent.ascendance.enabled&(cooldown.ascendance.remains<2*action.stormstrike.gcd))||(fight_remains%180<=30)'.\nLine 11: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 12: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 13: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 13: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 13: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 14: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 14: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 14: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 15: Converted operations in '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(fight_remains%%150<=5)' to '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(fight_remains%150<=5)'.\nLine 16: Converted operations in '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(fight_remains%%120<=5)' to '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(fight_remains%120<=5)'.\nLine 18: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 19: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 20: Converted operations in '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%action.blood_fury.cooldown<=action.blood_fury.duration)||(variable.min_talented_cd_remains>=action.blood_fury.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%action.blood_fury.cooldown<=action.blood_fury.duration)||(variable.min_talented_cd_remains>=action.blood_fury.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\nLine 21: Converted operations in '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%action.berserking.cooldown<=action.berserking.duration)||(variable.min_talented_cd_remains>=action.berserking.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%action.berserking.cooldown<=action.berserking.duration)||(variable.min_talented_cd_remains>=action.berserking.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\nLine 22: Converted operations in '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(boss&fight_remains%%action.fireblood.cooldown<=action.fireblood.duration)||(variable.min_talented_cd_remains>=action.fireblood.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(boss&fight_remains%action.fireblood.cooldown<=action.fireblood.duration)||(variable.min_talented_cd_remains>=action.fireblood.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\nLine 23: Converted operations in '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%action.ancestral_call.cooldown<=action.ancestral_call.duration)||(variable.min_talented_cd_remains>=action.ancestral_call.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%action.ancestral_call.cooldown<=action.ancestral_call.duration)||(variable.min_talented_cd_remains>=action.ancestral_call.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\n\nImported 11 action lists.\n",
["author"] = "SimC",
["profile"] = "## https://github.com/simulationcraft/simc/blob/thewarwithin/ActionPriorityLists/default/shaman_enhancement.simc\n## SimulationCraft Commit Sync: 02ddd83\n## Date: 2025-08-19\n\nactions.precombat+=/windfury_weapon\nactions.precombat+=/flametongue_weapon\nactions.precombat+=/skyfury,if=buff.skyfury.down||active_dot.skyfury<group_members\nactions.precombat+=/lightning_shield\nactions.precombat+=/earth_shield,if=talent.elemental_orbit&buff.earth_shield.down\nactions.precombat+=/variable,name=trinket1_is_weird,value=trinket.1.is.algethar_puzzle_box||trinket.1.is.manic_grieftorch||trinket.1.is.elementium_pocket_anvil||trinket.1.is.beacon_to_the_beyond\nactions.precombat+=/variable,name=trinket2_is_weird,value=trinket.2.is.algethar_puzzle_box||trinket.2.is.manic_grieftorch||trinket.2.is.elementium_pocket_anvil||trinket.2.is.beacon_to_the_beyond\nactions.precombat+=/variable,name=min_talented_cd_remains,value=((cooldown.feral_spirit.remains%(4*talent.witch_doctors_ancestry.enabled))+1000*!talent.feral_spirit.enabled)>?(cooldown.doom_winds.remains+1000*!talent.doom_winds.enabled)>?(cooldown.ascendance.remains+1000*!talent.ascendance.enabled)\nactions.precombat+=/variable,name=target_nature_mod,value=(1+debuff.chaos_brand.up*debuff.chaos_brand.value)*(1+(debuff.hunters_mark.up*target.health.pct>=80)*debuff.hunters_mark.value)\nactions.precombat+=/variable,name=expected_lb_funnel,value=action.lightning_bolt.damage*(1+debuff.lightning_rod.up*variable.target_nature_mod*(1+buff.primordial_wave.up*active_dot.flame_shock*buff.primordial_wave.value)*debuff.lightning_rod.value)\nactions.precombat+=/variable,name=expected_cl_funnel,value=action.chain_lightning.damage*(1+debuff.lightning_rod.up*variable.target_nature_mod*(active_enemies>?(3+2*talent.crashing_storms.enabled))*debuff.lightning_rod.value)\nactions.precombat+=/variable,name=flame_shock_saturated,value=((active_dot.flame_shock>=active_enemies)||(active_dot.flame_shock=6))\n\n## actions+=/bloodlust,line_cd=600\nactions+=/potion,if=(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%300<=30)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\n# Interrupt of casts.\nactions+=/wind_shear\nactions+=/lightning_lasso,enabled=0,if=!target.is_boss&debuff.casting.up&debuff.casting.v2=0&debuff.casting.remains>gcd.remains&debuff.casting.remains<gcd.remains+gcd.max\nactions+=/thunderstorm,enabled=0,if=talent.thundershock.enabled&!target.is_boss&debuff.casting.up&debuff.casting.v2=0&debuff.casting.remains>gcd.remains&debuff.casting.remains<gcd.remains+gcd.max\nactions+=/capacitor_totem,enabled=0,if=!target.is_boss&debuff.casting.up&debuff.casting.v2=0&debuff.casting.remains>gcd.remains&debuff.casting.remains<gcd.remains+gcd.max\nactions+=/purge,line_cd=settings.purge_icd,if=buff.dispellable_magic.up\nactions+=/greater_purge,if=buff.dispellable_magic.up\nactions+=/poison_cleansing_totem,enabled=0,if=buff.dispellable_poison.up\nactions+=/use_item,name=elementium_pocket_anvil,use_off_gcd=1\nactions+=/use_item,name=algethar_puzzle_box,use_off_gcd=1,if=(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(talent.ascendance.enabled&(cooldown.ascendance.remains<2*action.stormstrike.gcd))||(fight_remains%%180<=30)\nactions+=/use_item,slot=trinket1,if=!variable.trinket1_is_weird&((talent.ascendance.enabled&(buff.ascendance.remains>12.5||cooldown.ascendance.remains>fight_remains))||(talent.deeply_rooted_elements.enabled&(buff.ascendance.up||trinket.1.has_use_buff&fight_remains=20)))\nactions+=/use_item,slot=trinket2,if=!variable.trinket2_is_weird&((talent.ascendance.enabled&(buff.ascendance.remains>12.5||cooldown.ascendance.remains>fight_remains))||(talent.deeply_rooted_elements.enabled&(buff.ascendance.up||trinket.2.has_use_buff&fight_remains=20)))\nactions+=/use_item,slot=trinket1,if=!variable.trinket1_is_weird&(!talent.ascendance.enabled&!talent.deeply_rooted_elements.enabled)&((trinket.1.has_use_buff&fight_remains<=20)||(buff.splintered_elements.up||buff.doom_winds.up||buff.feral_spirit.up||(!talent.splintered_elements.enabled&!talent.doom_winds.enabled&!talent.feral_spirit.enabled))||(variable.min_talented_cd_remains>=trinket.1.cooldown.duration))\nactions+=/use_item,slot=trinket2,if=!variable.trinket2_is_weird&(!talent.ascendance.enabled&!talent.deeply_rooted_elements.enabled)&((trinket.2.has_use_buff&fight_remains<=20)||(buff.splintered_elements.up||buff.doom_winds.up||buff.feral_spirit.up||(!talent.splintered_elements.enabled&!talent.doom_winds.enabled&!talent.feral_spirit.enabled))||(variable.min_talented_cd_remains>=trinket.2.cooldown.duration))\nactions+=/use_item,name=beacon_to_the_beyond,use_off_gcd=1,if=(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(fight_remains%%150<=5)\nactions+=/use_item,name=manic_grieftorch,use_off_gcd=1,if=(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(fight_remains%%120<=5)\nactions+=/use_item,name=unyielding_netherprism,use_off_gcd=1,if=(buff.ascendance.remains>7.5)||(fight_remains<=20)\nactions+=/use_item,slot=trinket1,if=!variable.trinket1_is_weird&!trinket.1.has_use_buff\nactions+=/use_item,slot=trinket2,if=!variable.trinket2_is_weird&!trinket.2.has_use_buff\nactions+=/blood_fury,if=(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%action.blood_fury.cooldown<=action.blood_fury.duration)||(variable.min_talented_cd_remains>=action.blood_fury.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\nactions+=/berserking,if=(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%action.berserking.cooldown<=action.berserking.duration)||(variable.min_talented_cd_remains>=action.berserking.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\nactions+=/fireblood,if=(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(boss&fight_remains%%action.fireblood.cooldown<=action.fireblood.duration)||(variable.min_talented_cd_remains>=action.fireblood.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\nactions+=/ancestral_call,if=(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%action.ancestral_call.cooldown<=action.ancestral_call.duration)||(variable.min_talented_cd_remains>=action.ancestral_call.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\n## actions+=/invoke_external_buff,name=power_infusion,if=((talent.deeply_rooted_elements.enabled&buff.ascendance.remains>7.5)||(!talent.deeply_rooted_elements.enabled&(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up))||(fight_remains%%120<=20)||(variable.min_talented_cd_remains>=120)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\nactions+=/call_action_list,name=single,strict=1,if=active_enemies=1&!talent.surging_totem.enabled\nactions+=/call_action_list,name=single_totemic,strict=1,if=active_enemies=1&talent.surging_totem.enabled\nactions+=/call_action_list,name=aoe,strict=1,if=active_enemies>1&!toggle.funnel&!talent.surging_totem.enabled\nactions+=/call_action_list,name=aoe_totemic,strict=1,if=active_enemies>1&!toggle.funnel&talent.surging_totem.enabled\nactions+=/call_action_list,name=funnel,strict=1,if=active_enemies>1&toggle.funnel\n\n# Multi target action priority list\nactions.aoe+=/feral_spirit,if=talent.elemental_spirits.enabled||talent.alpha_wolf.enabled\nactions.aoe+=/call_action_list,name=aoe_open,strict=1,if=time<15\nactions.aoe+=/flame_shock,if=talent.molten_assault.enabled&!ticking\nactions.aoe+=/primordial_wave,if=dot.flame_shock.ticking&variable.flame_shock_saturated&(buff.tempest.up||tempest_mael_count<=35)\nactions.aoe+=/ascendance,if=(dot.flame_shock.ticking||!talent.molten_assault.enabled)&ti_chain_lightning\nactions.aoe+=/tempest,cycle_targets=1,if=buff.maelstrom_weapon.stack>=9&!buff.ascendance.up&(cooldown.primordial_wave.remains>15||buff.tempest.max_stack)\nactions.aoe+=/windstrike,cycle_targets=1,if=talent.thorims_invocation.enabled&buff.maelstrom_weapon.stack>=10&ti_chain_lightning&buff.tempest.up\nactions.aoe+=/feral_spirit,if=(cooldown.doom_winds.remains>30||cooldown.doom_winds.remains<7)\nactions.aoe+=/doom_winds\nactions.aoe+=/primordial_storm,if=(buff.maelstrom_weapon.stack>=10)&(buff.doom_winds.up||!talent.doom_winds.enabled||(cooldown.doom_winds.remains>buff.primordial_storm.remains)||(buff.primordial_storm.remains<2*gcd))\nactions.aoe+=/crash_lightning,if=talent.converging_storms.enabled&buff.electrostatic_wager.stack>6||!buff.crash_lightning.up||(buff.maelstrom_weapon.stack<2&buff.ascendance.up&buff.tempest.up)\nactions.aoe+=/voltaic_blaze,if=(buff.maelstrom_weapon.stack<6&buff.ascendance.up&(buff.ascendance.remains>=gcd*2)&buff.tempest.up)\nactions.aoe+=/sundering,if=(buff.maelstrom_weapon.stack<6&buff.ascendance.up&(buff.ascendance.remains>=gcd*2)&buff.tempest.up)\nactions.aoe+=/chain_lightning,cycle_targets=1,if=buff.maelstrom_weapon.stack>=10&buff.ascendance.up&!buff.tempest.up\nactions.aoe+=/windstrike,cycle_targets=1,if=talent.thorims_invocation.enabled&buff.maelstrom_weapon.stack>0&ti_chain_lightning\nactions.aoe+=/tempest,if=buff.maelstrom_weapon.stack>=5&((buff.tempest.up&tww3_procs_to_asc<=1)||(buff.tempest.max_stack&cooldown.ascendance.remains<=2&talent.ascendance.enabled))\nactions.aoe+=/crash_lightning,if=talent.converging_storms.enabled&talent.alpha_wolf.enabled\nactions.aoe+=/stormstrike,if=buff.converging_storms.stack=6&buff.stormblast.stack>0&buff.legacy_of_the_frost_witch.up&buff.maelstrom_weapon.stack<=8\nactions.aoe+=/crash_lightning,if=buff.maelstrom_weapon.stack<=8\nactions.aoe+=/voltaic_blaze,if=buff.maelstrom_weapon.stack<=8\nactions.aoe+=/chain_lightning,cycle_targets=1,if=buff.maelstrom_weapon.stack>=7&!buff.primordial_storm.up\nactions.aoe+=/fire_nova,if=variable.flame_shock_saturated&active_enemies>=4\nactions.aoe+=/sundering\nactions.aoe+=/stormstrike,if=talent.stormblast.enabled&talent.stormflurry.enabled\nactions.aoe+=/voltaic_blaze\nactions.aoe+=/lava_lash,cycle_targets=1,if=talent.lashing_flames.enabled||talent.molten_assault.enabled&dot.flame_shock.ticking\nactions.aoe+=/ice_strike,if=talent.hailstorm.enabled&!buff.ice_strike.up\nactions.aoe+=/frost_shock,if=talent.hailstorm.enabled&buff.hailstorm.up\nactions.aoe+=/sundering\nactions.aoe+=/flame_shock,if=talent.molten_assault.enabled&!ticking\nactions.aoe+=/flame_shock,cycle_targets=1,if=(talent.fire_nova.enabled||talent.primordial_wave.enabled)&!variable.flame_shock_saturated\nactions.aoe+=/fire_nova,if=active_dot.flame_shock>=3\nactions.aoe+=/stormstrike,if=buff.crash_lightning.up&(talent.deeply_rooted_elements.enabled||buff.converging_storms.stack=buff.converging_storms.max_stack)\nactions.aoe+=/crash_lightning,if=talent.crashing_storms.enabled&buff.cl_crash_lightning.up\nactions.aoe+=/windstrike\nactions.aoe+=/stormstrike\nactions.aoe+=/ice_strike\nactions.aoe+=/lava_lash\nactions.aoe+=/crash_lightning\nactions.aoe+=/fire_nova,if=active_dot.flame_shock>=2\nactions.aoe+=/chain_lightning,cycle_targets=1,if=buff.maelstrom_weapon.stack>=5&!buff.primordial_storm.up\nactions.aoe+=/flame_shock,if=!ticking\nactions.aoe+=/frost_shock,if=!talent.hailstorm.enabled\n\n# Multi target opener priority list\nactions.aoe_open+=/flame_shock,if=!ticking\nactions.aoe_open+=/crash_lightning,if=(buff.electrostatic_wager.stack>9&buff.doom_winds.up)||!buff.crash_lightning.up\nactions.aoe_open+=/voltaic_blaze,if=active_dot.flame_shock<active_enemies&active_dot.flame_shock<3\nactions.aoe_open+=/lava_lash,if=talent.molten_assault.enabled&(talent.primordial_wave.enabled||talent.fire_nova.enabled)&dot.flame_shock.ticking&!variable.flame_shock_saturated&active_dot.flame_shock<3\nactions.aoe_open+=/primordial_wave,if=(buff.maelstrom_weapon.stack>=4)&dot.flame_shock.ticking&variable.flame_shock_saturated\nactions.aoe_open+=/feral_spirit,if=fight_remains<16||buff.maelstrom_weapon.stack>=9\nactions.aoe_open+=/doom_winds,if=buff.legacy_of_the_frost_witch.up||boss&fight_remains<9\nactions.aoe_open+=/ascendance,if=(dot.flame_shock.ticking||!talent.molten_assault.enabled)&ti_chain_lightning&(buff.legacy_of_the_frost_witch.up||!talent.legacy_of_the_frost_witch.enabled)&!buff.doom_winds.up||boss&fight_remains<16\nactions.aoe_open+=/primordial_storm,if=(buff.maelstrom_weapon.stack>=10)&(buff.legacy_of_the_frost_witch.up||!talent.legacy_of_the_frost_witch.enabled)\nactions.aoe_open+=/tempest,cycle_targets=1,if=buff.maelstrom_weapon.stack>=9&!buff.ascendance.up\nactions.aoe_open+=/crash_lightning,if=(buff.electrostatic_wager.stack>4)||!buff.crash_lightning.up||(buff.maelstrom_weapon.stack<2&buff.ascendance.up&buff.tempest.up)\nactions.aoe_open+=/voltaic_blaze,if=(buff.maelstrom_weapon.stack<6&buff.ascendance.up&(buff.ascendance.remains>=gcd*2)&buff.tempest.up)\nactions.aoe_open+=/windstrike,cycle_targets=1,if=talent.thorims_invocation.enabled&ti_chain_lightning\nactions.aoe_open+=/chain_lightning,cycle_targets=1,if=buff.maelstrom_weapon.stack>=5&(!buff.primordial_storm.up||!buff.legacy_of_the_frost_witch.up)&buff.doom_winds.up\nactions.aoe_open+=/chain_lightning,cycle_targets=1,if=buff.maelstrom_weapon.stack>=9&(!buff.primordial_storm.up||!buff.legacy_of_the_frost_witch.up)\nactions.aoe_open+=/stormstrike,if=buff.converging_storms.stack=6&buff.stormblast.stack>1\nactions.aoe_open+=/fire_nova,if=variable.flame_shock_saturated&active_enemies>=4\nactions.aoe_open+=/crash_lightning\nactions.aoe_open+=/sundering,if=buff.doom_winds.up\nactions.aoe_open+=/voltaic_blaze\nactions.aoe_open+=/stormstrike\n\n## Multi target action priority list for the Totemic hero talent tree\nactions.aoe_totemic+=/call_action_list,name=aoe_totemic_open,strict_if=time<=16,if=time<=16&(cooldown.doom_winds.remains=0||cooldown.sundering.remains=0||!buff.hot_hand.up)\nactions.aoe_totemic+=/surging_totem\nactions.aoe_totemic+=/ascendance,if=ti_chain_lightning\nactions.aoe_totemic+=/crash_lightning,if=talent.crashing_storms.enabled&(active_enemies>=15-5*talent.unruly_winds.enabled)\nactions.aoe_totemic+=/feral_spirit,if=(cooldown.doom_winds.remains>15||cooldown.doom_winds.remains<=7)||buff.earthen_weapon.stack>=2||fight_remains<=16\nactions.aoe_totemic+=/primordial_storm,if=(buff.maelstrom_weapon.stack>=10)&(cooldown.doom_winds.remains>3)&(buff.doom_winds.remains<=3||!buff.doom_winds.up&cooldown.doom_winds.remains>15||buff.earthen_weapon.stack>=4)||buff.primordial_storm.remains<3*gcd.max\nactions.aoe_totemic+=/flame_shock,if=!ticking&(talent.ashen_catalyst.enabled||talent.primordial_wave.enabled)&!variable.flame_shock_saturated\nactions.aoe_totemic+=/doom_winds\nactions.aoe_totemic+=/primordial_wave,if=dot.flame_shock.ticking&variable.flame_shock_saturated\nactions.aoe_totemic+=/windstrike\nactions.aoe_totemic+=/lava_lash,if=buff.hot_hand.up\nactions.aoe_totemic+=/totemic_recall,if=(!buff.whirling_air.up&!buff.whirling_fire.up&!buff.whirling_earth.up)&pet.surging_totem.remains>=10\nactions.aoe_totemic+=/crash_lightning,if=buff.electrostatic_wager.stack>8\nactions.aoe_totemic+=/sundering,if=buff.doom_winds.up||talent.earthsurge.enabled&(buff.legacy_of_the_frost_witch.up||!talent.legacy_of_the_frost_witch.enabled)&pet.surging_totem.active\nactions.aoe_totemic+=/chain_lightning,if=buff.maelstrom_weapon.stack>=10&buff.electrostatic_wager.stack>4&!buff.cl_crash_lightning.up&buff.doom_winds.up\nactions.aoe_totemic+=/elemental_blast,if=buff.maelstrom_weapon.stack>=10\nactions.aoe_totemic+=/chain_lightning,if=buff.maelstrom_weapon.stack>=10&(buff.primordial_storm.down||buff.primordial_storm.remains>gcd.max*4)\nactions.aoe_totemic+=/crash_lightning,if=buff.doom_winds.up||!buff.crash_lightning.up||(talent.alpha_wolf.enabled&feral_spirit.active&alpha_wolf_min_remains=0)\nactions.aoe_totemic+=/voltaic_blaze\nactions.aoe_totemic+=/fire_nova,if=(dot.flame_shock.ticking&variable.flame_shock_saturated)&pet.searing_totem.active\nactions.aoe_totemic+=/lava_lash,if=talent.molten_assault.enabled&dot.flame_shock.ticking\nactions.aoe_totemic+=/frost_shock,if=talent.hailstorm.enabled&buff.hailstorm.up&pet.searing_totem.active\nactions.aoe_totemic+=/crash_lightning,if=talent.crashing_storms.enabled\nactions.aoe_totemic+=/fire_nova,if=dot.flame_shock.ticking&variable.flame_shock_saturated\nactions.aoe_totemic+=/frost_shock,if=talent.hailstorm.enabled&buff.hailstorm.up\nactions.aoe_totemic+=/crash_lightning\nactions.aoe_totemic+=/ice_strike,if=talent.hailstorm.enabled&!buff.ice_strike.up\nactions.aoe_totemic+=/elemental_blast,if=buff.maelstrom_weapon.stack>=5&(buff.primordial_storm.down||buff.primordial_storm.remains>gcd.max*4)\nactions.aoe_totemic+=/chain_lightning,if=buff.maelstrom_weapon.stack>=5&(buff.primordial_storm.down||buff.primordial_storm.remains>gcd.max*4)\nactions.aoe_totemic+=/stormstrike\nactions.aoe_totemic+=/sundering,if=buff.doom_winds.up||talent.earthsurge.enabled&(buff.legacy_of_the_frost_witch.up||!talent.legacy_of_the_frost_witch.enabled)&pet.surging_totem.active\nactions.aoe_totemic+=/fire_nova,if=variable.flame_shock_saturated&active_enemies>=4\nactions.aoe_totemic+=/voltaic_blaze\nactions.aoe_totemic+=/ice_strike,if=talent.hailstorm.enabled&!buff.ice_strike.up\nactions.aoe_totemic+=/frost_shock,if=talent.hailstorm.enabled&buff.hailstorm.up\nactions.aoe_totemic+=/sundering,if=(buff.legacy_of_the_frost_witch.up||!talent.legacy_of_the_frost_witch.enabled)&pet.surging_totem.active\nactions.aoe_totemic+=/flame_shock,if=talent.molten_assault.enabled&!ticking\nactions.aoe_totemic+=/fire_nova,if=active_dot.flame_shock>=3\nactions.aoe_totemic+=/ice_strike\nactions.aoe_totemic+=/lava_lash\nactions.aoe_totemic+=/crash_lightning\nactions.aoe_totemic+=/flame_shock,if=!ticking\n\n## Multi target opener priority list for the Totemic hero talent tree\nactions.aoe_totemic_open+=/flame_shock,if=!ticking&!variable.flame_shock_saturated\nactions.aoe_totemic_open+=/lava_lash,if=!pet.surging_totem.active&!variable.flame_shock_saturated\nactions.aoe_totemic_open+=/surging_totem,if=!buff.whirling_air.up&!buff.whirling_fire.up&!buff.whirling_earth.up\nactions.aoe_totemic_open+=/totemic_recall\nactions.aoe_totemic_open+=/flame_shock,if=!ticking\nactions.aoe_totemic_open+=/fire_nova,if=talent.swirling_maelstrom.enabled&dot.flame_shock.ticking&variable.flame_shock_saturated\nactions.aoe_totemic_open+=/primordial_wave,if=variable.flame_shock_saturated\nactions.aoe_totemic_open+=/elemental_blast,if=buff.maelstrom_weapon.stack>=10&!buff.legacy_of_the_frost_witch.up&cooldown.doom_winds.remains=0\nactions.aoe_totemic_open+=/doom_winds,if=buff.legacy_of_the_frost_witch.up\nactions.aoe_totemic_open+=/crash_lightning,if=(buff.electrostatic_wager.stack>9&buff.doom_winds.up)||!buff.crash_lightning.up\nactions.aoe_totemic_open+=/primordial_storm,if=(buff.maelstrom_weapon.stack>=10)&(buff.doom_winds.remains<=gcd.max||!buff.doom_winds.up&cooldown.doom_winds.remains>buff.primordial_storm.remains)\nactions.aoe_totemic_open+=/lava_lash,if=buff.hot_hand.up\nactions.aoe_totemic_open+=/sundering,if=buff.legacy_of_the_frost_witch.up||(buff.earthen_weapon.stack>=2&buff.primordial_storm.up)\nactions.aoe_totemic_open+=/lava_lash,if=(buff.legacy_of_the_frost_witch.up&buff.whirling_fire.up)\nactions.aoe_totemic_open+=/crash_lightning,if=(buff.earthen_weapon.stack>=2&buff.primordial_storm.up&buff.doom_winds.up)\nactions.aoe_totemic_open+=/elemental_blast,if=buff.maelstrom_weapon.stack>=10\nactions.aoe_totemic_open+=/chain_lightning,if=buff.maelstrom_weapon.stack>=10\nactions.aoe_totemic_open+=/frost_shock,if=talent.hailstorm.enabled&buff.hailstorm.up&pet.searing_totem.active\nactions.aoe_totemic_open+=/fire_nova,if=pet.searing_totem.active&dot.flame_shock.ticking&variable.flame_shock_saturated\nactions.aoe_totemic_open+=/ice_strike\nactions.aoe_totemic_open+=/stormstrike,if=buff.maelstrom_weapon.stack<10&!buff.legacy_of_the_frost_witch.up\nactions.aoe_totemic_open+=/lava_lash\nactions.aoe_totemic_open+=/frost_shock,if=talent.hailstorm.enabled&buff.hailstorm.up&pet.searing_totem.active\nactions.aoe_totemic_open+=/crash_lightning,if=talent.crashing_storms.enabled\nactions.aoe_totemic_open+=/fire_nova,if=dot.flame_shock.ticking&variable.flame_shock_saturated\nactions.aoe_totemic_open+=/frost_shock,if=talent.hailstorm.enabled&buff.hailstorm.up\nactions.aoe_totemic_open+=/crash_lightning\nactions.aoe_totemic_open+=/ice_strike,if=talent.hailstorm.enabled&!buff.ice_strike.up\nactions.aoe_totemic_open+=/elemental_blast,if=buff.maelstrom_weapon.stack>=5&!buff.primordial_storm.up\nactions.aoe_totemic_open+=/chain_lightning,if=buff.maelstrom_weapon.stack>=5&!buff.primordial_storm.up\nactions.aoe_totemic_open+=/stormstrike\n\n## Funnel action priority list\nactions.funnel+=/feral_spirit,if=talent.elemental_spirits.enabled\nactions.funnel+=/surging_totem\nactions.funnel+=/ascendance\nactions.funnel+=/windstrike,if=(talent.thorims_invocation.enabled&buff.maelstrom_weapon.stack>0)||buff.converging_storms.stack=buff.converging_storms.max_stack\nactions.funnel+=/tempest,if=buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack||(buff.maelstrom_weapon.stack>=5&(tempest_mael_count>30||buff.awakening_storms.stack=2))\nactions.funnel+=/lightning_bolt,if=variable.flame_shock_saturated&buff.primordial_wave.up&buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack&(!buff.splintered_elements.up||fight_remains<=12||raid_event.adds.remains<=gcd)\nactions.funnel+=/elemental_blast,if=buff.maelstrom_weapon.stack>=5&talent.elemental_spirits.enabled&feral_spirit.active>=4\nactions.funnel+=/lightning_bolt,if=talent.supercharge.enabled&buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack&(variable.expected_lb_funnel>variable.expected_cl_funnel)\nactions.funnel+=/chain_lightning,if=(talent.supercharge.enabled&buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack)||buff.arc_discharge.up&buff.maelstrom_weapon.stack>=5\nactions.funnel+=/lava_lash,if=(talent.molten_assault.enabled&dot.flame_shock.ticking&!variable.flame_shock_saturated)||(talent.ashen_catalyst.enabled&buff.ashen_catalyst.stack=buff.ashen_catalyst.max_stack)\nactions.funnel+=/primordial_wave,cycle_targets=1,if=!buff.primordial_wave.up\nactions.funnel+=/elemental_blast,if=(!talent.elemental_spirits.enabled||(talent.elemental_spirits.enabled&(charges=max_charges||buff.feral_spirit.up)))&buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack\nactions.funnel+=/feral_spirit\nactions.funnel+=/doom_winds\nactions.funnel+=/stormstrike,if=buff.converging_storms.stack=buff.converging_storms.max_stack\nactions.funnel+=/lava_burst,if=(buff.molten_weapon.stack>buff.crackling_surge.stack)&buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack\nactions.funnel+=/lightning_bolt,if=buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack&(variable.expected_lb_funnel>variable.expected_cl_funnel)\nactions.funnel+=/chain_lightning,if=buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack\nactions.funnel+=/crash_lightning,if=buff.doom_winds.up||!buff.crash_lightning.up||(talent.alpha_wolf.enabled&feral_spirit.active&alpha_wolf_min_remains=0)||(talent.converging_storms.enabled&buff.converging_storms.stack<buff.converging_storms.max_stack)\nactions.funnel+=/sundering,if=buff.doom_winds.up||talent.earthsurge.enabled\nactions.funnel+=/fire_nova,if=variable.flame_shock_saturated&active_enemies>=4\nactions.funnel+=/ice_strike,if=talent.hailstorm.enabled&!buff.ice_strike.up\nactions.funnel+=/frost_shock,if=talent.hailstorm.enabled&buff.hailstorm.up\nactions.funnel+=/sundering\nactions.funnel+=/flame_shock,if=talent.molten_assault.enabled&!ticking\nactions.funnel+=/flame_shock,cycle_targets=1,if=(talent.fire_nova.enabled||talent.primordial_wave.enabled)&(active_dot.flame_shock<active_enemies)&active_dot.flame_shock<6\nactions.funnel+=/fire_nova,if=active_dot.flame_shock>=3\nactions.funnel+=/stormstrike,if=buff.crash_lightning.up&talent.deeply_rooted_elements.enabled\nactions.funnel+=/crash_lightning,if=talent.crashing_storms.enabled&buff.cl_crash_lightning.up&active_enemies>=4\nactions.funnel+=/windstrike\nactions.funnel+=/stormstrike\nactions.funnel+=/ice_strike\nactions.funnel+=/lava_lash\nactions.funnel+=/crash_lightning\nactions.funnel+=/fire_nova,if=active_dot.flame_shock>=2\nactions.funnel+=/elemental_blast,if=(!talent.elemental_spirits.enabled||(talent.elemental_spirits.enabled&(charges=max_charges||buff.feral_spirit.up)))&buff.maelstrom_weapon.stack>=5\nactions.funnel+=/lava_burst,if=(buff.molten_weapon.stack>buff.crackling_surge.stack)&buff.maelstrom_weapon.stack>=5\nactions.funnel+=/lightning_bolt,if=buff.maelstrom_weapon.stack>=5&(variable.expected_lb_funnel>variable.expected_cl_funnel)\nactions.funnel+=/chain_lightning,if=buff.maelstrom_weapon.stack>=5\nactions.funnel+=/flame_shock,if=!ticking\nactions.funnel+=/frost_shock,if=!talent.hailstorm.enabled\n\n# Single target action priority list\nactions.single+=/call_action_list,name=single_open,strict_if=time<=18,if=time<=18&(cooldown.doom_winds.remains=0||cooldown.sundering.remains=0||!buff.hot_hand.up)\nactions.single+=/primordial_storm,if=(buff.maelstrom_weapon.stack>=10||buff.primordial_storm.remains<=4&buff.maelstrom_weapon.stack>=5)\nactions.single+=/feral_spirit,if=(cooldown.doom_winds.remains>25||cooldown.doom_winds.remains<=5)\nactions.single+=/doom_winds,if=(!buff.ascendance.up||(buff.tempest.up&buff.ascendance.remains>1*gcd&buff.maelstrom_weapon.stack<=9))&set_bonus.tww3_4pc\nactions.single+=/ice_strike,if=buff.tempest.up&buff.ascendance.remains>5*gcd&buff.maelstrom_weapon.stack<=1\nactions.single+=/lava_lash,if=(buff.hot_hand.up&buff.ashen_catalyst.stack=buff.ashen_catalyst.max_stack)&(buff.tempest.up&buff.ascendance.remains>5*gcd&buff.maelstrom_weapon.stack<=1)\nactions.single+=/flame_shock,if=!ticking&(talent.ashen_catalyst.enabled||talent.primordial_wave.enabled||talent.lashing_flames.enabled)&!buff.ascendance.up&!talent.voltaic_blaze.enabled\nactions.single+=/windstrike,if=talent.thorims_invocation.enabled&buff.maelstrom_weapon.stack>0&ti_lightning_bolt\nactions.single+=/doom_winds\nactions.single+=/primordial_wave\nactions.single+=/ice_strike,if=buff.tempest.up&tww3_procs_to_asc=1&buff.maelstrom_weapon.stack<=8\nactions.single+=/voltaic_blaze,if=buff.tempest.up&tww3_procs_to_asc=1&buff.maelstrom_weapon.stack<=6\nactions.single+=/frost_shock,if=buff.tempest.up&tww3_procs_to_asc=1&buff.maelstrom_weapon.stack<=6&buff.hailstorm.stack=10&buff.ice_strike.up&talent.swirling_maelstrom.enabled\nactions.single+=/natures_swiftness,if=buff.tempest.up&tww3_procs_to_asc=1&buff.maelstrom_weapon.stack<=4\nactions.single+=/tempest,if=(buff.maelstrom_weapon.stack>=5||buff.natures_swiftness.up)&(buff.tempest.up&tww3_procs_to_asc=1||buff.tempest.max_stack&cooldown.ascendance.remains<=2&talent.ascendance.enabled)&set_bonus.tww3_4pc\nactions.single+=/ascendance,if=(dot.flame_shock.ticking||!talent.primordial_wave.enabled||!talent.ashen_catalyst.enabled)\nactions.single+=/tempest,if=((buff.maelstrom_weapon.stack>=5)||(talent.deeply_rooted_elements.enabled&buff.maelstrom_weapon.stack>=5))&(buff.tempest.stack=buff.tempest.max_stack&(tempest_mael_count>30||buff.awakening_storms.stack=3))\nactions.single+=/elemental_blast,if=buff.maelstrom_weapon.stack>=5&tww3_procs_to_asc=1&((tempest_mael_count+buff.maelstrom_weapon.stack)>=40)&!buff.tempest.up\nactions.single+=/elemental_blast,if=((!talent.overflowing_maelstrom.enabled&buff.maelstrom_weapon.stack>=5)||(buff.maelstrom_weapon.stack>=9&talent.ascendance.enabled)||(talent.deeply_rooted_elements.enabled&buff.maelstrom_weapon.stack>=8))&(charges_fractional>=1.6||set_bonus.tww2_4pc)\nactions.single+=/stormstrike,if=charges_fractional>=2&(buff.maelstrom_weapon.stack<=6)&!buff.tempest.up&tww3_procs_to_asc=1\nactions.single+=/tempest,if=(buff.maelstrom_weapon.stack>=9&talent.ascendance.enabled)||(talent.deeply_rooted_elements.enabled&buff.maelstrom_weapon.stack>=8)\nactions.single+=/elemental_blast,if=((!talent.overflowing_maelstrom.enabled&buff.maelstrom_weapon.stack>=5)||(buff.maelstrom_weapon.stack>=9&talent.ascendance.enabled)||(talent.deeply_rooted_elements.enabled&buff.maelstrom_weapon.stack>=8))&!buff.arc_discharge.up\nactions.single+=/lightning_bolt,if=(buff.maelstrom_weapon.stack>=9&talent.ascendance.enabled)||(talent.deeply_rooted_elements.enabled&buff.maelstrom_weapon.stack>=8)\nactions.single+=/windstrike,if=!talent.thorims_invocation.enabled\nactions.single+=/stormstrike,if=!buff.tempest.up&tww3_procs_to_asc=1\nactions.single+=/crash_lightning,if=(buff.doom_winds.up&buff.electrostatic_wager.stack>1)||buff.electrostatic_wager.stack>8\nactions.single+=/ice_strike,if=(buff.tempest.up||(tempest_mael_count>=30&buff.tempest.up))&tww3_procs_to_asc=1\nactions.single+=/voltaic_blaze,if=tempest_mael_count>=30&tww3_procs_to_asc=1\nactions.single+=/stormstrike,if=buff.doom_winds.up||buff.stormblast.stack>0\nactions.single+=/crash_lightning,if=(talent.unrelenting_storms.enabled&talent.alpha_wolf.enabled&alpha_wolf_min_remains=0)||set_bonus.tww2_4pc\nactions.single+=/voltaic_blaze,if=dot.flame_shock.remains<=4\nactions.single+=/ice_strike\nactions.single+=/stormstrike,if=charges_fractional>=1.8\nactions.single+=/lava_lash,if=(talent.lashing_flames.enabled&(debuff.lashing_flames.remains<2))\nactions.single+=/voltaic_blaze\nactions.single+=/stormstrike\nactions.single+=/crash_lightning,if=talent.unrelenting_storms.enabled\nactions.single+=/elemental_blast,if=buff.maelstrom_weapon.stack>=5&!buff.primordial_storm.up\nactions.single+=/lightning_bolt,if=buff.maelstrom_weapon.stack>=5&!buff.primordial_storm.up\nactions.single+=/lava_lash,if=talent.elemental_assault.enabled&talent.molten_assault.enabled&dot.flame_shock.ticking\nactions.single+=/sundering\nactions.single+=/lava_lash\nactions.single+=/frost_shock,if=buff.hailstorm.up\nactions.single+=/flame_shock,if=!ticking\nactions.single+=/sundering,if=raid_event.adds.in>=action.sundering.cooldown\nactions.single+=/crash_lightning\nactions.single+=/frost_shock\nactions.single+=/fire_nova,if=active_dot.flame_shock\nactions.single+=/earth_elemental\nactions.single+=/flame_shock,if=settings.filler_shock\n\n# Single target opener priority list\nactions.single_open+=/flame_shock,if=!ticking\nactions.single_open+=/voltaic_blaze,if=active_dot.flame_shock<3&!buff.ascendance.up\nactions.single_open+=/primordial_wave,if=buff.maelstrom_weapon.stack>=4\nactions.single_open+=/feral_spirit,if=buff.legacy_of_the_frost_witch.up||!talent.legacy_of_the_frost_witch.enabled\nactions.single_open+=/doom_winds,if=buff.legacy_of_the_frost_witch.up||!talent.legacy_of_the_frost_witch.enabled\nactions.single_open+=/ascendance,if=(buff.legacy_of_the_frost_witch.up||!talent.legacy_of_the_frost_witch.enabled)&(buff.maelstrom_weapon.stack>=6||!set_bonus.tww3_4pc)\nactions.single_open+=/primordial_storm,if=(buff.maelstrom_weapon.stack>=10)&(buff.legacy_of_the_frost_witch.up||!talent.legacy_of_the_frost_witch.enabled)\nactions.single_open+=/windstrike\nactions.single_open+=/elemental_blast,if=((buff.maelstrom_weapon.stack>=5&!talent.deeply_rooted_elements.enabled)||(talent.deeply_rooted_elements.enabled&buff.maelstrom_weapon.stack>=7))&(!buff.legacy_of_the_frost_witch.up||buff.ascendance.up||talent.deeply_rooted_elements.enabled)\nactions.single_open+=/tempest,if=((buff.maelstrom_weapon.stack>=5&!talent.deeply_rooted_elements.enabled)||(talent.deeply_rooted_elements.enabled&buff.maelstrom_weapon.stack>=7))&(!buff.legacy_of_the_frost_witch.up||buff.ascendance.up||talent.deeply_rooted_elements.enabled)\nactions.single_open+=/lightning_bolt,if=((buff.maelstrom_weapon.stack>=5&!talent.deeply_rooted_elements.enabled)||(talent.deeply_rooted_elements.enabled&buff.maelstrom_weapon.stack>=7))&(!buff.legacy_of_the_frost_witch.up||buff.ascendance.up||talent.deeply_rooted_elements.enabled)\nactions.single_open+=/ice_strike\nactions.single_open+=/stormstrike\nactions.single_open+=/crash_lightning,if=set_bonus.tww2_4pc\nactions.single_open+=/voltaic_blaze\nactions.single_open+=/lava_lash\n\n# Single target action priority list for the Totemic hero talent tree\nactions.single_totemic=call_action_list,name=single_totemic_open,strict_if=time<20,if=time<20&(cooldown.doom_winds.remains=0||cooldown.sundering.remains=0||!buff.hot_hand.up)\nactions.single_totemic+=/surging_totem\nactions.single_totemic+=/ascendance,if=ti_lightning_bolt&pet.surging_totem.remains>4&(buff.totemic_rebound.stack>=3||buff.maelstrom_weapon.stack>0)\nactions.single_totemic+=/flame_shock,if=!ticking&(talent.ashen_catalyst.enabled||talent.primordial_wave.enabled)\nactions.single_totemic+=/lava_lash,if=buff.hot_hand.up\nactions.single_totemic+=/feral_spirit,if=fight_remains<16||((cooldown.doom_winds.remains>23||cooldown.doom_winds.remains<7||buff.winning_streak.stack=1&buff.maelstrom_weapon.stack>7)&(cooldown.primordial_wave.remains<20||buff.primordial_storm.up||!talent.primordial_storm.enabled))\nactions.single_totemic+=/primordial_wave\nactions.single_totemic+=/doom_winds,if=!talent.legacy_of_the_frost_witch.enabled||buff.legacy_of_the_frost_witch.up\nactions.single_totemic+=/primordial_storm,if=(buff.maelstrom_weapon.stack>=10)&((cooldown.doom_winds.remains>=buff.primordial_storm.remains)||buff.doom_winds.up||!talent.doom_winds.enabled||(buff.primordial_storm.remains<2*gcd))\nactions.single_totemic+=/sundering,if=buff.ascendance.up&pet.surging_totem.active&talent.earthsurge.enabled&buff.legacy_of_the_frost_witch.up&buff.totemic_rebound.stack>=5&buff.earthen_weapon.stack>=2\nactions.single_totemic+=/windstrike,if=talent.thorims_invocation.enabled&buff.maelstrom_weapon.stack>0&ti_lightning_bolt\nactions.single_totemic+=/sundering,if=buff.legacy_of_the_frost_witch.up&((cooldown.ascendance.remains>=10&talent.ascendance.enabled)||!talent.ascendance.enabled)&pet.surging_totem.active&buff.totemic_rebound.stack>=3&!buff.ascendance.up\nactions.single_totemic+=/crash_lightning,if=talent.unrelenting_storms.enabled&talent.alpha_wolf.enabled&alpha_wolf_min_remains=0\nactions.single_totemic+=/lava_burst,if=!talent.thorims_invocation.enabled&buff.maelstrom_weapon.stack>=10&buff.whirling_air.down\nactions.single_totemic+=/elemental_blast,if=(buff.maelstrom_weapon.stack>=10)&(buff.primordial_storm.down||buff.primordial_storm.remains>4)\nactions.single_totemic+=/stormstrike,if=buff.doom_winds.up&buff.legacy_of_the_frost_witch.up\nactions.single_totemic+=/lightning_bolt,if=(buff.maelstrom_weapon.stack>=10)&(buff.primordial_storm.down||buff.primordial_storm.remains>4)\nactions.single_totemic+=/crash_lightning,if=buff.electrostatic_wager.stack>4\nactions.single_totemic+=/stormstrike,if=buff.doom_winds.up||buff.stormblast.stack>1\nactions.single_totemic+=/lava_lash,if=buff.whirling_fire.up||buff.ashen_catalyst.stack>=8\nactions.single_totemic+=/windstrike\nactions.single_totemic+=/stormstrike\nactions.single_totemic+=/lava_lash\nactions.single_totemic+=/crash_lightning,if=set_bonus.tww2_4pc\nactions.single_totemic+=/voltaic_blaze\nactions.single_totemic+=/crash_lightning,if=talent.unrelenting_storms.enabled\nactions.single_totemic+=/ice_strike,if=!buff.ice_strike.up\nactions.single_totemic+=/crash_lightning\nactions.single_totemic+=/frost_shock\nactions.single_totemic+=/fire_nova,if=active_dot.flame_shock\nactions.single_totemic+=/earth_elemental\nactions.single_totemic+=/flame_shock,if=!talent.voltaic_blaze.enabled\n\n# Single target opener priority list for the Totemic hero talent tree\nactions.single_totemic_open=flame_shock,if=!ticking\nactions.single_totemic_open+=/lava_lash,if=!pet.surging_totem.active&talent.lashing_flames.enabled&debuff.lashing_flames.down\nactions.single_totemic_open+=/surging_totem,if=!buff.whirling_air.up&!buff.whirling_fire.up&!buff.whirling_earth.up\nactions.single_totemic_open+=/totemic_recall\nactions.single_totemic_open+=/primordial_wave\nactions.single_totemic_open+=/feral_spirit,if=!talent.legacy_of_the_frost_witch.enabled||buff.legacy_of_the_frost_witch.up||fight_remains<16\nactions.single_totemic_open+=/doom_winds,if=!talent.legacy_of_the_frost_witch.enabled||buff.legacy_of_the_frost_witch.up||boss&fight_remains<9\nactions.single_totemic_open+=/primordial_storm,if=(buff.maelstrom_weapon.stack>=10)&(buff.legacy_of_the_frost_witch.up||!talent.legacy_of_the_frost_witch.enabled)\nactions.single_totemic_open+=/lava_lash,if=buff.hot_hand.up\nactions.single_totemic_open+=/stormstrike,if=buff.doom_winds.up&buff.legacy_of_the_frost_witch.up\nactions.single_totemic_open+=/sundering,if=buff.legacy_of_the_frost_witch.up\nactions.single_totemic_open+=/elemental_blast,if=buff.maelstrom_weapon.stack=10\nactions.single_totemic_open+=/lightning_bolt,if=buff.maelstrom_weapon.stack=10\nactions.single_totemic_open+=/stormstrike\nactions.single_totemic_open+=/lava_lash",
},
},
["iconStore"] = {
["minimapPos"] = 291.2867819600575,
},
},
},
}
